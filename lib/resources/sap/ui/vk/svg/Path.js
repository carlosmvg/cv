/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

        (c) Copyright 2009-2015 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/base/Log","./Element"],function(L,E){"use strict";var P=function(a){a=a||{};E.call(this,a);this.type="Path";this.segments=a.segments||[];if(a.isTriangleMesh){this.isTriangleMesh=true;}this.setMaterial(a.material);};P.prototype=Object.assign(Object.create(E.prototype),{constructor:P});P.prototype.tagName=function(){return"path";};P.prototype.setMaterial=function(m,i){if(m&&!this.isTriangleMesh){delete m.color;}E.prototype.setMaterial.call(this,m,i);};function p(a,d,r,g,h){var x=a+r*Math.cos(h);var y=d+g*Math.sin(h);return{x:x,y:y};}P.prototype._expandBoundingBox=function(d,m){var s=this.strokeWidth*0.5;for(var g=0,h=this.segments.length;g<h;g++){var j=this.segments[g];if(j.type==="arc"){for(var a=0,n=6;a<n;a++){var k=p(j.cx,j.cy,j.rx,j.ry,j.start+(j.end-j.start)*a/(n-1));this._expandBoundingBoxCE(d,m,k.x,k.y,s,s);}if(j.closed){this._expandBoundingBoxCE(d,m,j.cx,j.cy,s,s);}}else{var o=j.points;for(var i=0,l=o.length-1;i<l;i+=2){this._expandBoundingBoxCE(d,m,o[i],o[i+1],s,s);}}}};function b(d,s){var i,l;var a=s.points;d.push("M",a[0],a[1]);switch(s.degree){case 2:for(i=2,l=a.length-3;i<l;i+=4){d.push("Q",a[i],a[i+1],a[i+2],a[i+3]);}break;case 3:for(i=2,l=a.length-5;i<l;i+=6){d.push("C",a[i],a[i+1],a[i+2],a[i+3],a[i+4],a[i+5]);}break;default:L.warning("Unsupported bezier segment degree:",s.type);break;}}function c(d,s){var a=s.points;d.push("M",a[0],a[1]);for(var i=2,l=a.length-1;i<l;i+=2){d.push("L",a[i],a[i+1]);}if(s.closed){d.push("Z");}}function e(d,s){var a=s.points;for(var i=0,l=a.length-5;i<l;i+=6){d.push("M",a[i],a[i+1],"L",a[i+2],a[i+3],"L",a[i+4],a[i+5],"Z");}}function f(d,s){var a=p(s.cx,s.cy,s.rx,s.ry,s.start);var g=p(s.cx,s.cy,s.rx,s.ry,s.end);d.push("M",a.x,a.y,"A",s.rx,s.ry,"0",Math.abs(s.end-s.start)<Math.PI?"0":"1",s.end>s.start?"1":"0",g.x,g.y);if(s.closed){d.push("L",s.cx,s.cy,"Z");}}P.prototype._setSpecificAttributes=function(s){var d=[];this.segments.forEach(function(a){switch(a.type){case"arc":f(d,a);break;case"bezier":b(d,a);break;case"polyline":c(d,a);break;case"mesh":e(d,a);break;default:L.warning("Unsupported path segment type:",a.type);break;}});if(d.length>0){s("d",d.join(" "));}if(!this.isTriangleMesh){s("stroke-linejoin","round");}};return P;});
