/*!
 * Copyright (c) 2009-2020 SAP SE, All Rights Reserved
 */
sap.ui.define(["sap/m/Button","sap/ushell/library","sap/ushell/resources","./SendAsEmailButtonRenderer"],function(B,l,r,S){"use strict";var a=B.extend("sap.ushell.ui.footerbar.SendAsEmailButton",{metadata:{library:"sap.ushell",properties:{beforePressHandler:{type:"any",group:"Misc",defaultValue:null},afterPressHandler:{type:"any",group:"Misc",defaultValue:null}}}});a.prototype.init=function(){var t=this;if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.setIcon("sap-icon://email");this.setText(r.i18n.getText("sendEmailBtn"));this.setTooltip(r.i18n.getText("sendEmailBtn_tooltip"));this.attachPress(function(){if(t.getBeforePressHandler()){t.getBeforePressHandler()();}this.sendAsEmailPressed(t.getAfterPressHandler());});};a.prototype.sendAsEmailPressed=function(c){if(sap.ushell.Container.runningInIframe&&sap.ushell.Container.runningInIframe()){sap.ui["require"](["sap/ushell/appRuntime/ui5/AppRuntimeService"],function(A){A.sendMessageToOuterShell("sap.ushell.services.ShellUIService.sendEmailWithFLPButton",{"bSetAppStateToPublic":true});});}else{sap.ushell.Container.getService("AppState").setAppStateToPublic(document.URL);sap.m.URLHelper.triggerEmail(null,sap.ushell.resources.i18n.getText("linkTo"),document.URL);}if(c){c();}};return a;},true);
