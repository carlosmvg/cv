// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/ushell/services/_VisualizationInstantiation/VizInstanceAbap","sap/ushell/services/_VisualizationInstantiation/VizInstanceCdm","sap/ushell/services/_VisualizationInstantiation/VizInstanceLaunchPage","sap/m/library","sap/base/util/ObjectPath","sap/ushell/EventHub","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations"],function(V,a,b,c,M,O,E,r){"use strict";var L=M.LoadState;function d(){}d.prototype.instantiateVisualization=function(v){var o;var p=O.get("_instantiationData.platform",v);var e={title:v.title,subtitle:v.subtitle,info:v.info,icon:v.icon,targetURL:v.targetURL,keywords:v.keywords,instantiationData:v._instantiationData,indicatorDataSource:v.indicatorDataSource,contentProviderId:v.contentProviderId,vizConfig:v.vizConfig};if(e.indicatorDataSource){e.indicatorDataSource.ui5object=true;}switch(p){case"ABAP":o=new a(e);break;case"CDM":o=new b(e);break;case"LAUNCHPAGE":o=new c(e);break;default:o=new V({state:L.Failed});}if(r.isStandardVizType(v.vizType)){try{o.load().then(function(){E.emit("VizInstanceLoaded",v.id);});}catch(f){o.setState(L.Failed);E.emit("VizInstanceLoaded",v.id);}}else{E.once("CoreResourcesComplementLoaded").do(function(){try{o.load();}catch(f){o.setState(L.Failed);}});}return o;};d.hasNoAdapter=true;return d;});
