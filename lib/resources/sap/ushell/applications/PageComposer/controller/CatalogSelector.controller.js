// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(C,F,a,b){"use strict";var c=C.extend("sap.ushell.applications.PageComposer.controller.CatalogSelector.controller",{load:function(p){var d=sap.ui.getCore().byId(this._sId);return d?Promise.resolve(d):F.load({id:p.getId(),name:"sap.ushell.applications.PageComposer.view.CatalogSelector",controller:this}).then(function(f){p.addDependent(f);this._sId=f.getId();return f;}.bind(this));},open:function(p){this.load(p).then(function(d){d.getBinding("items").filter([]);d.open();});},onConfirm:function(e){var d=e.getParameter("selectedContexts");if(this._fnConfirm){this._fnConfirm(d.map(function(o){return o.getObject().id;}));}this._fnConfirm=null;},onSearch:function(e){var v=e.getParameter("value");var f=new a([new a("id",b.Contains,v),new a("title",b.Contains,v)]);e.getSource().getBinding("items").filter([f]);},selectCatalogs:function(p,f){this._fnConfirm=f;this.open(p);}});return new c();});
