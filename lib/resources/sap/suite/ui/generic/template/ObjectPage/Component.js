sap.ui.define(["sap/ui/core/mvc/OverrideExecution","sap/suite/ui/generic/template/lib/TemplateAssembler","sap/suite/ui/generic/template/lib/TemplateComponent","sap/suite/ui/generic/template/detailTemplates/detailUtils","sap/suite/ui/generic/template/ObjectPage/controller/ControllerImplementation","sap/suite/ui/generic/template/ObjectPage/controllerFrameworkExtensions","sap/base/util/extend","sap/suite/ui/generic/template/js/AnnotationHelper","sap/ui/model/odata/AnnotationHelper","sap/suite/ui/generic/template/js/preparationHelper","sap/suite/ui/generic/template/js/StableIdHelper","sap/base/util/deepExtend","sap/suite/ui/generic/template/js/staticChecksHelper"],function(O,T,a,d,C,c,e,A,b,p,S,f,s){"use strict";function g(o,h){var v={};var B=d.getComponentBase(o,h,v);var j={oControllerSpecification:{getMethods:C.getMethods.bind(null,v),oControllerDefinition:c,oControllerExtensionDefinition:{provideExtensionStateData:function(i){},restoreExtensionStateData:function(G,i){},ensureFieldsForSelect:function(E,i){},addFilters:function(i,k){}}},getTemplateSpecificParameters:function(m,k,D,l){function G(P,H){var r={};var F=m.getObject(P);if(!Array.isArray(F)){return{};}F.forEach(function(w,i){if(w.RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){Object.assign(r,G(P+"/"+i+"/Facets",H));}else if(w.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&w.Target&&w.Target.AnnotationPath){var x={};var y=w.Target.AnnotationPath.split("/");var z=y.pop().split("#");if(z[0][0]==="@"){x.annotation=z[0].slice(1);}x.qualifier=z[1];x.navigationProperty=y.join("/");if(x.navigationProperty){var I=b.gotoEntitySet(m.getContext(P+"/"+i+"/Target"));x.entitySet=I&&m.getObject(I).name;}else{x.entitySet=l;}if(x.entitySet){x.facetId=S.getStableId({type:"ObjectPage",subType:"Facet",sRecordType:w.RecordType,bIsHeaderFacet:H,sAnnotationPath:w.Target.AnnotationPath,sAnnotationId:w.ID&&w.ID.String});r[A.replaceSpecialCharsInId(w.Target.AnnotationPath)]=x;}}});return r;}function n(w,x){w.multiSelect=w.multiSelect||w.allTableMultiSelect;var L=p.getAnnotation(m,m.getODataEntitySet(w.entitySet).entityType,w.annotation,w.qualifier);var r=p.getNormalizedTableSettings(m,w,D,w.entitySet,x,L);r.variantManagement=!!(w.tableSettings&&w.tableSettings.variantManagement);if(r.onlyForDelete){r.mode=h.isDraftEnabled()?"{= ${ui>/editable} ? '"+r.mode+"' : 'None'}":"{= ${ui>/editable} ? 'None' : '"+r.mode+"'}";}var y=m.getODataEntitySet(w.entitySet);if(r&&r.createWithParameterDialog&&r.createWithParameterDialog.fields){s.checkErrorforCreateWithDialog(m.getODataEntityType(y.entityType),r);}return r;}function q(w){return{variantManagement:!!(w.chartSettings&&w.chartSettings.variantManagement)};}var r={sections:{}};var E=m.getMetaContext("/"+l).getPath();Object.assign(r.sections,G(E+"/com.sap.vocabularies.UI.v1.HeaderFacets",true));Object.assign(r.sections,G(E+"/com.sap.vocabularies.UI.v1.Facets",false));for(var i in r.sections){var M=k.sections&&Object.assign({},k.sections[i],k.sections[r.sections[i].facetId]);r.sections[i]=Object.assign({},M,r.sections[i]);var t=f({},k,r.sections[i]);switch(t.annotation){case"com.sap.vocabularies.UI.v1.LineItem":var u=h.getExtensions();r.sections[i].tableSettings=n(t,u&&u.Sections&&u.Sections[r.sections[i].facetId]&&u.Sections[r.sections[i].facetId].Actions);break;case"com.sap.vocabularies.UI.v1.Chart":r.sections[i].chartSettings=q(t);break;default:break;}}r.breadCrumb=h.getBreadCrumbInfo();return r;},refreshBinding:function(u,r){if(u){h.refreshBindingUnconditional();}else{v.refreshFacets(r);}},presetDisplayMode:function(D,i){if(i){return;}var t=h.getTemplatePrivateModel();t.setProperty("/objectPage/displayMode",D);},showConfirmationOnDraftActivate:function(){return o.getShowConfirmationOnDraftActivate();},beforeRebind:function(w){v.beforeRebind(w);},afterRebind:function(){v.afterRebind();},enhanceExtensionAPI4Reuse:function(E,k){E.setSectionHidden=function(H){var t=h.getTemplatePrivateModel();t.setProperty("/generic/embeddedComponents/"+k.key+"/hidden",H);};E.setTagsInHeader=function(t){var l=v.oController.byId("template::ObjectPage::OverflowToolbar");if(l){var m=l.getContent()[0];l.removeContent(m);l.destroyContent();l.addContent(m);for(var i=0;i<t.length;i++){l.addContent(t[i]);}}};}};return e(B,j);}return T.getTemplateComponent(g,"sap.suite.ui.generic.template.ObjectPage",{metadata:{library:"sap.suite.ui.generic.template",properties:{"templateName":{"type":"string","defaultValue":"sap.suite.ui.generic.template.ObjectPage.view.Details"},"showRelatedApps":{"type":"boolean","defaultValue":"false"},"showConfirmationOnDraftActivate":{"type":"boolean","defaultValue":false},"hideChevronForUnauthorizedExtNav":{"type":"boolean","defaultValue":"false"},"multiSelect":"boolean","allTableMultiSelect":"boolean","editableHeaderContent":{"type":"boolean","defaultValue":"false"},"gridTable":"boolean","tableType":"string",tableSettings:{type:"object",properties:{type:{type:"string",defaultValue:undefined},multiSelect:{type:"boolean",defaultValue:false},inlineDelete:{type:"boolean",defaultValue:false},selectAll:{type:"boolean",defaultValue:false},selectionLimit:{type:"int",defaultValue:200},variantManagement:{type:"boolean",defaultValue:false}}},chartSettings:{type:"object",properties:{variantManagement:{type:"boolean",defaultValue:false}}},"condensedTableLayout":"boolean","sections":"object","simpleHeaderFacets":{"type":"boolean","defaultValue":"false"},"allowDeepLinking":"boolean","navToListOnSave":"boolean","designtimePath":{"type":"string","defaultValue":"sap/suite/ui/generic/template/designtime/ObjectPage.designtime"},"flexibilityPath":{"type":"string","defaultValue":"sap/suite/ui/generic/template/ObjectPage/flexibility/ObjectPage.flexibility"}},"manifest":"json"}});});
