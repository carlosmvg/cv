sap.ui.define(["sap/ui/model/odata/AnnotationHelper","sap/ui/comp/smartfield/SmartField","sap/suite/ui/generic/template/lib/FeLogger","sap/base/strings/formatMessage","sap/base/util/deepExtend","sap/base/security/encodeXML","sap/suite/ui/generic/template/js/RuntimeFormatters","sap/suite/ui/generic/template/js/StableIdHelper","sap/suite/ui/generic/template/lib/testableHelper","sap/ui/Global","sap/ui/Device"],function(A,S,F,f,d,a,R,b,t,D){"use strict";var l=new F("js.AnnotationHelper").getLogger();function E(e,M){var i=M[e];var j=i&&i["sap.ui.generic.app"];return!!(j&&j.enableLazyLoading);}function g(e){l.error("Error creating stable id for facet with RecordType: "+e.RecordType+" and Target: "+(e.Target&&e.Target.AnnotationPath));var i=new Uint32Array(1),j=Math.pow(2,32);var v=window.crypto||window.msCrypto;var w=v&&v.getRandomValues(i)[0]/j;return Math.floor((w*99999)+1).toString();}function c(C,P){var N=false;if(C["Org.OData.Capabilities.V1.SortRestrictions"]&&C["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties){var e=C["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties;for(var i=e.length-1;i>=0;i--){if(e[i].PropertyPath===P){N=true;break;}}}var v=false;if(C["Org.OData.Capabilities.V1.FilterRestrictions"]){if(C["Org.OData.Capabilities.V1.FilterRestrictions"].Filterable!=='false'){if(C["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties){var w=C["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties;for(var j=w.length-1;j>=0;j--){if(w[j].PropertyPath===P){v=true;break;}}}}else{v=true;}}var x={getFilterRestriction:function(){return v;},getSortRestriction:function(){return N;}};return x;}function h(L,e){return!!(L.name&&e&&e.some(function(i){return L.name===i.entitySet;}));}function k(e,i,P,I,j,N){var v=I?"":" && !${ui>/editable}";return"{= ${_templPriv>/generic/supportedIntents/"+e+"/"+i+"/"+P+"/supported}"+v+" ? "+j+" : "+N+"}";}function m(L,e,j,M,v){var N;if(j){N=j.split("/")[0];}if(L&&e){for(var i=0;i<e.length;i++){if(L===e[i].entitySet&&(!N||N===e[i].navigationProperty)&&e[i].navigation&&e[i].navigation[M]){if(v){if(e[i].component&&e[i].component.settings&&e[i].component.settings.hideChevronForUnauthorizedExtNav){return e[i].navigation[M].target;}}else{return e[i].navigation[M].target;}}}}return null;}function n(L,e,M,i,I,j,T){var P=j?"1":"Navigation";if(T){return P;}var N=j?"0":"Inactive";var v=j?"":"'";var O=m(L.name,e,i,"display",true);if(O){var C=M["sap.app"].crossNavigation.outbounds[O];var w=C.semanticObject;var x=C.action;var y=L.name+(i?("::"+i.split("/")[0]):"");return k(w,x,y,I,v+P+v,v+N+v);}if(h(L,e)){return I?P:"{= ${ui>/editable} ? "+v+N+v+" : "+v+P+v+" }";}return N;}function o(L,e,M,i,I){return n(L,e,M,i,I,true);}function p(M,e,P){var i=P;var v=M.getODataEntityType(e);if(i.indexOf("/")>-1){var w=i.split("/");for(var j=0;j<w.length-1;j++){var x=M.getODataAssociationEnd(v,w[j]);v=M.getODataEntityType(x.type);}i=w[w.length-1];}var O=M.getODataProperty(v,i);return(!!O&&O.type==="Edm.Boolean");}function q(e){while(!e.getEntitySet){e=e.getParent();}return e;}function r(C){for(var i=0;i<C.length;i++){if(C[i].getKey()==="lineItemQualifier"){var e=C[i].getValue();if(e){return e;}}}}function s(e,i){var M=i.getModel();var j=M.getMetaModel();var C=q(e.getParent());var v=j.getODataEntitySet(C.getEntitySet());var w=j.getODataEntityType(v.entityType);var x=C.getCustomData();var L=w["com.sap.vocabularies.UI.v1.LineItem"];var y=w["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];var z=r(x);if(z){y=w["com.sap.vocabularies.UI.v1.LineItem#"+z+"@com.sap.vocabularies.UI.v1.Criticality"];}if(L&&y){if(y.Path){var B=y.Path;var G=i.getObject(B);if(G){switch(G.toString()){case"0":return"None";case"1":return"Error";case"2":return"Warning";case"3":return"Success";}}}else if(y.EnumMember){var H=y.EnumMember;if(H){switch(H){case"com.sap.vocabularies.UI.v1.CriticalityType/Neutral":return"None";case"com.sap.vocabularies.UI.v1.CriticalityType/Negative":return"Error";case"com.sap.vocabularies.UI.v1.CriticalityType/Critical":return"Warning";case"com.sap.vocabularies.UI.v1.CriticalityType/Positive":return"Success";}}}}return"None";}var q=t.testableStatic(q,"AnnotationHelper_getSmartTableControl");var r=t.testableStatic(r,"AnnotationHelper_getLineItemQualifier");var u={formatMessage:f,encodeHTML:function(H){return a(H);},getNewVariable:function(C){var v=C.getProperty();var V={set:function(e,P){e=typeof e==="object"?d({},e):e;if(P){V.value=V.value||{};V.value[P]=e;}else{V.value=e;}}};v.push(V);return"/variables/"+(v.length-1);},getBindingForHiddenPath:function(H){if(H["com.sap.vocabularies.UI.v1.Hidden"]){if(H["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Path")){return"{= !${"+H["com.sap.vocabularies.UI.v1.Hidden"].Path+"} }";}else if(H["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Bool")){if(H["com.sap.vocabularies.UI.v1.Hidden"].Bool==="true"){return false;}else if(H["com.sap.vocabularies.UI.v1.Hidden"].Bool==="false"){return true;}else{l.error(H["com.sap.vocabularies.UI.v1.Hidden"].Bool+" is not a boolean value");return true;}}else{return false;}}else{return true;}},getVisibiltyBasedOnImportance:function(v){if(v['com.sap.vocabularies.UI.v1.Importance']&&v['com.sap.vocabularies.UI.v1.Importance'].hasOwnProperty("EnumMember")){if(v['com.sap.vocabularies.UI.v1.Importance'].EnumMember==='com.sap.vocabularies.UI.v1.ImportanceType/High'){return true;}else if((v['com.sap.vocabularies.UI.v1.Importance'].EnumMember==='com.sap.vocabularies.UI.v1.ImportanceType/Medium')&&(D.Device.system.tablet||D.Device.system.desktop)){return true;}else if(D.Device.system.desktop){return true;}else{return false;}}},getImportenceForTableColumns:function(v){if(v['com.sap.vocabularies.UI.v1.Importance']&&v['com.sap.vocabularies.UI.v1.Importance'].hasOwnProperty("EnumMember")){if(v['com.sap.vocabularies.UI.v1.Importance'].EnumMember==='com.sap.vocabularies.UI.v1.ImportanceType/Low'){return"Low";}else if(v['com.sap.vocabularies.UI.v1.Importance'].EnumMember==='com.sap.vocabularies.UI.v1.ImportanceType/Medium'){return"Medium";}}return"High";},getCustomDataForContactPopup:function(C){return((JSON.stringify(C)).replace(/\}/g,"\\}").replace(/\{/g,"\\{"));},renderColumnForConnectedFields:function(C){var e=function(i){return((i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&!(i.Inline&&i.Inline.Bool==="true"));};if(C.length){if(!C.every(e)){return"true";}else{return"false";}}else{return"false";}},renderColumnHeader:function(C){var e=function(i){return(i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation");};if(C.length){if(C.every(e)){return"true";}else{return"false";}}},createP13NColumnForConnectedFields:function(I,e,C,v,w,x,y){var P="",z="",B={},G={},H=[],J;var K=I.getInterface(0);var M=I.getInterface(1).getModel();var L=[];var N=[];var O=[];var Q="false";v=v&&v.Data;for(var i=0;i<v.length;i++){w=v[i];M=I.getInterface(0).getModel();G=M.getODataEntityType(M.getContext(I.getInterface(0).getPath()).getObject().entityType);if(w.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(w.Target.AnnotationPath.indexOf("/")>0){var T=w.Target.AnnotationPath.split("/")[0];var U=w.Target.AnnotationPath.split("/")[1].split("@")[1];G=M.getODataEntityType(M.getODataAssociationEnd(G,T).type);y=G[U];}else{y=G[w.Target.AnnotationPath.split("@")[1]];}}if(((w.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||w.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&w.Inline&&w.Inline.Bool==="true")||w.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||w.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){P=u.createP13NColumnForAction(K,w);}else if(w.RecordType==="com.sap.vocabularies.UI.v1.DataField"){var V=u.getRelevantDataForAnnotationRecord(M,w.Value.Path,G);G=V.entityType;var W=V.dataFieldValuePath;H=(G&&G.property)||[];for(var j=0;j<H.length;j++){if(H[j].name===W){x=H[j];break;}}P=u.createP13N(I,e,x,w);}else if(w.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(w.Target.AnnotationPath.indexOf("com.sap.vocabularies.Communication.v1.Contact")>=0){P=u.createP13NColumnForContactPopUp(I,e,w,y,w.Target.AnnotationPath);}else if(w.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Chart")>=0){P=u.createP13NColumnForChart(I,e,w,y,w.Target.AnnotationPath);}else if(y.Visualization){P=u.createP13NColumnForIndicator(I,e,x,w,y,y.Value,w.Target.AnnotationPath);}}if(P){B=JSON.parse(P.replace(/\\/g,""));}if(!L.length&&B.leadingProperty){L.push(B.leadingProperty);}else{B.leadingProperty&&(O.indexOf(B.leadingProperty)===-1)?O.push(B.leadingProperty):Function.prototype;}B.navigationProperty&&(N.indexOf(B.navigationProperty)===-1)?N.push(B.navigationProperty):Function.prototype;B.additionalProperty&&(O.indexOf(B.additionalProperty)===-1)?O.push(B.additionalProperty):Function.prototype;if(Q==="false"){Q=B.actionButton;}}P="";z=u.createP13NColumnKey(C);J=u._determineColumnIndex(I.getInterface(1));P='\\{"columnKey":"'+z;P+='", "columnIndex":"'+J;P+='", "sortProperty":"'+"";P+='", "filterProperty":"'+"";if(L.length>0){P+='", "leadingProperty":"'+L.join();}if(N.length>0){P+='", "navigationProperty":"'+N.join();}if(O.length>0){P+='", "additionalProperty":"'+O.join();}P+='", "actionButton":"'+Q+'"';P+=' \\}';return P;},tabItemHasPresentationVariant:function(e,v){var V=e[v];return!!(V&&(V.PresentationVariant||V.Visualizations||V.SortOrder));},getPresentationVariant:function(v,e){if(v.Visualizations||v.SortOrder){return v;}else if(v.PresentationVariant&&(v.PresentationVariant.Path||v.PresentationVariant.AnnotationPath)){var i=v.PresentationVariant.Path||v.PresentationVariant.AnnotationPath;return e[i.replace('@','')];}else if(v.PresentationVariant){return u.getPresentationVariant(v.PresentationVariant);}},getPresentationVariantVisualisation:function(e,v){var V=e[v];var P=u.getPresentationVariant(V,e);if(P.Visualizations){return P.Visualizations[0].AnnotationPath.split('#')[1];}},getPresentationVariantSortOrder:function(e,v){var V=e[v];var P=u.getPresentationVariant(V,e);if(P.SortOrder){return u.getSortOrder(P.SortOrder);}},getSmartTableId:function(T){var e=u.getSuffixFromIconTabFilterKey(T);var i="listReport";if(e){i=i.concat(e);}return i;},getAnalyticalTableId:function(T){var e=u.getSuffixFromIconTabFilterKey(T);var i="analyticalTable";if(e){i=i.concat(e);}return i;},getGridTableId:function(T){var e=u.getSuffixFromIconTabFilterKey(T);var i="GridTable";if(e){i=i.concat(e);}return i;},getTreeTableId:function(T){var e=u.getSuffixFromIconTabFilterKey(T);var i="TreeTable";if(e){i=i.concat(e);}return i;},getRowActionsId:function(T){var e=u.getSuffixFromIconTabFilterKey(T);var i="rowActions";if(e){i=i.concat(e);}return i;},getResponsiveTableId:function(T){var e=u.getSuffixFromIconTabFilterKey(T);var i="responsiveTable";if(e){i=i.concat(e);}return i;},getAddEntryId:function(T){var e=u.getSuffixFromIconTabFilterKey(T);var i="addEntry";if(e){i=i.concat(e);}return i;},getDeleteEntryId:function(T){var e=u.getSuffixFromIconTabFilterKey(T);var i="deleteEntry";if(e){i=i.concat(e);}return i;},getShowDetailsId:function(T){var e=u.getSuffixFromIconTabFilterKey(T);var i="showDetails";if(e){i=i.concat(e);}return i;},getDraftObjectMarkerId:function(T){var e=u.getSuffixFromIconTabFilterKey(T);var i="DraftObjectMarker";if(e){i=i.concat(e);}return i;},getBreakoutActionButtonId:function(C,T){if(C.id){var e=u.getSuffixFromIconTabFilterKey(T);var i=C.id;if(e){i=i.concat(e);}return i;}},getIconTabFilterKey:function(T){if(T){if(T.key){return T.key;}else{return u.replaceSpecialCharsInId(T.annotationPath);}}},getSuffixFromIconTabFilterKey:function(T){var K=u.getIconTabFilterKey(T);if(K){return"-".concat(K);}else{return"";}},getIconTabFilterText:function(i,M,T){var e,j,v,w,x,y,z,B;if(T){var C=T.AnnotationPath;var G=C&&C.substring(0,C.indexOf('/'));e=i.getInterface(0).getModel();j=e.getData();v=j.metaModel;z=v.getODataEntityType(j.entityType);B=v.getODataAssociationEnd(z,G);y=v.getODataEntityType(B.type);}else{e=i.getModel();j=e.getData();v=j.metaModel;if(!!M.entitySet){w=v.getODataEntitySet(M.entitySet);x=w.entityType;}else{x=j.entityType;}y=v.getODataEntityType(x);}var H=y[M.annotationPath];if(H&&H.Text){return H.Text.String;}},getAltTextForImage:function(e){if(e["com.sap.vocabularies.Common.v1.Text"]){return e["com.sap.vocabularies.Common.v1.Text"].String;}},getActionButtonVisibility:function(i,e){var j=e["Action"]&&e["Action"].String;j=j&&j.split("/")[1];if(j){var v=i.getModel().getODataFunctionImport(j);}return!!v;},buildAnnotatedActionButtonEnablementExpression:function(i,e,j,v,I,T,C){var w,B,x,M;x=e&&e.Action&&e.Action.String;if(x){B=u.getStableIdPartForDatafieldActionButton(e,j,T,C);if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(!e.RequiresContext||e.RequiresContext.Bool!=="false"){return"{= !!${_templPriv>/generic/controlProperties/"+B+"/enabled}}";}}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){M=i.getInterface(0).getModel();w=M.getODataFunctionImport(x);if(!w){l.error("The function import "+x+" is not defined in the metadata. Buttons that call this function import will not behave as expected.");return false;}else if(w["sap:action-for"]&&w["sap:action-for"]!==""&&w["sap:action-for"]!==" "){return"{= !!${_templPriv>/generic/controlProperties/"+B+"/enabled}}";}}return true;}},buildActionButtonsCustomData:function(I,C,e,v,T,w){var x,M,y;var B=[];I=I.getInterface(0);M=I.getModel();if(C){for(var i=0;i<C.length;i++){x=C[i];y=null;if(x.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&x.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>=0){var z=M.getContext(I.getPath()+"/"+i+"/Target");var G=sap.ui.model.odata.AnnotationHelper.resolvePath(z);var H=M.getObject(G);if(H.Data&&H.Data.length>0){for(var j=0;j<H.Data.length;j++){y=u.generateAnnotatedActionCustomData(H.Data[j],e,T,w);if(y){B.push(y);}}}}else{y=u.generateAnnotatedActionCustomData(x,e,T,w);if(y){B.push(y);}}}}return btoa(JSON.stringify(B));},generateAnnotatedActionCustomData:function(e,i,T,C){var I;if((e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&!((e.Inline&&e.Inline.Bool===true)||(e.Determining&&e.Determining.Bool===true))&&(e.Action&&e.Action.String.trim())){I=u.getStableIdPartForDatafieldActionButton(e,i,T,C);return{ID:I,RecordType:e.RecordType,Action:e.Action&&e.Action.String};}},getLabelForDFwithIBN:function(i,e,j,G){var M,T,v,P,w,x;if(e.Label){return e.Label.String;}else{M=i.getInterface(0).getModel();if(M&&j){if(G&&G.Target&&G.Target.AnnotationPath){T=u.getTargetEntitySet(M,j,G.Target.AnnotationPath);v=M.getODataEntityType(T.entityType);}else{v=M.getODataEntityType(j.entityType);}if((e.Value&&e.Value.Path)||(e.IconUrl&&e.IconUrl.Path)){x=(e.Value&&e.Value.Path)?e.Value.Path:e.IconUrl.Path;P=M.getODataProperty(v,x);w=(P["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return w;}}}},getLinkTextForDFwithIBN:function(i,e,j,G){var v,T,P,w;var M=i.getInterface(0).getModel();if(M&&j){if(G&&G.Target&&G.Target.AnnotationPath){T=u.getTargetEntitySet(M,j,G.Target.AnnotationPath);v=M.getODataEntityType(T.entityType);}else{v=M.getODataEntityType(j.entityType);}if(e.Value&&e.Value.Path){P=M.getODataProperty(v,e.Value.Path)||{};w=(P["com.sap.vocabularies.Common.v1.Text"]||e.Value).Path||"";return"{"+w+"}";}}},getTargetEntitySet:function(M,e,i){var N,j,v,w;N=i.split('/');if(N.length>1){j=N[0];}if(j){v=M.getODataEntityType(e.entityType);w=M.getODataAssociationSetEnd(v,j);if(w&&w.entitySet){return M.getODataEntitySet(w.entitySet);}}return e;},getApplicablePathForChartToolbarActions:function(I,C,e){var M=I.getInterface(0).getModel();var j=M.getODataEntityType(e);var v=(C&&C.Actions)||[];var w,x,O,y=[],z=[],B;for(var i=0;i<v.length;i++){if(v[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&(!v[i].Inline||v[i].Inline.Bool!=="true")&&(!v[i].Determining||v[i].Determining.Bool!=="true")){w=v[i].Action&&v[i].Action.String;x=M.getODataFunctionImport(w);if(x){y.push(x);}}}for(var i=0;i<y.length;i++){x=y[i];if(x&&x["sap:action-for"]&&x["sap:action-for"]!==""&&x["sap:action-for"]!==" "&&x["sap:applicable-path"]&&x["sap:applicable-path"]!==""&&x["sap:applicable-path"]!==" "){B=x["sap:applicable-path"];O=M.getODataProperty(j,B);if(O&&O["sap:aggregation-role"]==="dimension"){z.push(B);}else{l.error("AnnotationHelper.js - method getApplicablePathForChartToolbarActions: the applicable-path "+B+" is either pointing to an entity type property which doesn't exist or does not have 'sap:aggregation-role' set to to 'dimension'.");}}}if(z.length>0){return z.join();}},formatSmartField:function(i,e){var j={"Path":e.path};return A.simplePath(i.getModel()?i:i.getInterface(0),j);},buildBreadCrumbExpression:function(C,T,e){var B,i=sap.ui.model.odata.AnnotationHelper.format(C,T);if(T&&T.Path&&e&&e.String){var j=e.String.replace(/'/g,"\\'");B="{= $"+i+" ? $"+i+" : '"+j+"' }";return B;}else{if(!i){return e&&e.String||"[[no title]]";}return i;}},buildRatingIndicatorSubtitleExpression:function(e){if(e){return"{parts: [{path: '"+e.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorSubTitle'}";}},formatRatingIndicatorSubTitle:function(i){if(i){var e=this.getModel("i18n").getResourceBundle();if(this.getCustomData().length>0){return e.getText("RATING_INDICATOR_SUBTITLE",[i,this.data("Subtitle")]);}else{var j=i>1?e.getText("RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):e.getText("RATING_INDICATOR_SUBTITLE_LABEL");return e.getText("RATING_INDICATOR_SUBTITLE",[i,j]);}}},buildRatingIndicatorFooterExpression:function(v,T){if(T){return"{parts: [{path: '"+v.Path+"'}, {path: '"+T.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";}return"{parts: [{path: '"+v.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";},formatRatingIndicatorFooterText:function(v,e){if(v){var i=this.getModel("i18n").getResourceBundle();if(e){return i.getText("RATING_INDICATOR_FOOTER",[v,e]);}else if(this.getCustomData().length>0){return i.getText("RATING_INDICATOR_FOOTER",[v,this.data("Footer")]);}else{var j=sap.m.RatingIndicator.getMetadata().getPropertyDefaults().maxValue;return i.getText("RATING_INDICATOR_FOOTER",[v,j]);}}},buildRatingIndicatorAggregateCountExpression:function(v){return"{parts: [{path: '"+v.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorAggregateCount'}";},formatRatingIndicatorAggregateCount:function(v){var e=this.getModel("i18n").getResourceBundle();var T;if(v){T=e.getText("RATING_INDICATOR_AGGREGATE_COUNT",[v]);}else if(this.getCustomData().length>0){T=e.getText("RATING_INDICATOR_AGGREGATE_COUNT",[this.data("AggregateCount")]);}else{T="";}return T;},getIdForMoreBlockContent:function(e){if(e["com.sap.vocabularies.UI.v1.PartOfPreview"]&&e["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){return"::MoreContent";}},checkMoreBlockContent:function(e){return u.checkFacetContent(e,false);},checkBlockContent:function(e){return u.checkFacetContent(e,true);},checkFacetContent:function(e,B){var P;var i=e.getInterface(0);var j=e.getModel().getProperty("",e);var v=e.getPath().split("/Facets");var C=i.getModel().getContext(v[0]);if(i.getModel().getProperty('',C).RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){return C.getPath();}else{if(!j){return;}for(var w=0;w<j.length;w++){if(!B){if(j[w]["com.sap.vocabularies.UI.v1.PartOfPreview"]&&j[w]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){P=i.getPath()+"/"+w;break;}}else{if(j[w].RecordType!=="com.sap.vocabularies.UI.v1.ReferenceFacet"||(!j[w]["com.sap.vocabularies.UI.v1.PartOfPreview"]||j[w]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="true")){P=i.getPath()+"/"+w;break;}}}}return P;},isInlineCreate:function(e,i){var j=i[u.getStableIdPartFromFacet(e)];return!!(j&&j.createMode&&j.createMode==="inline");},isCreateWithParameter:function(e,i){var j=i[u.getStableIdPartFromFacet(e)];return!!(j&&j.tableSettings&&j.tableSettings.createWithParameterDialog&&j.tableSettings.createWithParameterDialog.fields&&j.tableSettings.createWithParameterDialog.fields);},getLoadingStrategy:function(e,i){var j=i&&i[u.getStableIdPartFromFacet(e)];var L=j&&j.loadingBehavior;if(!L){return"lazyLoading";}if(L.waitForViewportEnter){return L.waitForHeaderData?"lazyLoadingAfterHeader":"lazyLoading";}return L.waitForHeaderData?"activateAfterHeaderDataReceived":"activateWithBindingChange";},usesPreliminaryContext:function(e,i){var j=i[u.getStableIdPartFromFacet(e)];return!!(j&&j.preliminaryContext);},isInlineCreateSorting:function(e,i){var j=i[u.getStableIdPartFromFacet(e)];return!!(j&&j.disableDefaultInlineCreateSort);},isImageUrl:function(P){var e=P["com.sap.vocabularies.UI.v1.IsImageURL"]||P["com.sap.vocabularies.UI.v1.IsImageUrl"];if(e&&e.Bool&&e.Bool==="false"){return false;}else if(e){return true;}return false;},isPropertySemanticKey:function(I,e,P){var I=I.getInterface(0);var M=I.getModel();var j=M.getODataEntityType(e.entityType);if(j){var v=j["com.sap.vocabularies.Common.v1.SemanticKey"];if(v&&v.length>0){for(var i=0;i<v.length;i++){if(v[i].PropertyPath===P.Path){return true;}}}}return false;},_addFullPathToImageUrlIfNeeded:function(i,e){if(!i){return"";}if((i.substring(0,1)==="/")||(i.substring(0,11)==="sap-icon://")||(i.substring(0,7)==="http://")||(i.substring(0,8)==="https://")){return i;}else{return sap.ui.require.toUrl(e)+"/"+i;}},formatImageUrl:function(i,I,e,j){if(I&&(I.Path||I.Apply)&&j){u.formatWithExpandSimple(i,I);}if(I&&I.Path){return"{parts: [{path: '"+I.Path+"'}, {path: '_templPrivGlobal>/generic/appComponentName'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatImageUrlRuntime'}";}else if(I&&I.String){return u._addFullPathToImageUrlIfNeeded(I.String,e);}else if(I&&I.Apply){I.Apply.Parameters[0].Value=u._addFullPathToImageUrlIfNeeded(I.Apply.Parameters[0].Value,e);return sap.ui.model.odata.AnnotationHelper.format(i,I);}else{return"";}},hasImageUrl:function(i){if(i&&(i.Path||i.Apply||i.String)){return"sapSmartTemplatesObjectPageDynamicPageHeader sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv";}else{return"sapSmartTemplatesObjectPageDynamicPageHeader";}},getAvatarInitials:function(i){return((i.Path&&("{"+i.Path+"}"))||i.String||"");},hasImageUrlForHeaderTitle:function(i){if(i&&(i.Path||i.Apply||i.String)){return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithImage sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv";}else{return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithoutImage";}},formatImageOrTypeUrl:function(i,I,T,e,j){var v=null;if(I){v=I;}else{v=T;}return u.formatImageUrl(i,v,e,j);},getPathWithExpandFromHeader:function(i,e,N,I,T){var j=[],v;if((I||T)){var i=i.getInterface(0);var M=i.getModel();var w=M.getODataEntityType(e.entityType);var x=null;if(I){x=I;}else{x=T;}if(x&&x.Path&&w){var y=u._getNavigationPrefix(M,w,x.Path);if(y){j.push(y);}}}if(j.length>0){if(j.length>1){j=j.filter(function(z,B,C){return B==C.indexOf(z);});}v="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{v="{ path : '"+N+"' }";}if(v==="{}"){v="";}return v;},disableSemanticObjectLinksOnPopups:function(Q,e){var i="";if(Q&&Q.ignoredFields&&e&&e.Value&&e.Value.Path){if(Q.ignoredFields[e.Value.Path]){i=e.Value.Path;}}return i;},formatImageUrlRuntime:function(i,e){return u._addFullPathToImageUrlIfNeeded(i,e);},formatHeaderImage:function(i,H,e){if(H.ImageUrl){return u.formatImageUrl(i,H.ImageUrl,e,true);}else if(H.TypeImageUrl){return u.formatImageUrl(i,H.TypeImageUrl,e,true);}else{return"";}},matchesBreadCrumb:function(I,C,P){if(P){var e=P.split("/");var j,v,w;if(e.length>0){var M=I.getInterface(0).getModel();var x=e[0];for(var i=0;i<e.length;i++){if(i>0){j=M.getODataEntitySet(x);v=M.getODataEntityType(j.entityType);w=M.getODataAssociationSetEnd(v,e[i]);x=w.entitySet;}if((i+1)===e.length){if(x===C.name){return true;}else{return false;}}}}}},getPersistencyKeyForSmartTable:function(e){return"listReportFloorplanTable";},getPersistencyKeyForDynamicPageTitle:function(e){return"listReportDynamicPageTitle";},getCreateNavigationIntent:function(L,e,i){return m(L,e,i,"create");},getDisplayNavigationIntent:function(L,e,i){return m(L,e,i,"display");},extensionPointFragmentExists:function(e,i){var I=u.getStableIdPartFromFacet(e);if(I===i){return true;}else{return false;}},containsFormWithBreakoutAction:function(e,i){var C=u.getStableIdPartFromFacet(e);if(C===i){if(e.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&e.Target&&e.Target.AnnotationPath&&e.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")!=-1){return true;}}return false;},setAriaText:function(i,e,j){if(j.Path){return"{parts: [{path: '"+e+"'}, {path: '"+j.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatMessage'}";}j=sap.ui.model.odata.AnnotationHelper.format(i,j);return"{parts: [{path: '"+e+"'}, {value: '"+j+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatMessage'}";},formatWithExpandSimple:function(i,e,v){if(!e){return"";}var w=[],x,y;var M=i&&i.getModel&&i.getModel();if(!M){i=i.getInterface(0);M=i.getModel();}if(v){y=M.getODataEntityType(v.entityType);}else{var z=/^(\/dataServices\/schema\/\d+\/entityType\/\d+)(?:\/|$)/.exec(i.getPath());if(z&&z.length&&z[0]){var B=M.getProperty(z[0]);var N=M.getODataEntityContainer().namespace;y=M.getODataEntityType(N+'.'+B.name);}}if(y){if(e&&e.Path){x=u._getNavigationPrefix(M,y,e.Path);if(x){w.push(x);}}else if(e&&e.Apply&&e.Apply.Name==="odata.concat"){e.Apply.Parameters.forEach(function(G){if(G.Type==="Path"){x=u._getNavigationPrefix(M,y,G.Value);if(x){if(w.indexOf(x)===-1){w.push(x);}}}});}if(w.length>0){var P=i.getSetting("preprocessorsData");if(P){var C=P.rootContextExpand||[];for(var j=0;j<w.length;j++){if(C.indexOf(w[j])===-1){C.push(w[j]);}}P.rootContextExpand=C;}}}return sap.ui.model.odata.AnnotationHelper.format(i,e);},formatWithExpandSimplePath:function(i,e,j,v){u.getNavigationPathWithExpand(i,e,j);i=i.getInterface(0);if(!!(v&&v.NumberOfFractionalDigits&&v.NumberOfFractionalDigits.Int)){var V={};V.path=e.Path;V.type="sap.ui.model.odata.type.Decimal";V.constraints={'scale':v.NumberOfFractionalDigits.Int};return JSON.stringify(V);}u.formatWithExpandSimple(i,e,j);return sap.ui.model.odata.AnnotationHelper.simplePath(i,e);},formatWithExpand:function(i,e,j){u.getNavigationPathWithExpand(i,e,j);i=i.getInterface(0);u.formatWithExpandSimple(i,e,j);return sap.ui.model.odata.AnnotationHelper.format(i,e);},_getNavigationPrefix:function(M,e,P){var j="";var v=P.split("/");if(v.length>1){for(var i=0;i<(v.length-1);i++){var w=M.getODataAssociationEnd(e,v[i]);if(w){e=M.getODataEntityType(w.type);if(j){j=j+"/";}j=j+v[i];}else{return j;}}}return j;},getCurrentPathWithExpand:function(i,C,e,N){i=i.getInterface(0);var j=[],v;var M=i.getModel();var w=M.getODataEntitySet(e.name||'');var x=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var y=M.getODataEntityType(e.entityType);j=u.getFacetExpand(x,M,y,w);if(j.length>0){v="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{v="{ path : '"+N+"' }";}if(v==="{}"){v="";}return v;},getCurrentPathWithExpandForContact:function(i,C,e,N){var j=[],v;i=i.getInterface(0);var M=i.getModel();var w=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var x=M.getODataEntityType(e.entityType);j=u.getFacetExpandForContact(w,M,x);if(j.length>0){v="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{v="{ path : '"+N+"' }";}if(v==="{}"){v="";}return v;},getFacetExpandForContact:function(e,M,v){var w=[],x;var G=function(P){if(P){var B=u._getNavigationPrefix(M,v,P);if(B){if(w.indexOf(B)===-1){w.push(B);}}}};if(e&&e.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){x=M.getObject(e)||{};for(var i in x){var P;var y=x[i];if(y&&y.Path){P=y.Path;G(P);}else if(Object.prototype.toString.call(y)==='[object Array]'){for(var j in y){var z=y[j];if(z&&z.uri&&z.uri.Path){P=z.uri.Path;}if(z&&z.address&&z.address.Path){P=z.address.Path;}G(P);}}}}return w;},getNavigationPathWithExpand:function(i,C,e,w){i=i.getInterface(0);var M=i.getModel();var v=M.getODataEntitySet(e.name||'');var x=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var N=sap.ui.model.odata.AnnotationHelper.getNavigationPath(i,C);var y=N.replace("{","").replace("}","");var z;if(y){z=M.getODataEntityType(v.entityType);var B=M.getODataAssociationSetEnd(z,y);if(B&&B.entitySet){v=M.getODataEntitySet(B.entitySet);}}else{z=M.getODataEntityType(e.entityType);w=false;}var G=false;var H=u.getFacetExpand(x,M,z,v);var P=i.getSetting("preprocessorsData")||{};var I=P.rootContextExpand||[];if(H.length>0){if(y){G=true;}else{for(var j=0;j<H.length;j++){if(I.indexOf(H[j])===-1){I.push(H[j]);}}P.rootContextExpand=I;}}w=w&&(I.indexOf(y)===-1||H.some(function(J){return I.indexOf(y+"/"+J)===-1;}));if(G||w){N="{ path : '"+y+"', parameters : { ";if(G){N=N+"expand : '"+H.join(",")+"'";if(w){N=N+", ";}}if(w){N=N+"usePreliminaryContext: true, batchGroupId: 'facets'";}N=N+"} }";}if(N==="{}"){N="";}return N;},getFormGroupBindingString:function(i,C,e){var j=u.getNavigationPathWithExpand(i,C,e,true);return j;},getFacetExpand:function(j,M,v,w){var x=[],y=[],z,B=[];if(j){B=M.getObject(j)||[];}B=B.Data||B;var G=function(P,I){var H=u._getNavigationPrefix(M,v,P);if(H){if(y.indexOf(H)===-1){y.push(H);}}if(I){try{x=S.getSupportedAnnotationPaths(M,w,P,true)||[];}catch(e){x=[];}for(var i=0;i<x.length;i++){if(y.indexOf(x[i])===-1){y.push(x[i]);}}}};var C=function(P){if(P.Type==="LabeledElement"){G(P.Value.Path);}else if(P.Type==="Path"){G(P.Value);}};if(Array.isArray(B)){for(var i=0;i<B.length;i++){z=B[i];if(z.Value&&z.Value.Path){G(z.Value.Path,true);}if(z.Value&&z.Value.Apply&&z.Value.Apply.Name==="odata.concat"){z.Value.Apply.Parameters.forEach(C);}if(z.Action&&z.Action.Path){G(z.Action.Path);}if(z.Target){if(z.Target.Path){G(z.Target.Path);}if(z.Target.AnnotationPath){G(z.Target.AnnotationPath);}}if(z.SemanticObject&&z.SemanticObject.Path){G(z.SemanticObject.Path);}if(z.Url&&z.Url.Path){G(z.Url.Path);}if(z.Url&&z.Url.Apply&&z.Url.Apply.Parameters){z.Url.Apply.Parameters.forEach(C);}if(z.UrlContentType&&z.UrlContentType.Path){G(z.UrlContentType.Path);}}}else{if(B.name){G(B.name,true);}if(B.Value&&B.Value.Path){G(B.Value.Path,true);}if(B.Title&&B.Title.Path){G(B.Title.Path,true);}if(B.Criticality&&B.Criticality.Path){G(B.Criticality.Path,true);}}return y;},isSelf:function(P){if(P===undefined||(P&&P.indexOf('@')===0&&P.indexOf('/')===-1)){return true;}return false;},number:function(v){if(!v){return NaN;}else if(v.Decimal){return+v.Decimal;}else if(v.Path){return'{'+v.Path+'}';}else{return NaN;}},formatColor:(function(){function e(v){if(!v){return NaN;}else if(v.Decimal){return v.Decimal;}else if(v.EnumMember){return'\''+v.EnumMember+'\'';}else if(v.Path){return'${'+v.Path+'}';}else{return NaN;}}function i(v){var w=v.Criticality;return'{= '+e(w)+' === \'UI.CriticalityType/Negative\' ? \'Error\' : '+e(w)+'=== \'UI.CriticalityType/Critical\' ? \'Critical\' : \'Good\'}';}function j(v){var w=e(v.Value);var C=v.CriticalityCalculation;return'{= ('+w+' < '+e(C.DeviationRangeLowValue)+' || '+w+' > '+e(C.DeviationRangeHighValue)+') ? \'Error\' : ('+w+' < '+e(C.ToleranceRangeLowValue)+' || '+w+' > '+e(C.ToleranceRangeHighValue)+') ? \'Critical\' : \'Good\'}';}return function(v){if(v.Criticality){return i(v);}else if(v.CriticalityCalculation){return j(v);}};})(),_determineColumnIndex:function(C){var e=C.getPath();var i=Number(e.slice(e.lastIndexOf("/")+1));var L=e.slice(0,e.lastIndexOf("/"));var j=C.getModel().getObject(L);var v=0;for(var w=0;w<i;w++){if((j[w].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||j[w].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(!j[w].Inline||j[w].Inline.Bool==="false")){continue;}else{v++;}}return v;},suppressP13NDuplicateColumns:function(I,e){var j="";var v={};var C=",";var M=I.getModel();for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"){if(e[i].Value&&e[i].Value.Path){var w=e[i].Value.Path;v[w]=true;}}}for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){if(e[i].Value&&e[i].Value.Path){var w=e[i].Value.Path;if(!v[w]){j=j+C+w;}}}else if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var T=M.getContext(I.getPath()+"/"+i+"/Target");var x=sap.ui.model.odata.AnnotationHelper.resolvePath(T);var y=M.getObject(x);if(x.indexOf('com.sap.vocabularies.Communication.v1.Contact')>=0){if(y&&y.fn&&y.fn.Path){var w=y.fn.Path;if(!v[w]){j=j+C+w;}}}else if(x.indexOf('com.sap.vocabularies.UI.v1.DataPoint')>=0){if(y&&y.Value&&y.Value.Path){var w=y.Value.Path;if(!v[w]){j=j+C+w;}}}}}if(j.length>0){j=j.substring(1);}return j;},createP13NColumnForAction:function(C,e){var i=u._determineColumnIndex(C);var j=u.createP13NColumnKey(e);if(e&&e.Value&&e.Value.Path){var P='\\{"columnKey":"'+j+'", "leadingProperty":"'+e.Value.Path+'", "columnIndex":"'+i;var v=c(C,e.Value.Path);var N=v.getFilterRestriction();var w=v.getSortRestriction();if(!w){P+='", "sortProperty":"'+e.Value.Path;}if(!N){P+='", "filterProperty":"'+e.Value.Path;}P+='", "actionButton":"true" \\}';}else{var P='\\{"columnKey":"'+j+'", "columnIndex":"'+i+'", "actionButton":"true" \\}';}return P;},createP13NColumnForContactPopUp:function(i,C,e,j,v){var P="";var N="";var M=i.getInterface(0).getModel();if(M){var w=M.getODataEntityType(C.entityType);if(w){N=u._getNavigationPrefix(M,w,v);}}var x=u.createP13NColumnKey(e);P+='\\{"columnKey":"'+x;if(j&&j.fn&&j.fn.Path){if(N){var y=M.getODataAssociationSetEnd(w,N);if(y&&y.entitySet){C=M.getODataEntitySet(y.entitySet);}var z=c(C,j.fn.Path);var B=z.getFilterRestriction();var G=z.getSortRestriction();P+='", "leadingProperty":"'+N+'/'+j.fn.Path+'", "additionalProperty":"'+N;if(!G){P+='", "sortProperty":"'+N+'/'+j.fn.Path;}if(!B){P+='", "filterProperty":"'+N+'/'+j.fn.Path;}}else{var z=c(C,j.fn.Path);var B=z.getFilterRestriction();var G=z.getSortRestriction();P+='", "leadingProperty":"'+j.fn.Path+'", "filterProperty":"'+j.fn.Path+'", "additionalProperty":"'+j.fn.Path;if(!G){P+='", "sortProperty":"'+N+'/'+j.fn.Path;}if(!B){P+='", "filterProperty":"'+N+'/'+j.fn.Path;}}}P+='", "navigationProperty":"'+N;var H=i.getInterface(1);var I=u._determineColumnIndex(H);if(I){P+='", "columnIndex":"'+I;}P+='" \\}';return P;},createP13NColumnForIndicator:function(i,C,e,j,v,w,x){var P="";var N="";var y=[];var M=i.getInterface(0).getModel();if(M){var z=M.getODataEntityType(C.entityType);if(z){N=u._getNavigationPrefix(M,z,x);}}var B=u.createP13NColumnKey(j);P='\\{"columnKey":"'+B;if(N){N=N+"/";}if(v.Value&&v.Value.Path){P+='", "leadingProperty":"'+N+v.Value.Path;y.push(N+v.Value.Path);}if(v.TargetValue&&v.TargetValue.Path){y.push(N+v.TargetValue.Path);}if(v.Criticality&&v.Criticality.Path){y.push(N+v.Criticality.Path);}if(y.length>0){var G="";y.forEach(function(O){if(G){G=G+",";}G=G+O;});P+='", "additionalProperty":"'+G;}var H=i.getInterface(2);var I=u._determineColumnIndex(H);if(I){P+='", "columnIndex":"'+I;}if(v&&v.Value&&v.Value.Path){var J=c(C,v.Value.Path);var K=J.getFilterRestriction();var L=J.getSortRestriction();if(!L){P+='", "sortProperty":"'+v.Value.Path;}if(!K){P+='", "filterProperty":"'+v.Value.Path;}}P+='" \\}';return P;},createP13NColumnForChart:function(i,C,e,j,v){var P="",w=[],N="";var M=i.getInterface(0).getModel();if(M){var x=M.getODataEntityType(C.entityType);if(x){N=u._getNavigationPrefix(M,x,v);}}var y=u.createP13NColumnKey(e);if(N){P='\\{"columnKey":"'+y+'", "leadingProperty":"'+N;N=N+"/";}else{P='\\{"columnKey":"'+y;}if(Array.isArray(j.Dimensions)){j.Dimensions.forEach(function(G){w.push(N+G.PropertyPath);});}if(Array.isArray(j.Measures)){j.Measures.forEach(function(G){w.push(N+G.PropertyPath);});}if(w.length>0){P+='", "additionalProperty":"'+w.join();}var z=i.getInterface(1);var B=u._determineColumnIndex(z);if(B){P+='", "columnIndex":"'+B;}P+='" \\}';return P;},createP13NColumnKey:function(e,C){var i="";var j="template";var v="::";if(e.RecordType==="com.sap.vocabularies.UI.v1.DataField"){i=e.Value.Path;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){i=j+v+"DataFieldWithIntentBasedNavigation"+v+e.SemanticObject.String+v+e.Action.String+v+e.Value.Path;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){i=j+v+"DataFieldWithNavigationPath"+v+e.Value.Path;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){i=j+v+"DataFieldForIntentBasedNavigation"+v+e.SemanticObject.String+v+e.Action.String;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){i=j+v+"DataFieldForAction"+v+e.Action.String;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.Communication.v1.Contact')>=0||e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.DataPoint')>=0||e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.FieldGroup')>=0||e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.Chart')>=0){i=j+v+"DataFieldForAnnotation"+v+e.Target.AnnotationPath;i=i.replace('@','');}}return i;},createP13N:function(i,C,e,j,v,w){var P="",x=[],N="";if(j.RecordType==="com.sap.vocabularies.UI.v1.DataField"||j.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"||j.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(j.Value.Path){var y=u.createP13NColumnKey(j,e);P='\\{"columnKey":"'+y+'", "leadingProperty":"'+j.Value.Path;var M=i.getInterface(0).getModel();if(M){var z=M.getODataEntityType(C.entityType);if(z){if(e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path){var T=u.getTextArrangement(z,j);if(T){P+='", "description":"'+e["com.sap.vocabularies.Common.v1.Text"].Path+'", "displayBehaviour":"'+T;}}N=u._getNavigationPrefix(M,z,j.Value.Path);if(N){N=N+"/";}}}}else if(j.Value.Apply&&j.Value.Apply.Name==="odata.concat"){j.Value.Apply.Parameters.forEach(function(O){if(O.Type==="Path"){if(!P){P='\\{"columnKey":"'+O.Value+'", "leadingProperty":"'+O.Value;}else{x.push(O.Value);}}});}if((e.type==="Edm.DateTime")&&(e["sap:display-format"]==="Date")){P+='", "type":"date';}else if(e.type==="Edm.String"){P+='", "type":"string';}if(j.Criticality&&j.Criticality.Path){x.push(j.Criticality.Path);}if(e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path){x.push(N+e["com.sap.vocabularies.Common.v1.Text"].Path);}if(e["Org.OData.Measures.V1.ISOCurrency"]&&e["Org.OData.Measures.V1.ISOCurrency"].Path){x.push(N+e["Org.OData.Measures.V1.ISOCurrency"].Path);}if(e["Org.OData.Measures.V1.Unit"]&&e["Org.OData.Measures.V1.Unit"].Path){x.push(N+e["Org.OData.Measures.V1.Unit"].Path);}if(e["com.sap.vocabularies.Common.v1.FieldControl"]&&e["com.sap.vocabularies.Common.v1.FieldControl"].Path){x.push(N+e["com.sap.vocabularies.Common.v1.FieldControl"].Path);}if((j["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&j.Url&&j.Url.Apply&&j.Url.Apply.Parameters){j.Url.Apply.Parameters.forEach(function(O){if(O.Type==="LabeledElement"){x.push(O.Value.Path);}});}if((j["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&j.Url&&j.Url.Path){x.push(j.Url.Path);}if(x.length>0){var B="";x.forEach(function(O){if(B){B=B+",";}B=B+O;});P+='", "additionalProperty":"'+B;}var G=c(C,e.name);var H=G.getFilterRestriction();var I=G.getSortRestriction();var J=u.checkMultiplicityForDataFieldAssociationInTable(i,C,j);if(!I){if(J){P+='", "sortProperty":"'+"";}else if(N){P+='", "sortProperty":"'+N+e.name;}else{P+='", "sortProperty":"'+e.name;}}if(!H){if(J){P+='", "filterProperty":"'+"";}else{P+='", "filterProperty":"'+e.name;}}var K=i.getInterface(2);var L=u._determineColumnIndex(K);if(L>=0){P+='", "columnIndex":"'+L;}}return P+'" \\}';},getSortOrder:function(P){var e='';for(var i=0;i<P.length;i++){if(!e){e=P[i].Property.PropertyPath;}else{e=e+', '+P[i].Property.PropertyPath;}if(P[i].Descending){e=e+' '+P[i].Descending.Bool;}}return e;},replaceSpecialCharsInId:function(i){if(i.indexOf(" ")>=0){l.error("Annotation Helper: Spaces are not allowed in ID parts. Please check the annotations, probably something is wrong there.");}return i.replace(/@/g,"").replace(/\//g,"::").replace(/#/g,"::");},getStableIdPartFromDataField:function(e){var P="",I="",j;if(e.RecordType&&e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){return u.replaceSpecialCharsInId(e.Action.String);}else if(e.RecordType&&(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){if(e.SemanticObject.String){I=u.replaceSpecialCharsInId(e.SemanticObject.String);}else if(e.SemanticObject.Path){I=u.replaceSpecialCharsInId(e.SemanticObject.Path);}if(e.Action&&e.Action.String){I=I+"::"+u.replaceSpecialCharsInId(e.Action.String);}else if(e.Action&&e.Action.Path){I=I+"::"+u.replaceSpecialCharsInId(e.Action.Path);}return I;}else if(e.RecordType&&e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){return u.replaceSpecialCharsInId(e.Target.AnnotationPath);}else if(e.IconUrl&&(e.IconUrl.Path||e.IconUrl.String)){if(e.IconUrl.Path){I=u.replaceSpecialCharsInId(e.IconUrl.Path);}else if(e.IconUrl.String){j=e.IconUrl.String.replace("://","-");I=u.replaceSpecialCharsInId(j);}return I;}else if(e.Value&&e.Value.Path){return u.replaceSpecialCharsInId(e.Value.Path);}else if(e.Value&&e.Value.Apply&&e.Value.Apply.Name==="odata.concat"){for(var i=0;i<e.Value.Apply.Parameters.length;i++){if(e.Value.Apply.Parameters[i].Type==="Path"){if(P){P=P+"::";}P=P+u.replaceSpecialCharsInId(e.Value.Apply.Parameters[i].Value);}}return P;}else{l.error("Annotation Helper: Unable to create a stable ID. Please check the annotations.");}},getStableIdPartFromDataPoint:function(e){var P="";if(e.Value&&e.Value.Path){return u.replaceSpecialCharsInId(e.Value.Path);}else if(e.Value&&e.Value.Apply&&e.Value.Apply.Name==="odata.concat"){for(var i=0;i<e.Value.Apply.Parameters.length;i++){if(e.Value.Apply.Parameters[i].Type==="Path"){if(P){P=P+"::";}P=P+u.replaceSpecialCharsInId(e.Value.Apply.Parameters[i].Value);}}return P;}else{l.error("Annotation Helper: Unable to create stable ID derived from annotations.");}},getStableIdPartFromFacet:function(e){return b.getStableId({type:"ObjectPage",subType:"Facet",bIsHeaderFacet:(typeof this.getContext==="function"&&this.getContext()&&this.getContext().getPath()&&this.getContext().getPath().indexOf("com.sap.vocabularies.UI.v1.HeaderFacets")>=0),sRecordType:e.RecordType,sAnnotationPath:e.Target&&e.Target.AnnotationPath,sAnnotationId:e.ID&&e.ID.String})||g(e);},getVisibilityForExtensionPointReplaceHeader:function(e,M){var i="ReplaceHeaderExtensionFacet|"+e;var j=M[i];if(j&&j['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceHeaderExists:function(e,M){if(M){var i="ReplaceHeaderExtensionFacet|"+e;return M[i];}return false;},getVisibilityForExtensionPointNoImage:function(e,M){var i="NoImageExtensionFacet|"+e;var j=M[i];if(j&&j['bVisibleOnEdit']===false){return false;}return true;},extensionPointNoImageExists:function(e,M){if(M){var i="NoImageExtensionFacet|"+e;return M[i];}return false;},getVisibilityForExtensionPointAfterImage:function(e,M){var i="AfterImageExtensionFacet|"+e;var j=M[i];if(j&&j['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterImageExists:function(e,M){if(M){var i="AfterImageExtensionFacet|"+e;return M[i];}return false;},getVisibilityForExtensionPointBeforeSimpleHeaderFacet:function(e,i,M,j){var v;var w=u.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){v=u.getStableIdPartFromDataPoint(j);}else{v=u.getStableIdPartFromDataField(j);}var I=w+"::"+v;var x="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+I;var y=M[x];if(y&&y['bVisibleOnEdit']===false){return false;}return true;},extensionPointBeforeSimpleHeaderFacetExists:function(e,i,M,j){if(M){var v;var w=u.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){v=u.getStableIdPartFromDataPoint(j);}else{v=u.getStableIdPartFromDataField(j);}var I=w+"::"+v;var x="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[x];}return false;},getVisibilityForExtensionPointReplaceSimpleHeaderFacet:function(e,i,M,j){var v;var w=u.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){v=u.getStableIdPartFromDataPoint(j);}else{v=u.getStableIdPartFromDataField(j);}var I=w+"::"+v;var x="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+I;var y=M[x];if(y&&y['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceSimpleHeaderFacetExists:function(e,i,M,j){if(M){var v;var w=u.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){v=u.getStableIdPartFromDataPoint(j);}else{v=u.getStableIdPartFromDataField(j);}var I=w+"::"+v;var x="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[x];}return false;},getVisibilityForExtensionPointAfterSimpleHeaderFacet:function(e,i,M,j){var v;var w=u.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){v=u.getStableIdPartFromDataPoint(j);}else{v=u.getStableIdPartFromDataField(j);}var I=w+"::"+v;var x="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+I;var y=M[x];if(y&&y['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterSimpleHeaderFacetExists:function(e,i,M,j){if(M){var v;var w=u.getStableIdPartFromFacet(i);if(i.Target.AnnotationPath.indexOf("DataPoint")>0){v=u.getStableIdPartFromDataPoint(j);}else{v=u.getStableIdPartFromDataField(j);}var I=w+"::"+v;var x="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[x];}return false;},getVisibilityForExtensionPointBeforeHeaderFacet:function(e,i,M){var j="BeforeHeaderFacet|"+e+"|headerEditable::"+u.getStableIdPartFromFacet(i);var v=M[j];if(v&&v['bVisibleOnEdit']===false){return false;}return true;},extensionPointBeforeHeaderFacetExists:function(e,i,M){if(M){var j="BeforeHeaderFacet|"+e+"|headerEditable::"+u.getStableIdPartFromFacet(i);return M[j];}return false;},getVisibilityForExtensionPointReplaceHeaderFacet:function(e,i,M){var j="ReplaceHeaderFacet|"+e+"|headerEditable::"+u.getStableIdPartFromFacet(i);var v=M[j];if(v&&v['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceHeaderFacetExists:function(e,i,M){if(M){var j="ReplaceHeaderFacet|"+e+"|headerEditable::"+u.getStableIdPartFromFacet(i);return M[j];}return false;},getVisibilityForExtensionPointAfterHeaderFacet:function(e,i,M){var j="AfterHeaderFacet|"+e+"|headerEditable::"+u.getStableIdPartFromFacet(i);var v=M[j];if(v&&v['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterHeaderFacetExists:function(e,i,M){if(M){var j="AfterHeaderFacet|"+e+"|headerEditable::"+u.getStableIdPartFromFacet(i);return M[j];}return false;},extensionPointBeforeHeaderDataPointExists:function(e,i,M){if(M){var j="BeforeHeaderDataPoint|"+e+"|"+u.getStableIdPartFromDataPoint(i);return M[j];}return false;},extensionPointReplaceHeaderDataPointExists:function(e,i,M){if(M){var j="ReplaceHeaderDataPoint|"+e+"|"+u.getStableIdPartFromDataPoint(i);return M[j];}return false;},extensionPointAfterHeaderDataPointExists:function(e,i,M){if(M){var j="AfterHeaderDataPoint|"+e+"|"+u.getStableIdPartFromDataPoint(i);return M[j];}return false;},getObjectPageExtensions:function(C){var M=C.getObject();for(var e in M){if(e.split('|').length===4&&!(M[e]['sap.ui.generic.app']&&M[e]['sap.ui.generic.app']['key'])){d(M[e],{'sap.ui.generic.app':{'key':e.split('|')[3]}});}}C.getModel().setProperty("/manifestViewExtensions",M);return"/manifestViewExtensions";},extensionPointBeforeFacetExists:function(e,i,M){if(M){var j="BeforeFacet|"+e+"|"+u.getStableIdPartFromFacet(i);var v=Object.keys(M);for(var w in v){if(v[w].indexOf(j)>-1){return true;}}}return false;},getExtensions:function(C){var M=C.getObject();var e=Object.keys(M);var i=C.getModel();i.setProperty("/extensionKeys",e);return"/extensionKeys";},isCurrentManifestEntryForBeforeFacet:function(M,e,i){if(M){var j="BeforeFacet|"+e+"|"+u.getStableIdPartFromFacet(i);return M.indexOf(j)>-1;}return false;},isCurrentManifestEntryForAfterFacet:function(M,e,i){if(M){var j="AfterFacet|"+e+"|"+u.getStableIdPartFromFacet(i);return M.indexOf(j)>-1;}return false;},isManifestKeyLegacy:function(M){if(M){return(M.split('|').length===3);}return false;},extensionPointAfterFacetExists:function(e,i,M){if(M){var j="AfterFacet|"+e+"|"+u.getStableIdPartFromFacet(i);var v=Object.keys(M);for(var w in v){if(v[w].indexOf(j)>-1){return true;}}}return false;},extensionPointBeforeSubSectionExists:function(e,i,M){if(M){var j="BeforeSubSection|"+e+"|"+u.getStableIdPartFromFacet(i);return M[j];}return false;},extensionPointAfterSubSectionExists:function(e,i,M){if(M){var j="AfterSubSection|"+e+"|"+u.getStableIdPartFromFacet(i);return M[j];}return false;},extensionPointReplaceSubSectionExists:function(e,i,M){if(M){var j="ReplaceSubSection|"+e+"|"+u.getStableIdPartFromFacet(i);return M[j];}return false;},getExtensionPointFacetTitle:function(M,e){var i=e[M];if(i&&i['sap.ui.generic.app']&&i['sap.ui.generic.app'].title){return i['sap.ui.generic.app'].title;}},getExtensionPointAfterFacetTitle:function(e,i,M){var j="AfterFacet|"+e+"|"+u.getStableIdPartFromFacet(i);var v=M[j];if(v&&v['sap.ui.generic.app']&&v['sap.ui.generic.app'].title){return v['sap.ui.generic.app'].title;}},getExtensionPointBeforeSubSectionTitle:function(e,i,M){var j="BeforeSubSection|"+e+"|"+u.getStableIdPartFromFacet(i);var v=M[j];if(v&&v['sap.ui.generic.app']&&v['sap.ui.generic.app'].title){return v['sap.ui.generic.app'].title;}},getExtensionPointAfterSubSectionTitle:function(e,i,M){var j="AfterSubSection|"+e+"|"+u.getStableIdPartFromFacet(i);var v=M[j];if(v&&v['sap.ui.generic.app']&&v['sap.ui.generic.app'].title){return v['sap.ui.generic.app'].title;}},getExtensionPointReplaceSubSectionTitle:function(e,i,M){var j="ReplaceSubSection|"+e+"|"+u.getStableIdPartFromFacet(i);var v=M[j];if(v&&v['sap.ui.generic.app']&&v['sap.ui.generic.app'].title){return v['sap.ui.generic.app'].title;}},isExtensionPointBeforeSubSectionLazyLoadingEnabled:function(e,i,M){return E("BeforeSubSection|"+e+"|"+u.getStableIdPartFromFacet(i),M);},isExtensionPointAfterSubSectionLazyLoadingEnabled:function(e,i,M){return E("AfterSubSection|"+e+"|"+u.getStableIdPartFromFacet(i),M);},isExtensionPointReplaceSubSectionLazyLoadingEnabled:function(e,i,M){return E("ReplaceSubSection|"+e+"|"+u.getStableIdPartFromFacet(i),M);},isExtensionPointFacetLazyLoadingEnabled:function(M,e){return E(M,e);},isExtensionPointAfterFacetLazyLoadingEnabled:function(e,i,M){return E("AfterFacet|"+e+"|"+u.getStableIdPartFromFacet(i),M);},isExtensionPointReplaceFacetLazyLoadingEnabled:function(e,i,M){return E("ReplaceFacet|"+e+"|"+u.getStableIdPartFromFacet(i),M);},getRepeatIndex:function(v){if(v&&v.getPath()){var P="0000000000";var e=P+((parseInt(v.getPath().substring(v.getPath().lastIndexOf("/")+1),10)+1)*10).toString();return e.substr(e.length-P.length);}else{l.error("Annotation Helper: Unable to get index.");}},getColumnListItemType:function(L,e,M,T,i,j){var I=!T.level;var v=I&&e.some(function(x){return x.navigationProperty;});var w=i||I;return n(L,e,M,j,w,false,v);},getRowActionCountForDetailPage:function(L,e,M,i,I){return o(L,e,M,i,I);},getRowActionCountForListReport:function(L,e,M,i){return o(L,e,M,"",true);},hasSubObjectPage:function(L,e){return h(L,e);},isRelatedEntityCreatable:function(I,e,j,v,w,x,y){var z=false;var M=I.getInterface(0).getModel();var B=e["Org.OData.Capabilities.V1.InsertRestrictions"];var C=M.getODataEntityType(e.entityType);var G;var H;if(u.hasSubObjectPage(j,v)||(x&&u.isInlineCreate(w,x))||(x&&u.isCreateWithParameter(w,x))){if(y){z="{= ${ui>/editable}}";}else{z="{= !${ui>/editable}}";}G=u.handleNavigationRestrictions(M,e,j,"Insertable");if(G&&G["Insertable"]){if(G["Insertable"].Path){H=G["Insertable"].Path;z=y?"{= ${ui>/editable} ? ${"+H+"} : false}":"{= !${ui>/editable} ? ${"+H+"} : false}";}}else if(B&&B.NonInsertableNavigationProperties&&B.NonInsertableNavigationProperties.length>0){for(var i=0;i<B.NonInsertableNavigationProperties.length;i++){var N=B.NonInsertableNavigationProperties[i];var J=u._getNonInsertableNavigationPropertyPath(N);if(J){var K=M.getODataAssociationSetEnd(C,J);if(K&&K.entitySet===j.name){if(N.If&&N.If.length===2){var L=N.If[0];H=L.Not?L.Not.Path:L.Path;if(p(M,e.entityType,H)){u._actionControlExpand(I,H,C.name);if(y){if(L.Not){z="{= ${ui>/editable} ? ${"+H+"} : false}";}else{z="{= ${ui>/editable} ? !${"+H+"} : false}";}}else{if(L.Not){z="{= !${ui>/editable} ? ${"+H+"} : false}";}else{z="{= !${ui>/editable} ? !${"+H+"} : false}";}}}else{z=false;l.warning("Creatable-Path is not valid. Creation for "+j.name+" is disabled");}}else{z=false;}break;}}}}}return z;},_getNonInsertableNavigationPropertyPath:function(N){var e;if(N.NavigationPropertyPath){e=N.NavigationPropertyPath;}else if(N.If){e=N.If[1].NavigationPropertyPath;}return e;},areBooleanRestrictionsValidAndPossible:function(i,e,j,v,w,O){var x;var M=i.getInterface(0).getModel();var y=j.entityType;var z,B,C;if(w){x=M.getODataEntitySet(w);C=x.entityType;}var G=u.handleNavigationRestrictions(M,x,j,v);if(G){z=G[v];B=C;}else{z=e&&e[v];B=y;}var V=!z||(z.Bool?!z.Path:(!!z.Path&&p(M,B,z.Path)));if(!V){l.error("Service Broken: Restrictions annotations for entity type "+y+" for section '"+v+"' are invalid.");}return V&&(!!O||!z||z.Bool!=="false");},handleNavigationRestrictions:function(M,e,j,v){if(!e){return false;}var w={"Insertable":"InsertRestrictions","Deletable":"DeleteRestrictions","Updatable":"UpdateRestrictions"};var i,N;var x=e["Org.OData.Capabilities.V1.NavigationRestrictions"];if(x&&x.RestrictedProperties){var y=x.RestrictedProperties;for(i in y){N=y[i];var z=M.getODataEntityType(e.entityType);var B=N.NavigationProperty.NavigationPropertyPath;var C=M.getODataAssociationSetEnd(z,B);if(C&&C.entitySet===j.name&&N[w[v]]){return N[w[v]];}}}return false;},_isPropertyPathBoolean:function(M,e,P){return p(M,e,P);},_actionControlExpand:function(i,P,e){var v=[],w;i=i.getInterface(0);var M=i.getModel();var x=M.getODataEntityType(e);if(P){w=u._getNavigationPrefix(M,x,P);if(w){v.push(w);}}if(v.length>0){var y=i.getSetting("preprocessorsData");if(y){var z=y.rootContextExpand||[];for(var j=0;j<v.length;j++){if(z.indexOf(v[j])===-1){z.push(v[j]);}}y.rootContextExpand=z;}}},getEntityTypesForFormPersonalization:function(i,e,j){i=i.getInterface(0);var v=[];var M=i.getModel();var w=M.getODataEntitySet(j.name||'');var x=[];if(e.RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"&&e.Facets){x=e.Facets;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){x.push(e);}x.forEach(function(e){var N;if(e.Target&&e.Target.AnnotationPath&&e.Target.AnnotationPath.indexOf("/")>0){N=e.Target.AnnotationPath.split("/")[0];var y=M.getODataEntityType(w.entityType);var z=M.getODataAssociationSetEnd(y,N);if(z&&z.entitySet){w=M.getODataEntitySet(z.entitySet);if(v.indexOf(w.entityType.split(".")[1])===-1){v.push(w.entityType.split(".")[1]);}}}else{if(v.indexOf(j.entityType.split(".")[1])===-1){v.push(j.entityType.split(".")[1]);}}});return v.join(", ");},_mapTextArrangement4smartControl:function(T){var e="descriptionAndId";switch(T){case"com.sap.vocabularies.UI.v1.TextArrangementType/TextLast":e="idAndDescription";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate":e="idOnly";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly":e="descriptionOnly";break;default:break;}return e;},getTextArrangementForSmartControl:function(i,e,j,v){i=i.getInterface(0);var w;var M=i.getModel();if(j.name==undefined){w=M.getODataEntityType(v.entityType);}else{w=M.getODataEntityType(j.entityType);}var T="descriptionAndId";if(M.getODataProperty(w,e.Value.Path)){var P=M.getODataProperty(w,e.Value.Path)["com.sap.vocabularies.Common.v1.Text"];if(P&&P["com.sap.vocabularies.UI.v1.TextArrangement"]&&P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=u._mapTextArrangement4smartControl(P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(w["com.sap.vocabularies.UI.v1.TextArrangement"]&&w["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=u._mapTextArrangement4smartControl(w["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}return T;},getTableTitle:function(e,j,H){var P=null;var L=new Map();var v=new RegExp("'",'g');var w=new RegExp('"','g');var G=function(e,P){for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){G(e[i].Facets,e[i].Label.String);}else if(e[i].RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&e[i].Target&&e[i].Target.AnnotationPath.indexOf("LineItem")>-1){if(P!==null){L.set(e[i].Target.AnnotationPath,P);}else{L.set(e[i].Target.AnnotationPath,e[i].Label.String);}}}};G(e,P);var x=L.get(j.Target.AnnotationPath);x=x.replace(v,"\\'");x=x.replace(w,'\\"');if(x.indexOf(">")>-1){x="@i18n>"+x.split(">")[1].split("}")[0];}else{x="@i18n>"+x;}if(H&&H.TypeNamePlural&&H.TypeNamePlural.String){var T=H.TypeNamePlural.String;T=T.replace(v,"\\'");T=T.replace(w,'\\"');if(T===''){return"";}else if(T.indexOf(">")>-1){T="@i18n>"+T.split(">")[1].split("}")[0];}else{T="@i18n>"+T;}return"{parts: [{path: '"+T+"'}, {path: '"+x+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatTableTitle'}";}else{return"";}},formatTableTitle:function(T,e){if(T&&T!==e){return T;}return"";},getTitle:function(e,i,N){var j;var T=u.getTextArrangementObject(e,i,N);if(T){j=u.getTitleTextArrangementBindingPath(T.textArrangement,T.propertyPath,T.textPath);}return j;},getDescription:function(e,i,N){var j;var T=u.getTextArrangementObject(e,i,N);if(T){j=u.getDescriptionTextArrangementBindingPath(T.textArrangement,T.propertyPath,T.textPath);}return j;},getTextArrangementObject:function(e,i,N){var T,P,j;if(i){P=i.name;var v=i["com.sap.vocabularies.Common.v1.Text"];if(v){j=v.Path;}T=u.getTextArrangement(e,i);return{textArrangement:T,propertyPath:P,textPath:j};}},getTextArrangement:function(e,i){var T;if(i["com.sap.vocabularies.UI.v1.TextArrangement"]&&i["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=u._mapTextArrangement4smartControl(i["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}if(!T){var P=i["com.sap.vocabularies.Common.v1.Text"];if(P&&P["com.sap.vocabularies.UI.v1.TextArrangement"]&&P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=u._mapTextArrangement4smartControl(P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(!T){if(e&&e["com.sap.vocabularies.UI.v1.TextArrangement"]&&e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=u._mapTextArrangement4smartControl(e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(!T){T="descriptionAndId";}return T;},getTitleTextArrangementBindingPath:function(T,P,e){var i="{"+P+"}";var j="{"+e+"}";if(!e){return i;}if(T==="descriptionAndId"){return j;}else if(T==="descriptionOnly"){return j;}else if(T==="idAndDescription"){return i;}else if(T==="idOnly"){return i;}},getDescriptionTextArrangementBindingPath:function(T,P,e){var i="{"+P+"}";var j="{"+e+"}";if(!e){return"";}if(T==="descriptionAndId"){return i;}else if(T==="descriptionOnly"){return"";}else if(T==="idAndDescription"){return j;}else if(T==="idOnly"){return"";}},isDeepFacetHierarchy:function(e){if(e.Facets){for(var i=0;i<e.Facets.length;i++){if(e.Facets[i].RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){return true;}}}return false;},doesCollectionFacetOnlyContainForms:function(e){var j=true;if(e.Facets){for(var i=0;i<e.Facets.length;i++){if(e.Facets[i].Target&&e.Facets[i].Target.AnnotationPath){if((e.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")<0)&&(e.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Identification")<0)&&(e.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.DataPoint")<0)){j=false;}}}}else{j=false;}return j;},doesFieldGroupContainOnlyOneMultiLineDataField:function(e,i){if(e.Data.length!==1){return false;}if((i['com.sap.vocabularies.UI.v1.MultiLineText']===undefined)||(e.Data[0].RecordType!=="com.sap.vocabularies.UI.v1.DataField")){return false;}return true;},testFormatter:function(v){return"formatted:"+v;},getFacetID:function(e,i){return e+"|"+u.getStableIdPartFromFacet(i);},isListReportTemplate:function(e){if(e){return e.template==="sap.suite.ui.generic.template.ListReport";}},getStableIdPartForDatafieldActionButton:function(e,i,T,C){var j="";var v="";var w="";if(i){w=u.getStableIdPartFromFacet(i);}if(e){v=u.getStableIdPartFromDataField(e);}j=(w!==""?w+"::":"")+"action::"+v;var x=u.getSuffixFromIconTabFilterKey(T);if(x){j=j.concat(x);}if(C){j=j+"::chart";}return j;},_hasCustomDeterminingActionsInListReport:function(e,M){if(M&&M[e]){var i=M[e];if(i.Actions){for(var j in i.Actions){if(i.Actions[j].determining){return true;}}}}return false;},hasDeterminingActionsRespectingApplicablePath:function(C,T,e,M){var i="";C=C.getInterface(0);if(e&&M&&M["sap.suite.ui.generic.template.ObjectPage.view.Details"]){var j=M["sap.suite.ui.generic.template.ObjectPage.view.Details"]["sap.ui.generic.app"];if(j&&j[e]){var v=j[e];if(v.Header&&v.Header.Actions){for(var w in v.Header.Actions){if(v.Header.Actions[w].determining){if(v.Header.Actions[w].applicablePath){if(i.length>0){i+=" || ";}i+="${path: '"+v.Header.Actions[w].applicablePath+"'}";}else{return true;}}}}}}if(T){for(var x=0;x<T.length;x++){if((T[x].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction")&&T[x].Determining&&T[x].Determining.Bool==="true"){var y=C.getModel().getODataFunctionImport(T[x].Action.String,true);var z=C.getModel().getObject(y);if(z["sap:applicable-path"]){if(i.length>0){i+=" || ";}i+="${path: '"+z["sap:applicable-path"]+"'}";}else{return"true";}}}}if(i.length>0){return"{= "+i+" || ${ui>/editable}}";}else{return"{ui>/editable}";}},hasDeterminingActions:function(T,e,M){if(e&&M&&M["sap.suite.ui.generic.template.ListReport.view.ListReport"]&&u._hasCustomDeterminingActionsInListReport(e,M["sap.suite.ui.generic.template.ListReport.view.ListReport"]["sap.ui.generic.app"])){return"true";}else if(e&&M&&M["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]&&u._hasCustomDeterminingActionsInListReport(e,M["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]["sap.ui.generic.app"])){return"true";}for(var i=0;i<T.length;i++){if((T[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||T[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&T[i].Determining&&T[i].Determining.Bool==="true"){return"true";}}return"false";},actionControlDetermining:function(e,i,j){if(j["com.sap.vocabularies.UI.v1.Hidden"]){return u.getBindingForHiddenPath(j);}else if(u.isListReportTemplate(e)||!i){return true;}else{return"{path: '"+i+"'}";}},actionControlInline:function(e){if(!e){return true;}else{return"{path: '"+e+"'}";}},buildExpressionForProgressIndicatorPercentValue:function(i,e,U){var P="0";if(e.Value&&e.Value.Path){var v="$"+sap.ui.model.odata.AnnotationHelper.format(i,e.Value);var T,j;if(e.TargetValue){T=sap.ui.model.odata.AnnotationHelper.format(i,e.TargetValue);T=e.TargetValue.Path?"$"+T:T;}if(U){U=U['Org.OData.Measures.V1.Unit']||U["Org.OData.Measures.V1.ISOCurrency"];if(U){j=sap.ui.model.odata.AnnotationHelper.simplePath(i,U);j=j&&U.Path?"$"+j:"'"+j+"'";}}var w="({0} > 100 ? 100 : {0} < 0 ? 0 : {0} * 1)";var x="(({1}*1 > 0) ? (({0}*1 > {1}*1) ? 100 : (({0}*1 < 0) ? 0 : ({0} / {1} * 100))) : 0)";var y="'{'= ({2} === ''%'') ? "+w+" : "+x+" '}'";P=f(y,[v,T,j]);}return P;},buildExpressionForProgressIndicatorDisplayValue:function(i,e,U){var P;var j=function(i,w){var x=u.trimCurlyBraces(sap.ui.model.odata.AnnotationHelper.format(i,w));var y="{path: '"+x+"'}";return y;};P=j(i,e.Value)+", "+j(i,e.TargetValue)+", "+j(i,U);var v="{ parts: ["+P+"], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatDisplayValue' }";return v;},getProgressIndicatorTooltip:function(i,U){if(U&&U['com.sap.vocabularies.Common.v1.QuickInfo']&&U['com.sap.vocabularies.Common.v1.QuickInfo'].String){return U['com.sap.vocabularies.Common.v1.QuickInfo'].String;}else{return'';}},formatDisplayValue:function(v,T,U){var e="";if(v!==null&&v!==undefined){v=v.toString();}if(v){var C=this;var i=C.getModel("i18n").getResourceBundle();var j=C.getCustomData();var L=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();v=sap.ui.core.format.NumberFormat.getInstance(L).format(v);T=T||j.filter(function(O){if(O.getKey()==="Target"){return O;}});T=typeof(T)==="object"?(T[0]&&T[0].getValue()):T;U=U||j.filter(function(O){if(O.getKey()==="UoM"){return O;}});U=typeof(U)==="object"?(U[0]&&U[0].getValue()):U;if(U){if(U==='%'){e=i.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_PERCENT",[v]);}else{if(T){T=sap.ui.core.format.NumberFormat.getInstance(L).format(T);e=i.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT",[v,T,U]);}else{e=i.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT_NO_TARGET_VALUE",[v,U]);}}}else{if(T){T=sap.ui.core.format.NumberFormat.getInstance(L).format(T);e=i.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[v,T]);}else{e=v;}}}else{l.warning("Value property is mandatory, the default (empty string) will be returned");}return e;},buildExpressionForProgressIndicatorCriticality:function(i,e){var j=sap.ui.core.ValueState.None;var v;var C=e.Criticality;if(C){v="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+sap.ui.core.ValueState.Error+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Critical'') || ({0} === ''2'') || ({0} === 2) ? ''"+sap.ui.core.ValueState.Warning+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+sap.ui.core.ValueState.Success+"'' : "+"''"+sap.ui.core.ValueState.None+"'' '}'";if(C.Path){var w='$'+sap.ui.model.odata.AnnotationHelper.simplePath(i,C);j=f(v,w);}else if(C.EnumMember){var x="'"+C.EnumMember+"'";j=f(v,x);}else{l.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}}else{l.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}return j;},trimCurlyBraces:function(v){return v?v.replace("{","").replace("}",""):undefined;},getEntitySetName:function(e,i){var j="";try{j=e.name||i.name;}catch(v){l.warning("At least one of the input parameters is undefined. Returning default value for entity set name.");}return j;},getBreakoutActionEnabledKey:function(e,T){var B=u.getBreakoutActionButtonId(e,T);var i="{_templPriv>/generic/listCommons/breakoutActionsEnabled/"+B+"/enabled}";return i;},buildVisibilityExprOfDataFieldForIntentBasedNaviButton:function(e){if(e["com.sap.vocabularies.UI.v1.Hidden"]){return u.getBindingForHiddenPath(e);}else if(!!e.RequiresContext&&e.RequiresContext.Bool=="false"&&(!e.Inline||e.Inline.Bool==="false")){var i=e.SemanticObject.String;var j=e.Action.String;return"{= !!${_templPriv>/generic/supportedIntents/"+i+"/"+j+"/visible}}";}else{return true;}},searchForFirstSemKey_Title_Description:function(L){var e,T,j,v,w,M,x,y,z,B,C,G,H,I,J,K,N,i;if(!L){return;}e=L.getPath();if(e.indexOf("com.sap.vocabularies.UI.v1.LineItem")<0){return;}j=e&&e.lastIndexOf("/");v=e.substring(0,j);w=e.substring(j+1);M=L.getModel();C=M&&M.getObject(v);if(C){G=C["com.sap.vocabularies.Common.v1.SemanticKey"]&&C["com.sap.vocabularies.Common.v1.SemanticKey"][0]&&C["com.sap.vocabularies.Common.v1.SemanticKey"][0].PropertyPath;H=C[w];I=C["com.sap.vocabularies.UI.v1.HeaderInfo"];J="";K="";if(I){J=I&&I["Title"]&&I["Title"].Value&&I["Title"].Value.Path;K=I&&I["Description"]&&I["Description"].Value&&I["Description"].Value.Path;}N=H&&H.length;T=e+"/";for(i=0;i<N;i++){if(H[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&H[i].Value.Path===G){if(u.isPropertyHidden(H[i])){continue;}T=T+i+'/Value/Path';return T;}if(H[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&H[i].Value.Path===J){if(u.isPropertyHidden(H[i])){continue;}x=true;B=i;}if(H[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&H[i].Value.Path===K){if(u.isPropertyHidden(H[i])){continue;}y=true;z=i;}}if(x){T=T+B+'/Value/Path';return T;}else if(y){T=T+z+'/Value/Path';return T;}}else{l.warning("No entity type provided");}},isPropertyHidden:function(L){var H=false;if(L["com.sap.vocabularies.UI.v1.Hidden"]||(L["com.sap.vocabularies.Common.v1.FieldControl"]&&L["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember&&L["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden")){H=true;}return H;},getColumnHeaderText:function(e,i){var j;if(i.Label){return i.Label.String;}else{j=e["sap:label"]||(e["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return j;}},getColumnToolTip:function(e,i){var j;if(i.Label){return i.Label.String;}else{j=e["sap:quickinfo"]||(e["com.sap.vocabularies.Common.v1.QuickInfo"]||"").String||e["sap:label"]||(e["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return j;}},getTextForDataField:function(e){var v=e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path;return v;},getColumnCellFirstText:function(e,i,j,C){var v,T;T=u.getTextArrangement(j,e);switch(T){case"idAndDescription":v=i.Value.Path;if(!v){v=u.getTextForDataField(e);}break;case"idOnly":v=i.Value.Path;if(!v){v=u.getTextForDataField(e);}break;case"descriptionAndId":case"descriptionOnly":default:v=u.getTextForDataField(e);if(!v){v=i.Value.Path;}break;}if(v){if(C){return true;}else{if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){var w=u.formatDateTimeForCustomColumn(e.type,v);return w;}else{return"{"+v+"}";}}}},getColumnCellSecondText:function(e,i,j,C){var v;v=u.getTitlePath(e,i,j);if(v){if(C){return true;}else{if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){var w=u.formatDateTimeForCustomColumn(e.type,v);return w;}else{return"{"+v+"}";}}}},getTitlePath:function(e,i,j){var v,T;T=u.getTextArrangement(j,e);switch(T){case"idOnly":case"descriptionOnly":break;case"idAndDescription":if(!i.Value.Path){break;}v=u.getTextForDataField(e);break;case"descriptionAndId":default:if(!u.getTextForDataField(e)){break;}v=i.Value.Path;break;}return v;},getHeaderVisibility:function(e,i,j){var T,v;T=u.getTitlePath(e,i,j);if(!T){if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){T=u.getColumnCellFirstText(e,i,j);return"{= "+T+" ? false : true}";}else{T=u.getColumnCellFirstText(e,i,j).replace("{","").replace("}","");}}else{v=u.getTextArrangement(j,e);if(!v||v==="descriptionAndId"){T=u.getColumnCellFirstText(e,i,j).replace("{","").replace("}","");}if(v==="idAndDescription"){T=u.getTitlePath(e,i,j);}}if(T){return"{= ${path: '"+T+"'} ? false : true}";}return false;},formatDateTimeForCustomColumn:function(e,i){if(e==="Edm.DateTimeOffset"){return"{ path: '"+i+"', type: 'sap.ui.model.odata.type.DateTimeOffset', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}";}else if(e==="Edm.DateTime"){return"{ path: '"+i+"', type: 'sap.ui.model.odata.type.DateTime', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}";}else{return"{ path: '"+i+"', type: 'sap.ui.model.odata.type.Time', formatOptions: { style: 'medium'}}";}},getAdditionalSemanticObjects:function(e){var i;var j=[];for(i in e){if(i.indexOf("com.sap.vocabularies.Common.v1.SemanticObject#")!=-1){j.push(e[i].String);}}if(j.length>0){return j;}},getColumnCellFirstTextVisibility:function(e,i,j){var C=true;var v=!!u.getColumnCellFirstText(e,i,j,C);return v;},getColumnCellSecondTextVisibility:function(e,i,j){var C=true;var v=!!u.getColumnCellSecondText(e,i,j,C);return v;},isSmartLink:function(e){var i;for(i in e){if(i.indexOf('com.sap.vocabularies.Common.v1.SemanticObject')>=0){return true;}}return false;},setRowHighlight:function(e,T,L,C){var i=(T.entitySet===L)?T.isDraft:(T.isDraft||T.level===0)&&C(L);var j=T.level>0&&(i||!T.isDraft);var v=i?"{path: 'IsActiveEntity'}, {path: 'HasActiveEntity'}":"{value: true}, {value: true}";var M=j?"{path: 'ui>/editable'}, {path: '_templPrivMessage>/'}":"{value: false}, {value: ''}";var w=e["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];var x=(w&&w.Path)?", {path: '"+w.Path+"'}":"";return"{parts: ["+v+", "+M+x+", {path: ''}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.setInfoHighlight'}";},setInfoHighlight:function(e,j,v){var w=this.getBindingContext();if(!w){return"None";}var M="None";var x=sap.ui.core.MessageType;if(v){var y=w.getMessages();for(var i=0;i<y.length;i++){var z=y[i];var T=z.getType();if(T===x.Error){return"Error";}if(T===x.Warning){M="Warning";}else if(T===x.Information&&M!==x.Warning){M="Information";}}}if(e===false&&j===false){return M==="None"?"Information":M;}var C=s(this,w);return(C==="Error"||C==="Warning"||M==="None")?C:M;},getGroupElementQualifier:function(C){for(var i=0;i<C.length;i++){if(C[i].getKey()==="sap-ui-custom-settings"){var e=C[i].getValue()['sap.ui.dt'].annotation;if(typeof e=="string"){e=JSON.parse(e);}if(e){return(e.value[0]=="@")?e.value.substring(1):e.value;}else{return null;}}}return null;},getDataFieldLabel:function(i,e,j){var v;if(j.Label){return sap.ui.model.odata.AnnotationHelper.format(i,j.Label);}else{v=e["sap:label"]||(e["com.sap.vocabularies.Common.v1.Label"]||"").String||"";if(v===""){var w=(e.extensions)?e.extensions.find(function(x){return x.name==="label";}):null;if(w!==undefined&&w!==null){if(w.length!==undefined&&w.length>0){v=w[0].value;}else{v=w.value;}}else{v="";}}return v;}},getDataFieldValue:function(i,e,M){if(e&&!e.Path&&!e.Apply&&!e.String){return"";}var j=A.format(i.getModel()?i:i.getInterface(0),e);if(M){j=j.replace("{","{ mode:'"+M+"', ");}return j;},getDataFieldValueSimplePath:function(i,e,M){if(e&&!e.Path&&!e.Apply&&!e.String){return"";}var j=A.simplePath(i.getModel()?i:i.getInterface(0),e);if(M){j=j.replace("{","{ mode:'"+M+"', ");}return j;},formatObjectMarker:function(e,i,j){if(e&&i&&j){return sap.m.ObjectMarkerType.Locked;}else if(e&&i&&!j){return sap.m.ObjectMarkerType.Unsaved;}else{return sap.m.ObjectMarkerType.Flagged;}},formatObjectMarkerVisibility:function(e,i,j){if(e&&i&&j){return true;}else if(e&&i&&!j){return true;}else{return false;}},setNoDataTextForSmartTable:function(e,i){i="::"+e+"--"+i;return"{parts: [{value: '"+i+"'}], formatter: '._templateFormatters.setNoDataTextForSmartTable'}";},getRelevantDataForAnnotationRecord:function(M,e,i){var N,j;while(e.indexOf('/')>-1){N=e.split("/")[0];e=e.split('/').slice(1).join('/');j=M.getODataAssociationEnd(i,N);i=M.getODataEntityType(j&&j.type);}return{"entityType":i,"association":j,"dataFieldValuePath":e};},getTextArrangementForSCFields:function(I,e,v,C){var M=I.getInterface(0).getModel();var w=M.getODataEntityType(v.entityType);var x=e.Value.Path;w=u.getRelevantDataForAnnotationRecord(M,e.Value.Path,w).entityType;var P=w.property||[];var y,T;for(var i=0;i<P.length;i++){if(x===P[i].name){y=P[i]["sap:text"];break;}}for(var j=0;j<C.length;j++){if(C[j].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&C[j].Value.Path===y){return"idOnly";}}T=u.getTextArrangementForSmartControl(I,e,{},v);return T;},checkMultiplicityForDataFieldAssociation:function(i,e,j){if(j.Value&&j.Value.Path){var v=j.Value.Path;var M=i.getModel(0);var w=M.getODataEntityType(e.entityType);var x;if(!(v.indexOf('/')>-1)){return true;}while(v.indexOf('/')>-1){var N=v.split("/")[0];v=v.split('/').slice(1).join('/');w=M.getODataEntityType(x&&x.type)||w;x=M.getODataAssociationEnd(w,N);}if(x&&x.multiplicity==="*"){return false;}}return true;},checkMultiplicityForDataFieldAssociationInTable:function(i,e,j){if(j.Value&&j.Value.Path){var v=j.Value.Path;var M=i&&i.getModel&&i.getModel(0);var w=M&&M.getODataEntityType&&M.getODataEntityType(e.entityType);var x;if(!(v.indexOf('/')>-1)||!w){return false;}while(v.indexOf('/')>-1){var N=v.split("/")[0];v=v.split('/').slice(1).join('/');w=M.getODataEntityType(x&&x.type)||w;x=M.getODataAssociationEnd(w,N);}if(x&&x.multiplicity==="*"){return true;}}return false;},hasQuickViewFacet:function(I,e){var M=I.getModel();var v=M.getODataEntityType(e.entityType);var P=[];var w=[];var x,T,y,N,z;if(!v||!v.navigationProperty){return'\\{\\}';}var B=v.property||[];for(var i=0;i<B.length;i++){if(B[i]["com.sap.vocabularies.Common.v1.SemanticObject"]){P.push(B[i].name);}}for(var i=0;i<v.navigationProperty.length;i++){if(v.navigationProperty.name==="SiblingEntity"||v.navigationProperty.name==="DraftAdministrativeData"){continue;}T=M.getODataEntityType(M.getODataAssociationEnd(v,v.navigationProperty[i].name).type);if(T["com.sap.vocabularies.UI.v1.QuickViewFacets"]){y=M.getObject("/dataServices/schema");N=T.namespace;for(var j in y){if(y[j].namespace===N){x=y[j];break;}}var C;var G=x.association;var Q=v.navigationProperty[i].relationship;var H=Q.lastIndexOf(".");var J=Q.slice(H+1);for(var j in G){if(G[j].name===J){C=G[j];break;}}var K=(C.referentialConstraint&&C.referentialConstraint.dependent&&C.referentialConstraint.dependent.propertyRef)||[];for(var j=0;j<K.length;j++){if(P.indexOf(K[j].name)!==-1){w.push(K[j].name);}}}}if(w.length){z='\\{';for(var i=0;i<w.length;i++){z+='"'+w[i]+'":"true",';}return z.slice(0,-1)+'\\}';}else{return'\\{\\}';}},buildHeaderInfoCustomData:function(i,e){var H="";var v="";var I=false;var j=false;if(e&&e.Title&&e.Title.Value){H=e.Title.Value.Path?e.Title.Value.Path:(e.Title.Value.String||"");I=e.Title.Value.Path?true:false;j=false;if(e&&e.Description&&e.Description.Value){v=e.Description.Value.Path?e.Description.Value.Path:(e.Description.Value.String||"");j=e.Description.Value.Path?true:false;}}return'\{"headerTitle":"'+H+'"\,"isHeaderTitlePath":'+I+'\,"headerSubTitle":"'+v+'"\,"isHeaderSubTitlePath":'+j+'\}';},getPresentationVariantQualifier:function(e,v){var V=e[v];if(V.Visualizations||V.SortOrder){return v.split("#")[1]||"";}else if(V.PresentationVariant&&(V.PresentationVariant.Path||V.PresentationVariant.AnnotationPath)){var i=V.PresentationVariant.Path||V.PresentationVariant.AnnotationPath;return i.split("#")[1]||"";}else if(V.PresentationVariant){return"";}},getPresentationVariantInitialExpansionLevel:function(e,v){var V=e[v];var P=u.getPresentationVariant(V,e);if(P.InitialExpansionLevel){return P.InitialExpansionLevel.Int;}},getIconSemanticColor:function(i,C){var I="";if(C.EnumMember){I=C.EnumMember.split('/')[1];}else if(C.Value){var e=sap.ui.core.IconColor;switch(C.Value){case"0":I=e.Neutral;break;case"1":I=e.Negative;break;case"2":I=e.Critical;break;case"3":I=e.Positive;break;default:I="";}}else if(C.String){I=C.String;}else if(C.Path){I="{= $"+sap.ui.model.odata.AnnotationHelper.simplePath(i,C)+"}";}return I;}};u.setAriaText.requiresIContext=true;u.getLinkTextForDFwithIBN.requiresIContext=true;u.getLabelForDFwithIBN.requiresIContext=true;u.isPropertySemanticKey.requiresIContext=true;u.getRepeatIndex.requiresIContext=true;u.suppressP13NDuplicateColumns.requiresIContext=true;u.formatWithExpand.requiresIContext=true;u.formatWithExpandSimple.requiresIContext=true;u.getNavigationPathWithExpand.requiresIContext=true;u.getFormGroupBindingString.requiresIContext=true;u.getCurrentPathWithExpand.requiresIContext=true;u.getCurrentPathWithExpandForContact.requiresIContext=true;u.getEntityTypesForFormPersonalization.requiresIContext=true;u.getTextArrangementForSmartControl.requiresIContext=true;u.matchesBreadCrumb.requiresIContext=true;u.createP13N.requiresIContext=true;u.createP13NColumnForConnectedFields.requiresIContext=true;u.createP13NColumnForIndicator.requiresIContext=true;u.createP13NColumnForAction.requiresIContext=true;u.createP13NColumnForContactPopUp.requiresIContext=true;u.createP13NColumnForChart.requiresIContext=true;u.hasDeterminingActionsRespectingApplicablePath.requiresIContext=true;u.buildExpressionForProgressIndicatorPercentValue.requiresIContext=true;u.buildExpressionForProgressIndicatorDisplayValue.requiresIContext=true;u.getProgressIndicatorTooltip.requiresIContext=true;u.buildExpressionForProgressIndicatorCriticality.requiresIContext=true;u.areBooleanRestrictionsValidAndPossible.requiresIContext=true;u.isRelatedEntityCreatable.requiresIContext=true;u.buildBreadCrumbExpression.requiresIContext=true;u.getApplicablePathForChartToolbarActions.requiresIContext=true;u.buildAnnotatedActionButtonEnablementExpression.requiresIContext=true;u.getIconTabFilterText.requiresIContext=true;u.formatImageUrl.requiresIContext=true;u.getPathWithExpandFromHeader.requiresIContext=true;u.formatImageOrTypeUrl.requiresIContext=true;u.formatHeaderImage.requiresIContext=true;u.getDataFieldLabel.requiresIContext=true;u.getDataFieldValue.requiresIContext=true;u.getDataFieldValueSimplePath.requiresIContext=true;u.getActionButtonVisibility.requiresIContext=true;u.checkMultiplicityForDataFieldAssociation.requiresIContext=true;u.checkMultiplicityForDataFieldAssociationInTable.requiresIContext=true;u.getTextArrangementForSCFields.requiresIContext=true;u.hasQuickViewFacet.requiresIContext=true;u.buildActionButtonsCustomData.requiresIContext=true;u.buildHeaderInfoCustomData.requiresIContext=true;u.formatWithExpandSimplePath.requiresIContext=true;u.formatSmartField.requiresIContext=true;u.getIconSemanticColor.requiresIContext=true;return u;},true);
