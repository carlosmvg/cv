sap.ui.define(["sap/ui/base/Object","sap/suite/ui/generic/template/js/StableIdHelper","sap/suite/ui/generic/template/lib/multipleViews/MultipleViewsHandler","sap/base/util/extend","sap/suite/ui/generic/template/lib/FeError"],function(B,S,M,e,F){"use strict";var c="ListReport.controller.MultipleViewsHandler";function g(s,C,t){var G;var q;var m;var a;function o(){if(!G){return;}G.updateCounts();}function b(y,z){if(!G){return;}G.onRebindContentControl(y,z);}function f(I,y){return G?G.formatMessageStrip(I,y):"";}function d(){if(G){var y=G.getSelectedKey();var T=G.getContentForIappState(y);return{state:T};}return null;}function h(E){if(!G){return C.getOwnerComponent().getEntitySet()===E;}return G.hasEntity(E);}function i(I){return G&&G.formatItemTextForMultipleView(I);}function r(s){if(G){G.restoreFromIappState(s);x();}}function D(){return G&&G.determineSortOrder();}function R(y,T,E){if(!G){return false;}G.refreshOperation(y,T,E);return true;}function j(){return!!(q&&q.enableAutoBinding);}function k(){return a;}function l(){if(!G){return;}G.setActiveButtonState();}function n(){if(!G){return null;}return G.restoreActiveButtonState();}function p(y,T,P){if(!G){return;}G.setControlVariant(y,T,P);}function H(y){if(!G){return;}if(y.selectedQuickVariantSelectionKey){G.setSelectedKey(y.selectedQuickVariantSelectionKey);}}function u(){if(!m){return null;}return m==="single"?"tableViewData":"tableTabData";}function v(){return G.getSelectedKey();}function w(K){return G.setSelectedKey(K);}function O(E){var y=E.getParameter("itemContexts")&&E.getParameter("itemContexts")[0];t.oCommonEventHandlers.onListNavigate(E,s,undefined,y);}function x(){if(m==="multi"){var K=G.getSelectedKey();var y=S.getStableId({type:"ListReportTable",subType:"SmartTable",sQuickVariantKey:K});s.oSmartTable=C.byId(y);}}(function(){var y=t.oComponentUtils.getSettings();var Q=y.quickVariantSelectionX;var z=y.quickVariantSelection;if(Q&&z){throw new F(c,"Defining both QuickVariantSelection and QuickVariantSelectionX in the manifest is not allowed.");}q=Q||z;if(Q){a=Q.enableAutoBinding;if(a===null||a===undefined){Q.enableAutoBinding=true;}}if(!q){return;}var A;if(Q){m="multi";var I=S.getStableId({type:"QuickVariantSelectionX",subType:"IconTabBar"});A=C.byId(I);}else{m="single";var E=S.getStableId({type:"QuickVariantSelection",subType:"SegmentedButton"});var V=S.getStableId({type:"QuickVariantSelection",subType:"VariantSelect"});A=C.byId(E)||C.byId(V);}var J={manifestSettings:q,pathInTemplatePrivateModel:"/listReport/multipleViews",smartControl:z&&s.oSmartTable,getSmartControl:Q&&function(K){var L=S.getStableId({type:"ListReportTable",subType:"SmartTable","sQuickVariantKey":K});return C.byId(L);},switchingControl:A,smartFilterBar:s.oSmartFilterbar,getSearchValue:function(){return s.oSmartFilterbar.getBasicSearchValue();},appStateChange:function(){if(G){x();var K=s.oIappStateHandler.areDataShownInTable()||s.oWorklistData.bWorkListEnabled;s.oIappStateHandler.changeIappState(true,K);}},isDataToBeShown:function(){return s.oIappStateHandler.areDataShownInTable()||s.oWorklistData.bWorkListEnabled;},adaptRefreshRequestMode:function(K){return K+(s.oWorklistData.bWorkListEnabled&&K<2?2:0);},pathToActiveObjectEnabled:"/listReport/activeObjectEnabled",refreshModelOnTableRefresh:true};G=new M(C,t,J);x();})();return{onDataRequested:o,refreshOperation:R,onRebindContentControl:b,formatMessageStrip:f,getContentForIappState:d,restoreFromIappState:r,formatItemTextForMultipleView:i,getEnableAutoBinding:j,getOriginalEnableAutoBinding:k,determineSortOrder:D,setActiveButtonState:l,restoreActiveButtonState:n,setControlVariant:p,handleStartUpObject:H,onDetailsActionPress:O,getSelectedKeyPropertyName:u,getSelectedKey:v,setSelectedKey:w,hasEntitySet:h};}return B.extend("sap.suite.ui.generic.template.ListReport.controller.MultipleViewsHandler",{constructor:function(s,C,t){e(this,g(s,C,t));}});});
