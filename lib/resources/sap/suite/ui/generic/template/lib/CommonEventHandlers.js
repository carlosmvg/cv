sap.ui.define(["sap/ui/base/Object","sap/ui/base/Event","sap/m/MessageBox","sap/m/Table","sap/ui/model/Sorter","sap/suite/ui/generic/template/lib/testableHelper","sap/ui/model/json/JSONModel","sap/ui/core/library","sap/suite/ui/generic/template/js/AnnotationHelper","sap/suite/ui/generic/template/lib/modelHelper","sap/ui/generic/app/navigation/service/SelectionVariant","sap/ui/core/mvc/Controller","sap/suite/ui/generic/template/lib/FeLogger","sap/suite/ui/generic/template/lib/MessageUtils","sap/base/util/extend","sap/base/util/isEmptyObject","sap/suite/ui/generic/template/lib/PollyFill"],function(B,E,M,T,S,t,J,c,A,m,a,C,F,b,e,d){"use strict";var l=new F("lib.CommonEventHandlers").getLogger();var V=c.mvc.ViewType;function f(v){if(!v){return v;}if(Array.isArray(v)){return f(v[0]);}var o=typeof v.getObject==="function"?v.getObject():v;var r={};for(var k in o){if(!k.startsWith("_")){r[k]=o[k];}}return r;}function g(o,h,s,n){function p(i){var j=n.getOwnerControl(i.getSource());return n.isMTable(j)?j.getParent():j;}function q(i){var j={};for(var k in i){var C1=i[k];if(typeof C1==="string"){j[k]=C1;}else if(typeof C1==="object"){if(C1.value){j[k]=q(C1).value;}else{j[k]=C1;}}}return j;}function H(i){if(i instanceof sap.ui.generic.app.navigation.service.NavError){if(i.getErrorCode()==="NavigationHandler.isIntentSupported.notSupported"){sap.m.MessageBox.show(n.getText("ST_NAV_ERROR_NOT_AUTHORIZED_DESC"),{title:n.getText("ST_GENERIC_ERROR_TITLE")});}else{sap.m.MessageBox.show(i.getErrorCode(),{title:n.getText("ST_GENERIC_ERROR_TITLE")});}}}var v=Object.create(null);function r(j,k){var C1=j;var D1=-1;var E1=n.getOwnerControl(j);if(E1.getTable){E1=E1.getTable();}var F1=n.isAnalyticalTable(E1);var G1;if(!F1){var H1=n.getTableBindingInfo(E1);var I1=H1&&H1.binding;var J1=null;if(I1){if(n.isTreeTable(E1)){var K1=(I1.getLength()>0)?I1.getLength():0;if(K1>0){J1=[];for(var L1=0;L1<K1;L1++){J1.push(I1.getContextByIndex(L1));}}}else if(n.isUiTable(E1)){J1=I1.getContexts();}else if(E1 instanceof T){J1=I1.getCurrentContexts();}}var M1=null;var N1=null;if(C1&&C1.getBindingContext&&C1.getBindingContext().getPath){N1=C1.getBindingContext()?C1.getBindingContext().getPath():null;}if(I1&&I1.getContexts&&N1){for(var i=0;i<J1.length;i++){M1=J1[i];if(M1&&M1.getPath()===N1){D1=i;break;}}}if(E1&&D1!==-1&&J1.length>0){var O1;if(E1 instanceof T){O1=E1.getGrowingThreshold();}else if(n.isUiTable(E1)){O1=E1.getThreshold();}var P1=j.getParent();var Q1=P1.getId();var R1=function(M1){var S1=v[Q1];if(!S1){S1=j.clone();S1.setParent(P1);v[Q1]=S1;}S1.setBindingContext(M1);c1(S1,k,M1,true);};G1=J1&&{listBinding:I1,growingThreshold:O1,selectedRelativeIndex:D1,objectPageNavigationContexts:J1,paginate:R1};}}h.setPaginatorInfo(G1,true);}function u(i){var j=i.getSource(),k=j.getParent();n.setEnabledToolbarButtons(k);}function w(i,j){var k=i.getSource().getUrl();i.preventDefault();n.processDataLossConfirmationIfNonDraft(function(){sap.m.URLHelper.redirect(k,false);},Function.prototype,j);}var x;function y(j){x=j;return n.getDialogFragmentAsync("sap.suite.ui.generic.template.ListReport.view.fragments.DeleteConfirmation",{onCancel:function(i){var k=i.getSource().getParent();k.close();},onDelete:function(k){var C1=k.getSource().getParent();var D1=C1.getModel("delete");var E1=D1.getProperty("/items");var F1=[];var G1=[];var H1=[];var I1=[];for(var i=0;i<E1.length;i++){if(!E1[i].draftStatus.locked&&E1[i].deletable){if(!E1[i].draftStatus.draft){if(E1[i].draftStatus.draftActive){H1.push(E1[i].context.sPath);}else if(E1.length===D1.getProperty("/unsavedChangesItemsCount")||!E1[i].draftStatus.unsavedChanges||D1.getProperty("/unsavedChangesCheckboxSelected")){F1.push(E1[i].context.sPath);}}else{G1.push(E1[i].context.sPath);I1.push(E1[i].context.sPath);}}}G1=G1.concat(F1).concat(H1);var J1={smartTable:x,pathes:G1,onlyOneDraftPlusActive:G1.length===2&&I1.length===1&&H1.length===1,suppressRefreshAllComponents:!(z()||D()),withWarningDialog:true};var K1=s.oCRUDManager.deleteEntities(J1);K1.then(function(L1){var M1=0;var N1=[];var O1=L1.some(function(U1){return U1.isWarning;});for(var i=0;i<L1.length;i++){N1.push("/"+L1[i].sPath.split('/')[1]);if(H1.indexOf(N1[i])!==-1){M1=M1+1;}}var P1=G1.length-H1.length;var Q1=L1.length-M1;var R1=P1-Q1;if(Q1>0){var S1="";if(R1>0){S1+=n.getText("ST_GENERIC_NOT_DELETED_RECORDS",[Q1,P1]);}else{S1=(Q1>1)?n.getText("ST_GENERIC_DELETE_ERROR_PLURAL"):n.getText("ST_GENERIC_DELETE_ERROR");}if(O1){S1+="\n";if(Q1===1){S1+=n.getText("ST_GENERIC_DELETE_WITH_WARNING_SUGGESTION_SINGULAR");}else{S1+=n.getText("ST_GENERIC_DELETE_WITH_WARNING_SUGGESTION_PLURAL");}}M.error(S1);}else{var T1="";T1=(R1>1)?n.getText("ST_GENERIC_DELETE_SUCCESS_PLURAL"):n.getText("ST_GENERIC_OBJECT_DELETED");b.showSuccessMessageIfRequired(T1,s);}},Function.prototype);C1.close();}},"delete");}function z(){return h.getFclProxy()&&h.getFclProxy().isNextObjectLoadedAfterDelete();}function D(){return!!(h&&h.getSettings()&&h.getSettings().quickVariantSelectionX);}function G(i,j){return new Promise(function(k,C1){j.read(i+"/SiblingEntity",{success:function(D1){var E1="/"+j.getKey(D1);k(E1);},error:function(D1){var E1="Error";k(E1);}});});}function I(j,k){var C1=o.getView().getModel();var D1=C1.getMetaModel();var E1=D1.getODataEntitySet(o.getOwnerComponent().getEntitySet());var F1=E1["Org.OData.Capabilities.V1.DeleteRestrictions"];var G1=(F1&&F1.Deletable&&F1.Deletable.Path)?F1.Deletable.Path:"";var H1={items:undefined,itemsCount:j.length,text:{title:undefined,text:undefined,unsavedChanges:undefined,longText:undefined,undeletableText:undefined},lockedItemsCount:0,unsavedChangesItemsCount:0,undeletableCount:0,unsavedChangesCheckboxSelected:true,unsavedChangesCheckboxVisible:true,undeletableLocked:0,tableMode:""};var I1=[];var J1=[];var K1,L1,M1,N1,O1,P1;var Q1=[];for(var i=0;i<j.length;i++){K1=C1.getObject(j[i].getPath());if(!K1.IsActiveEntity){if(K1.HasActiveEntity){Q1.push(G(j[i].getPath(),C1));}}}var R1=0;return new Promise(function(S1,T1){Promise.all(Q1).then(function(U1){for(var i=0;i<j.length;i++){K1=C1.getObject(j[i].getPath());L1={};M1={};N1=true;O1={};P1=false;if(G1){if(C1.getProperty(G1,j[i])===false){N1=false;H1.undeletableCount++;}}if(!K1.IsActiveEntity){L1.draft=true;if(K1.HasActiveEntity){M1.draft=false;M1.draftActive=true;if(U1[R1]!="Error"){O1["oModel"]=j[0].getModel();O1["sPath"]=U1[R1++];}if(O1.sPath&&N1&&C1.getProperty(G1,C1.getContext(O1.sPath))===false){N1=false;H1.undeletableCount++;}}}else if(K1.HasDraftEntity){var V1=C1.getProperty("DraftAdministrativeData/CreatedByUserDescription",j[i])||C1.getProperty("DraftAdministrativeData/CreatedByUser",j[i]);P1=C1.getProperty("DraftAdministrativeData/InProcessByUser",j[i]);if(P1){if(N1===false){H1.undeletableLocked++;}L1.locked=true;L1.user=V1;H1.lockedItemsCount++;}else if(N1){L1.unsavedChanges=true;L1.user=V1;H1.unsavedChangesItemsCount++;}}I1.push({context:j[i],draftStatus:L1,deletable:N1});if(!K1.IsActiveEntity&&K1.HasActiveEntity){J1.push({context:O1,draftStatus:M1,deletable:N1});}}if(J1.length>0){I1=I1.concat(J1);}H1.items=I1;H1.text.unsavedChanges=n.getText("ST_GENERIC_UNSAVED_CHANGES_CHECKBOX");if(H1.itemsCount>1){var W1=0;if(H1.lockedItemsCount===H1.itemsCount){H1.text.text=n.getText("ST_GENERIC_DELETE_LOCKED_PLURAL");}else if(H1.unsavedChangesItemsCount===H1.itemsCount&&H1.undeletableCount===0){H1.text.text=n.getText("ST_GENERIC_DELETE_UNSAVED_CHANGES_PLURAL");}else if(H1.lockedItemsCount>0){W1=H1.itemsCount-H1.lockedItemsCount;H1.text.text=K(H1.lockedItemsCount,"ST_GENERIC_CURRENTLY_LOCKED_PLURAL","ST_GENERIC_CURRENTLY_LOCKED",[H1.lockedItemsCount,H1.itemsCount]);H1.text.text+="\n";H1.undeletableCount=H1.undeletableLocked>0?H1.undeletableCount-H1.undeletableLocked:H1.undeletableCount;if(H1.undeletableCount>0&&W1>=H1.undeletableCount){H1.text.text+=n.getText("ST_GENERIC_DELETE_UNDELETABLE",[H1.undeletableCount,H1.itemsCount]);W1=W1-H1.undeletableCount;H1.text.text+="\n";}if(H1.unsavedChangesItemsCount&&W1===H1.unsavedChangesItemsCount){H1.text.text+=K(W1,"ST_GENERIC_DELETE_REMAINING_UNSAVED_CHANGES_PLURAL","ST_GENERIC_DELETE_REMAINING_UNSAVED_CHANGES");W1=0;}}else if(H1.undeletableCount>0){W1=H1.itemsCount-H1.undeletableCount;H1.text.text=n.getText("ST_GENERIC_DELETE_UNDELETABLE",[H1.undeletableCount,H1.itemsCount]);H1.text.text+="\n";if((H1.unsavedChangesItemsCount&&W1===H1.unsavedChangesItemsCount)||H1.itemsCount===H1.unsavedChangesItemsCount){H1.text.text+=K(W1,"ST_GENERIC_DELETE_REMAINING_UNSAVED_CHANGES_PLURAL","ST_GENERIC_DELETE_REMAINING_UNSAVED_CHANGES");W1=0;}}else{H1.text.text=n.getText("ST_GENERIC_DELETE_SELECTED_PLURAL");}if(W1>0){H1.text.text+=(W1>1)?n.getText("ST_GENERIC_DELETE_REMAINING_PLURAL",[W1]):n.getText("ST_GENERIC_DELETE_REMAINING");}}else{var X1;if("getMode"in k.getTable()){X1=k.getTable().getMode();}if(H1.lockedItemsCount>0){H1.text.text=n.getText("ST_GENERIC_DELETE_LOCKED",[" ",H1.items[0].draftStatus.user]);}else if(H1.undeletableCount>0){if(X1==="Delete"){H1.tableMode=X1;}H1.text.text=n.getText("ST_GENERIC_NOT_DELETABLE");}else if(H1.unsavedChangesItemsCount>0){H1.text.text=n.getText("ST_GENERIC_DELETE_UNSAVED_CHANGES",[" ",H1.items[0].draftStatus.user]);}else{H1.text.text=L(k,j[0]);}}if(H1.lockedItemsCount===H1.itemsCount){H1.text.title=n.getText("ST_GENERIC_ERROR_TITLE");}else if(H1.itemsCount&&(H1.lockedItemsCount+H1.undeletableCount===H1.itemsCount)){H1.text.title=n.getText("WARNING");}else{H1.text.title=H1.text.title=(H1.itemsCount>1)?n.getText("ST_GENERIC_DELETE_TITLE_WITH_COUNT",[H1.itemsCount]):n.getText("ST_GENERIC_DELETE_TITLE");}if(H1.unsavedChangesItemsCount>0){if(H1.unsavedChangesItemsCount!==H1.itemsCount){if(H1.lockedItemsCount>0){if(H1.undeletableCount>0){if(((H1.itemsCount-H1.lockedItemsCount)-H1.undeletableCount)===H1.unsavedChangesItemsCount){H1.unsavedChangesCheckboxVisible=false;}}else if((H1.itemsCount-H1.lockedItemsCount)===H1.unsavedChangesItemsCount){H1.unsavedChangesCheckboxVisible=false;}}else if(H1.undeletableCount>0&&((H1.itemsCount-H1.undeletableCount)===H1.unsavedChangesItemsCount)){H1.unsavedChangesCheckboxVisible=false;}}else{H1.unsavedChangesCheckboxVisible=false;}}else{H1.unsavedChangesCheckboxVisible=false;}S1(H1);});});}function K(i,j,k,C1){var D1;if(!C1){D1=i>1?n.getText(j):n.getText(k);}else if(i>1&&C1.length>1){D1=n.getText(j,[C1[0],C1[1]]);}else if(C1){D1=n.getText(k,[C1[1]]);}return D1;}function L(i,j,k){var C1;var D1;var E1;var F1;var G1=j.getModel();var H1=G1.oData;var I1=i.getCustomData();for(var J1 in I1){if(I1[J1].getKey()&&I1[J1].getKey()==="headerInfo"&&I1[J1].getValue()&&I1[J1].getValue()["headerTitle"]){C1=j.getPath().split("/")[1];F1=I1[J1].getValue();D1=F1["headerTitle"];E1=F1["headerSubTitle"];if(F1["isHeaderTitlePath"]){D1=(H1[C1]&&H1[C1][D1])||"";}if(E1&&F1["isHeaderSubTitlePath"]){E1=(H1[C1]&&H1[C1][E1])||"";}break;}}return B1(D1,E1,k,false,i);}function N(i,j,k,C1){var D1=s.oApplication.getNavigationHandler();var E1={};var F1={};i.parameters=q(i.parameters);for(var G1 in i.parameters){if(d(i.parameters[G1])){E1[G1]=i.parameters[G1];}else{F1[G1]=i.parameters[G1];}}D1.mixAttributesAndSelectionVariant({},C1).getParameterNames().forEach(function(G1){delete E1[G1];});var H1=f(k);var I1=f(j);var J1=e({},E1,H1,I1,F1);return D1.mixAttributesAndSelectionVariant(J1,C1);}function O(i,j,k,C1){var D1=s.oApplication.getNavigationHandler();var E1,F1;if(k){E1=k.getUiState().getSelectionVariant();if(typeof E1!=="string"){E1=JSON.stringify(E1);}if(k.getEntitySet()!==C1.getEntitySet()){var G1=D1.constructContextUrl(C1.getEntitySet(),C1.getModel());var H1=JSON.parse(E1);H1.FilterContextUrl=G1;E1=JSON.stringify(H1);}}F1=N(i,j,o.getView().getBindingContext(),E1);var I1={semanticObject:i.semanticObject,action:i.action};o.adaptNavigationParameterExtension(F1,I1);D1.navigate(i.semanticObject,i.action,F1.toJSONString(),null,H);}function P(i){var j=s.oApplication.getNavigationHandler();var k={semanticObject:i.semanticObject,action:i.action};var C1=j.mixAttributesAndSelectionVariant(i.semanticAttributes);o.adaptNavigationParameterExtension(C1,k);j.navigate(i.semanticObject,i.action,C1.toJSONString(),null,H);}function Q(i,k){var C1=i.byId("icon");var D1=C1&&C1.getSrc();if(D1===""){D1=undefined;}var E1=i.byId("title");var F1=E1&&E1.getText();if(F1===""){F1=undefined;}var G1=i.byId("description");var H1=G1&&G1.getText();if(H1===""){H1=undefined;}for(var j=0;j<k.length;j++){var I1=k[j];var J1=A.getStableIdPartFromFacet(I1)+"::contactTitleAreaIcon";var K1=i.byId(J1);var L1=A.getStableIdPartFromFacet(I1)+"::contactTitleAreaTitle";var M1=i.byId(L1);var N1=A.getStableIdPartFromFacet(I1)+"::contactTitleAreaDescription";var O1=i.byId(N1);var P1=K1&&K1.getSrc();if(P1===""){P1=undefined;}var Q1=M1&&M1.getText();if(Q1===""){Q1=undefined;}var R1=O1&&O1.getText();if(R1===""){R1=undefined;}if(D1&&P1&&F1&&Q1&&H1&&R1){if((D1===P1||!P1)&&(F1===Q1||!Q1)&&(H1===R1||!R1)){var S1=A.getStableIdPartFromFacet(I1)+"::contactTitleArea";var T1=i.byId(S1);if(T1&&T1.setVisible){T1.setVisible(false);}}}}}function R(i,j,k,C1){var D1=o.getOwnerComponent().getAppComponent().getManifestEntry("sap.app");var E1=D1.crossNavigation.outbounds[i.data("CrossNavigation")];var F1;if(k){if(n.isSmartChart(i)){F1=n.getOwnerControl(C1)||n.getOwnerControl(i);}else{F1=n.getOwnerControl(i).getParent();}}O(E1,j,k,F1);}function U(i,j){window.location.href=i.mParameters.href;}function W(i,j){n.processDataLossConfirmationIfNonDraft(function(){var k=i.data('SemanticObject');var C1=i.data('Action');var D1=i.data('SemanticAttributes');if(k&&C1){var E1={semanticObject:k,action:C1};if(D1){D1="{"+D1+"}";E1.semanticAttributes=JSON.parse(D1);}P(E1);}},Function.prototype);}function X(k,C1,D1,E1,F1){var G1="";var H1=function(l2){var m2=l2.dependent.propertyRef;var n2=C1.originalId;var o2=o.getView().byId(n2);if(o2&&o2.mProperties.fieldName){for(var p2 in m2){if(m2[p2].name===o2.mProperties.fieldName){G1=o2.mProperties.fieldName;return true;}}}if(!o2){var q2=document.querySelector("#"+n2.replace(/(:|\.|\[|\]|,|=)/g,"\\$1"));if(q2){var r2=q2.closest('[data-sap-ui]');if(r2){o2=sap.ui.getCore().byId(r2.id);}if(o2&&o2.mProperties.fieldName){for(var p2 in m2){if(m2[p2].name===o2.mProperties.fieldName){G1=o2.mProperties.fieldName;return true;}}}}}return false;};var I1=function(){var J1,Q1,l2,m2,n2,o2,p2;Q1=k.getModel().getMetaModel();l2=Q1.getODataEntitySet(k.getEntitySet());m2=Q1.getODataEntityType(l2.entityType);if(!m2||!m2.navigationProperty){return;}for(var i=0;i<m2.navigationProperty.length;i++){n2=m2.navigationProperty[i];if(n2.name==="SiblingEntity"||n2.name==="DraftAdministrativeData"){continue;}var q2=n2.relationship;var r2=q2.lastIndexOf(".");var s2=q2.slice(0,r2);var t2=q2.slice(r2+1);var u2=Q1.getObject("/dataServices/schema");var v2;for(var j in u2){if(u2[j].namespace===s2){v2=u2[j];break;}}var w2=v2.association;var x2;for(var j in w2){if(w2[j].name===t2){x2=w2[j];break;}}var y2=x2.referentialConstraint;if(y2&&y2.dependent&&y2.dependent.propertyRef){var z2=H1(y2);if(z2){o2=Q1.getODataAssociationEnd(m2,n2.name);p2=Q1.getODataEntityType(o2.type);var A2=Q1.getODataEntityContainer();var B2="";var C2="";var D2="";for(var j=0;j<A2.entitySet.length;j++){var E2=p2.entityType;if(!E2){E2=p2.namespace+"."+p2.name;}if(A2.entitySet[j].entityType===E2){B2=A2.entitySet[j].name;C2=A2.entitySet[j].entityType;break;}}J1={navigation:n2.name,entitySet:B2,entityType:C2};if(p2["com.sap.vocabularies.UI.v1.HeaderInfo"]&&C2){var D2=Q1.getODataEntityType(C2,true)+"/com.sap.vocabularies.UI.v1.HeaderInfo";J1.headerInfoPath=D2;}if(p2["com.sap.vocabularies.UI.v1.QuickViewFacets"]&&C2){var F2=Q1.getODataEntityType(C2,true)+"/com.sap.vocabularies.UI.v1.QuickViewFacets";J1.quickViewFacetODataPath=F2;}if(J1.headerInfoPath||J1.quickViewFacetODataPath){return J1;}}}}return J1;};var J1=I1();var K1=false;var L1=false;var M1=false;var N1=[];var O1=o.getOwnerComponent();var P1=O1.getModel();var Q1=P1.getMetaModel();if(J1){if(J1.quickViewFacetODataPath){var R1=Q1.createBindingContext(J1.quickViewFacetODataPath,true);var S1=R1&&R1.getModel().getObject(R1.getPath());if(S1){K1=true;for(var j=0;j<S1.length;j++){var T1=S1[j];if(T1&&T1.Target&&T1.Target.AnnotationPath){if(T1.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>-1){L1=true;}else if(T1.Target.AnnotationPath.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){M1=true;N1.push(T1);}}}}}}if(K1){var U1,V1;U1=Q1.getODataEntitySet(k.getEntitySet());V1=Q1.getODataEntityType(U1.entityType);var W1=J1.headerInfoPath&&Q1.createBindingContext(J1.headerInfoPath,true);var F1=C1.mainNavigation;var X1=C1.semanticObject;var Y1,Z1;if(X1&&F1){var $1=F1.getTarget&&F1.getTarget()||"";var _1=F1.getKey&&F1.getKey();if(_1){var a2=_1.split(X1+"-");Y1=a2&&a2[1];if(X1&&Y1){Z1={"Target":$1,"SemanticObject":X1,"Action":Y1};}if(C1.semanticAttributes){Z1.SemanticAttributes=C1.semanticAttributes;for(var i in C1.semanticAttributes){var b2=C1.semanticAttributes[i];if(b2.indexOf("{\"__deferred\":")>-1){delete Z1.SemanticAttributes[i];}if(b2.indexOf("{\"__ref\":")>-1){delete Z1.SemanticAttributes[i];}}if(Z1.SemanticAttributes){var c2=JSON.stringify(Z1.SemanticAttributes);if(c2&&c2.length>1){Z1.SemanticAttributes=c2.substring(1,c2.length-1);}}}}}var d2=Q1.getODataProperty(V1,G1);var e2=k&&k.mProperties&&k.mProperties.fieldSemanticObjectMap;var f2=new J({sourceClickedField:d2,sourceEntityType:V1,showFieldGroup:L1,showContact:M1,ignoredFields:e2,navigationPath:J1.navigation,mainNavigation:Z1});f2.setDefaultBindingMode("OneWay");var g2;var h2=C.extend("",{oState:D1,_templateEventHandlers:{onSemanticObjectLinkNavigationPressed:o._templateEventHandlers.onSemanticObjectLinkNavigationPressed.bind(o._templateEventHandlers),onDataFieldWithIntentBasedNavigation:o._templateEventHandlers.onDataFieldWithIntentBasedNavigation.bind(o._templateEventHandlers)},onInit:function(){},onExit:function(){},onAfterRendering:function(){var i2=this.oView;var l2=i2.getParent().getParent().getParent();l2.setBusy(false);}});g2=new h2();h2.connectToView=o.connectToView.bind(g2);var i2=sap.ui.view({async:true,preprocessors:{xml:{bindingContexts:{sourceEntitySet:Q1.createBindingContext(Q1.getODataEntitySet(k.getEntitySet(),true)),entitySet:Q1.createBindingContext(Q1.getODataEntitySet(J1.entitySet,true)),header:W1,facetCollection:R1},models:{sourceEntitySet:Q1,entitySet:Q1,header:Q1,facetCollection:Q1,quickView:f2,parameter:h.getParameterModelForTemplating()}}},controller:g2,type:V.XML,viewName:"sap.suite.ui.generic.template.fragments.QuickViewSmartForm",height:"100%"});C1.show(undefined,undefined,undefined,i2);var j2=function(l2){var m2=l2.getSource();if(m2){var n2=m2.getParent().getParent().getParent();n2.setBusy(true);n2.setBusyIndicatorDelay(10);}};i2.attachBeforeRendering(j2.bind(this));var k2=function(l2){var m2=l2.getSource();if(m2){var n2=m2.byId("ownTitleArea");if(n2){var o2=m2.getParent();if(o2&&o2.getItems){var p2=o2.getItems()&&o2.getItems()[0];if(p2&&p2!=m2){p2.setVisible(false);}}}if(M1&&N1&&n2){Q(m2,N1);}}};i2.attachAfterRendering(k2.bind(this));}else{C1.show(E1,F1,undefined,undefined);}}function Y(o,i){var C1=o.getView&&o.getView().getBindingContext();var D1=C1.getObject();var E1=o.getOwnerComponent().getModel().getMetaModel();var F1=E1.getODataEntitySet(o.getOwnerComponent().getEntitySet());var G1=E1.getODataEntityType(F1.entityType);var H1=G1["com.sap.vocabularies.Common.v1.SemanticKey"];var I1={};if(H1&&H1.length>0){for(var j=0;j<H1.length;j++){var J1=H1[j].PropertyPath;if(!I1[J1]){I1[J1]=[];I1[J1].push(D1[J1]);}}}else{for(var k in G1.key.propertyRef){var K1=G1.key.propertyRef[k].name;if(!I1[K1]){I1[K1]=[];I1[K1].push(D1[K1]);}}}return I1;}function Z(k,i,C1,D1){if(k[i].entitySet==C1&&D1===k[i].navigationProperty&&k[i].navigation&&k[i].navigation["display"]&&(k[i].component&&k[i].component.settings&&k[i].component.settings.hideChevronForUnauthorizedExtNav===true)){return k[i].navigation.display.target;}else if(k[i].entitySet==C1&&k[i].navigation&&k[i].navigation["display"]&&(k[i].component&&k[i].component.settings&&k[i].component.settings.hideChevronForUnauthorizedExtNav===true)){return k[i].navigation.display.target;}else if(k[i].pages){for(var j=0;j<(k[i].pages.length);j++){var E1=Z(k[i].pages,j,C1,D1);if(E1!==undefined&&E1!==null){return E1;}}}}function $(i){var j=i.getSource().getTable();var k=i.getSource().getEntitySet();var C1=i.getSource().getTableBindingPath();var D1=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService&&sap.ushell.Container.getService("CrossApplicationNavigation");var E1=o.getOwnerComponent().getAppComponent().getConfig().pages;var F1=Z(E1,0,k,C1);if(F1!==undefined&&F1!==null&&D1){var G1=o.getOwnerComponent().getAppComponent().getManifestEntry("sap.app").crossNavigation.outbounds[F1];if(G1){var H1=G1.semanticObject;var I1=G1.action;var J1=o.getView().getModel("_templPriv");var K1=J1.getProperty("/generic/supportedIntents/");var L1=(C1==="")?k:k+"::"+C1;var M1=J1.getProperty("/generic/supportedIntents/"+H1+"/"+I1+"/"+L1);if(!M1){var N1={},O1;var P1=o.getOwnerComponent().getAppComponent();for(var Q1 in G1.parameters){if(!d(G1.parameters[Q1])){N1[Q1]=G1.parameters[Q1];}}if(o.getMetadata().getName()==='sap.suite.ui.generic.template.ObjectPage.view.Details'){O1=Y(o,P1);}var R1={semanticObject:H1,action:I1};var S1=e({},O1,N1);var T1={target:R1,params:S1};var U1=D1.isNavigationSupported([T1],P1);U1.done(function(V1){var W1=J1.getProperty("/generic/supportedIntents/"+H1);if(!W1){K1[H1]={};K1[H1][I1]={};K1[H1][I1][L1]={"supported":V1[0].supported};}else if(!W1[I1]){W1[I1]={};W1[I1][L1]={"supported":V1[0].supported};}else{W1[I1][L1]={"supported":V1[0].supported};}J1.updateBindings();if(V1[0].supported&&n.isUiTable(j)){var X1=j.getRowActionTemplate();X1.getItems()[0].setVisible(true);j.setRowActionTemplate(X1);}});}}}}function _(i){n.setEnabledToolbarButtons(i.getSource());$(i);}function a1(C1,D1){var E1=C1.getSource();var F1=E1.getTable();var G1=n.isMTable(F1);var H1=F1.getColumns();if(!D1||(D1&&!D1.isAnalyticalListPage)&&G1){for(var I1=0;I1<H1.length;I1++){var J1=H1[I1].data("p13nData")&&H1[I1].data("p13nData").columnKey;if(J1&&(J1.search("template::DataFieldForIntentBasedNavigation")>-1||J1.search("template::DataFieldForAction")>-1)){H1[I1].setPopinDisplay("WithoutHeader");}}}var K1=C1.getParameter("bindingParams");K1.parameters=K1.parameters||{};if(E1.data().allowSearchWorkListLight||E1&&E1.data&&E1.data().searchString){K1.parameters["custom"]={"search":C1.getSource().data().searchString};E1.data("allowSearchWorkListLight",false);if(C1.getSource().data().searchString){K1.parameters["custom"]={"search":C1.getSource().data().searchString};}}var L1=o.byId(E1.getSmartFilterId());var M1=E1.getCustomData();var N1={};for(var k=0;k<M1.length;k++){N1[M1[k].getKey()]=M1[k].getValue();}var O1=N1.InitialExpansionLevel;if(O1){K1.parameters.numberOfExpandedLevels=parseInt(O1,10);}if(!L1&&o.getMetadata().getName()==='sap.suite.ui.generic.template.ListReport.view.ListReport'){L1=o.byId("listReportFilter");var P1=L1.getBasicSearchValue();if(P1){K1.parameters["custom"]={"search":P1};}}var Q1=[];var R1=[];function S1(i,j,W1,X1,Y1){for(var Z1=0;Z1<i.length;Z1++){var $1=i[Z1];if($1){var _1=j.getODataProperty(W1,$1);if(_1){var a2=_1["com.sap.vocabularies.Common.v1.FieldControl"];if(a2&&a2!==" "&&a2.Path){if(D1.isFieldControlRequired||R1.indexOf($1)!==-1){Q1.push(a2.Path);}}}}}var b2=X1["Org.OData.Capabilities.V1.DeleteRestrictions"];Q1.push(b2&&b2.Deletable&&b2.Deletable.Path);var c2=X1["Org.OData.Capabilities.V1.UpdateRestrictions"];Q1.push(c2&&c2.Updatable&&c2.Updatable.Path);var d2=W1[Y1+"@com.sap.vocabularies.UI.v1.Criticality"];Q1.push(d2&&d2.Path);}function T1(i,j,W1){var X1,Y1;if(i.Value&&i.Value.Path){X1=j.getODataProperty(W1,i.Value.Path);if(X1){if(X1["com.sap.vocabularies.Common.v1.Text"]){Y1=X1["com.sap.vocabularies.Common.v1.Text"].Path;}if(X1["sap:text"]){Y1=X1["sap:text"];}}if(!Y1){Y1=i.Value.Path;}}return Y1;}function U1(i,j){var W1=j.getODataFunctionImport(i.Action.String,true);if(W1){var X1=j.getObject(W1);if(X1["sap:action-for"]!==" "&&X1["sap:applicable-path"]!==" "){return X1["sap:applicable-path"];}}return null;}function V1(i,j){var W1=[];if(i.Target&&i.Target.AnnotationPath){var X1=i.Target.AnnotationPath;var Y1=X1.split("@")[1];var Z1=j[Y1];if(Z1&&Z1.MeasureAttributes){if(Z1.MeasureAttributes[0]&&Z1.MeasureAttributes[0].DataPoint&&Z1.MeasureAttributes[0].DataPoint.AnnotationPath){var $1=Z1.MeasureAttributes[0].DataPoint.AnnotationPath.split("@")[1];var _1=j[$1];if(_1){for(var a2 in _1){W1.push(_1[a2]&&_1[a2].Path);if(a2==="CriticalityCalculation"&&_1.CriticalityCalculation){for(var b2 in _1.CriticalityCalculation){W1.push(_1.CriticalityCalculation[b2].Path);}}}}}}W1.push(Z1&&Z1.Measures&&Z1.Measures[0]&&Z1.Measures[0].PropertyPath);}return W1;}D1=D1||Object.create(null);D1.setBindingPath=E1.setTableBindingPath.bind(E1);D1.addNecessaryFields=function(W1,X1,Y1){var Z1=E1.getModel().getMetaModel();var $1=Z1.getODataEntitySet(Y1);var _1=Z1.getODataEntityType($1.entityType);if(W1.length>0){var a2=E1.data("lineItemQualifier");var b2="com.sap.vocabularies.UI.v1.LineItem"+(a2?"#"+a2:"");var c2=_1[b2]||[];for(var d2=0;d2<c2.length;d2++){switch(c2[d2].RecordType){default:break;case"com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation":case"com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath":var e2=T1(c2[d2],Z1,_1);if(e2){Q1.push(e2);}break;case"com.sap.vocabularies.UI.v1.DataFieldForAction":if(!D1.isAnalyticalListPage){var f2=U1(c2[d2],Z1);if(f2){R1.push(f2);Q1.push(f2);}}break;case"com.sap.vocabularies.UI.v1.DataFieldForAnnotation":var g2=c2[d2];if(g2.Target&&g2.Target.AnnotationPath&&g2.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>=0){var h2=g2.Target.AnnotationPath;var i2=_1[h2.split("@")[1]];c2=c2.concat(i2&&i2.Data);continue;}var j2=V1(g2,_1);for(var k2=0;k2<j2.length;k2++){if(j2[k2]){Q1.push(j2[k2]);}}break;}}if(!D1.isAnalyticalListPage){S1(W1,Z1,_1,$1,b2);var l2=n.getBreakoutActions(E1);for(var m2 in l2){Q1.push(l2[m2].requiresSelection&&l2[m2].applicablePath);}var n2=s.oDraftController.getDraftContext();if(n2.isDraftEnabled(Y1)&&n2.isDraftRoot(Y1)&&n2.hasDraftAdministrativeData(Y1)){if(W1.length>0){Q1.push("DraftAdministrativeData");}}}}var o2=E1.fetchVariant();if(!N1.TemplateSortOrder&&D1&&D1.determineSortOrder){N1.TemplateSortOrder=D1.determineSortOrder();}if((!o2||!o2.sort)&&N1.TemplateSortOrder){var p2=N1.TemplateSortOrder.split(", ");for(var j=0;j<p2.length;j++){var q2=p2[j].split(" ");if(q2.length>1){K1.sorter.push(new S(q2[0],q2[1]==="true"));}else{K1.sorter.push(new S(q2[0]));}}}for(var i=0;i<Q1.length;i++){X1(Q1[i]);}};n.onBeforeRebindTableOrChart(C1,D1,L1);}function b1(i,j,k,C1,D1){var E1=new E("press",i,j);C1=C1||i.getBindingContext();if(o.onListNavigationExtension&&o.onListNavigationExtension(E1,C1,D1)){return;}if(i.data("CrossNavigation")){R(i,C1,k.oSmartFilterbar);return;}r(i,k);n.navigateFromListItem(C1,D1);}function c1(i,j,k,C1){var D1,E1={};if(i instanceof E){D1=i.getSource();E1=i.getParameters();if(n.isMTable(D1)){D1=i.getParameter('listItem');E1.id=D1.getId();}}else{D1=i;}if(C1){b1(D1,E1,j,k,true);}else{var F1=h.getViewLevel();var G1=s.oApplication.getCurrentKeys(F1+1);var H1=G1.length>F1+1;s.oDataLossHandler.performIfNoDataLoss(b1.bind(null,D1,E1,j,k,H1),Function.prototype);}}function d1(i){s.oApplication.performAfterSideEffectExecution(function(){if(s.oApplication.getBusyHelper().isBusy()){l.info("Ignore incorrect selection, since app is busy anyway");return;}var j=i?"ST_GENERIC_MULTIPLE_ITEMS_SELECTED":"ST_GENERIC_NO_ITEM_SELECTED";M.error(n.getText(j),{styleClass:n.getContentDensityClass()});});}function e1(k){var C1,i,D1;var E1=o.getOwnerComponent(),F1=k.getSource().getCustomData(),G1="10rem";if(F1.length===0){return;}for(i=0,D1=F1.length;i<D1;i++){if(F1[i].getProperty("key")==="Target"){C1=F1[i].getProperty("value");break;}}if(!C1){M.show(n.getText("ST_GENERIC_ERROR_IN_NAVIGATION"),{icon:M.Icon.ERROR,title:n.getText("ST_ERROR"),actions:[sap.m.MessageBox.Action.CLOSE],horizontalScrolling:true,contentWidth:G1,details:n.getText("ST_GENERIC_ERROR_IN_NAVIGATION_PROPERTY_MISSING",["DataFieldWithNavigationPath"])});return;}var H1=E1.getModel(),I1=H1.getMetaModel();var J1=k.getSource().getBindingContext().getPath(),K1=J1.slice(1,J1.indexOf("(")),L1=I1.getODataEntityType(I1.getODataEntitySet(K1).entityType),j,M1=false,N1=L1.navigationProperty.length;for(j=0;j<N1;j++){if(L1.navigationProperty[j].name===C1){M1=true;break;}}if(!M1){M.show(n.getText("ST_GENERIC_ERROR_IN_NAVIGATION"),{icon:M.Icon.ERROR,title:n.getText("ST_ERROR"),actions:[sap.m.MessageBox.Action.CLOSE],horizontalScrolling:true,contentWidth:G1,details:n.getText("ST_GENERIC_ERROR_NAVIGATION_PROPERTY_NOT_CORRECT",[C1,"DataFieldWithNavigationPath"])});return;}var O1=I1.getODataAssociationEnd(L1,C1),P1=I1.getODataEntityType(O1.type),Q1,R1;if(P1){Q1=P1.namespace+"."+P1.name;}var S1=I1.getODataEntityContainer().entitySet;for(i=0,D1=S1.length;i<D1;i++){if(S1[i].entityType===Q1){R1=S1[i].name;break;}}if(!R1){var T1=Q1.split(".")[1];T1=T1.slice(0,T1.length-4);M.show(n.getText("ST_GENERIC_ERROR_IN_NAVIGATION"),{icon:M.Icon.ERROR,title:n.getText("ST_ERROR"),actions:[sap.m.MessageBox.Action.CLOSE],horizontalScrolling:true,contentWidth:G1,details:n.getText("ST_NAV_ERROR_TARGET_ENTITYSET_IS_MISSING",[T1])});return;}var U1=n.getNavigationKeyProperties(R1),V1=s.oNavigationController,W1={"$expand":""};if(h.isDraftEnabled()){W1={"$expand":"DraftAdministrativeData"};}var X1=new Promise(function(Y1,Z1){H1.read(J1+"/"+C1,{urlParameters:W1,success:function($1){Y1($1);s.oApplication.invalidatePaginatorInfo();var _1=n.mergeNavigationKeyPropertiesWithValues(U1,$1);s.oApplication.setStoredTargetLayoutToFullscreen(1);V1.navigateToContext(_1,null,false);},error:function($1){Z1($1);}});});h.getBusyHelper().setBusy(X1);}function f1(i,j){var k=i.getSource();var C1=n.getElementCustomData(k);var D1=n.getOwnerControl(k);D1=n.isMTable(D1)?D1.getParent():D1;var E1=n.getSelectedContexts(D1);i1(k,C1,E1,j);}function g1(i,j){var k=new a(j);var C1=(k&&k.getParameterNames())||[];i.forEach(function(D1){var E1=f(D1);for(var F1 in E1){if(C1.indexOf(F1)===-1){var G1=E1[F1];if(G1){k.addSelectOption(F1,"I","EQ",typeof G1==="object"?JSON.stringify(G1):G1.toString());}}}});return k;}function h1(i,j){var k=i.getSource();var C1=k.getParent().getBindingContext();var D1=k.data("SemanticObject");var E1=k.data("Action");n.processDataLossConfirmationIfNonDraft(function(){var F1={action:E1,semanticObject:D1};O(F1,C1,j.oSmartFilterbar||undefined,j.oSmartTable||undefined);},Function.prototype,j);}function i1(i,j,k,C1){var D1={action:j.Action,semanticObject:j.SemanticObject};if(k.length<=1){n.processDataLossConfirmationIfNonDraft(function(){O(D1,k[0],C1.oSmartFilterbar||undefined,C1.oSmartTable||undefined);},Function.prototype,C1);}else{var E1=s.oApplication.getNavigationHandler();var F1=i.data("fe_multiValue");var G1=function(){var I1=C1.oSmartFilterbar&&C1.oSmartFilterbar.getUiState().getSelectionVariant();var J1=g1(k,I1);E1.navigate(D1.semanticObject,D1.action,J1.toJSONString(),null,H);return;};if(F1===null){var H1=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService&&sap.ushell.Container.getService("CrossApplicationNavigation");D1.tags=["fe_multiValue"];H1.getLinks(D1).then(function(I1){var J1=I1[0];if(J1){i.data("fe_multiValue",true);n.processDataLossConfirmationIfNonDraft(G1,Function.prototype,C1);}else{i.data("fe_multiValue",false);d1(k.length);}});}else if(F1===true){n.processDataLossConfirmationIfNonDraft(G1,Function.prototype,C1);}else{d1(k.length);}}}function j1(i,j,k){var C1=n.getElementCustomData(i);var D1=n.getSelectedContexts(j);var E1=!(C1.RequiresContext&&C1.RequiresContext==="false");if(E1&&!D1.length){d1(D1.length);}else{i1(i,C1,D1,k);}}function k1(i,j){n.processDataLossConfirmationIfNonDraft(function(){var k={semanticObject:i.data("SemanticObject"),action:i.data("Action")};var C1=i.getParent().getBindingContext();O(k,C1,j.oSmartFilterbar,j.oSmartTable);},Function.prototype,j);}function l1(i,j){var k=i.getSource();var C1=n.getOwnerControl(k).getParent();var D1=[k.getBindingContext()];var E1=n.getElementCustomData(k);var F1=C1.getEntitySet();n.triggerAction(D1,F1,E1,C1,j);}function m1(i,j){var k=o.getView();var C1=i.getSource().data();var D1=j?n.getSelectedContexts(j):[k.getBindingContext()];if(C1.ActionFor&&D1.length===0){d1(D1.length);}else{var E1=i.getSource();var C1=n.getElementCustomData(E1);var F1=j?j.getEntitySet():o.getOwnerComponent().getEntitySet();n.triggerAction(D1,F1,C1,j);}}function n1(i,j){var k,C1="";var D1=n.getOwnerControl(i.getSource());D1=n.isMTable(D1)?D1.getParent():D1;var E1=i.getSource().data();var F1=n.getSelectedContexts(D1);if(n.isSmartTable(D1)){k=D1.getTable();C1=D1.getEntitySet();}else if(n.isSmartChart(D1)){D1.getChartAsync().then(function(J1){k=J1;});C1=D1.getEntitySet();}var G1=p1(F1,E1);if(E1.ActionFor&&G1.inApplicableCount>0&&(n.isSmartTable(D1)&&((k.getMode&&k.getMode()==="MultiSelect")||(k.getSelectionMode&&k.getSelectionMode()==="MultiToggle")))){var H1=n.getText("ST_GENERIC_WARNING_TEXT",[G1.inApplicableCount]);G1.warningText=H1;var I1={functionImportPath:E1.Action,contexts:G1.aApplicableContexts,sourceControl:k,label:E1.Label,operationGrouping:E1.InvocationGrouping,sEntitySet:C1,oState:j};o1(D1).then(function(J1){var K1=J1.getModel("Action");K1.setData(I1);var L1=new sap.ui.model.json.JSONModel(G1);J1.setModel(L1,"list");var M1=J1.getModel("list");M1.setData(G1);J1.open();});}else{q1({functionImportPath:E1.Action,contexts:F1,sourceControl:k,label:E1.Label,operationGrouping:E1.InvocationGrouping},j,C1);}}function o1(i){return n.getDialogFragmentAsync("sap.suite.ui.generic.template.fragments.ActionConfirmation",{onCancel:function(j){var k=j.getSource().getParent();k.close();},onContinue:function(j){var k=j.getSource().getParent();var C1=j.getSource().getParent().getModel("Action").getData();q1({functionImportPath:C1.functionImportPath,contexts:C1.contexts,sourceControl:C1.sourceControl,label:C1.label,operationGrouping:C1.operationGrouping},C1.oState,C1.sEntitySet);k.close();}},"Action");}function p1(j,k){var C1,D1,E1,F1;var G1=o.getView().getModel();var H1=G1.getMetaModel();if(j&&j.length>0){E1=j[0].sPath.substring(1,j[0].sPath.indexOf('('));F1=H1.getODataEntitySet(E1);}if(F1){var I1=k.Action.split("/")[1];var J1=[],K1=[];var L1={aInApplicableItems:undefined,inApplicableCount:0,dialogTitle:k.Label,warningText:undefined,aApplicableContexts:undefined};if(I1){D1=H1.getODataFunctionImport(I1)["sap:applicable-path"];}for(var i=0;i<j.length;i++){C1=G1.getObject(j[i].getPath());if(!C1[D1]){L1.inApplicableCount++;var M1=H1.getODataEntityType(H1.getODataEntitySet(E1).entityType);var N1=M1["com.sap.vocabularies.UI.v1.HeaderInfo"]?(M1["com.sap.vocabularies.UI.v1.HeaderInfo"].Title&&M1["com.sap.vocabularies.UI.v1.HeaderInfo"].Title.Value)||{}:{};var O1="";if(N1.Path){O1=j[i].getProperty(N1.Path);}else{O1=N1.String||"";}J1.push({sKey:O1});}else{K1.push(j[i]);}}L1.aInApplicableItems=J1;L1.aApplicableContexts=K1;}return L1;}function q1(j,k,C1){var D1;n.processDataLossConfirmationIfNonDraft(function(){s.oCRUDManager.callAction({functionImportPath:j.functionImportPath,contexts:j.contexts,sourceControl:j.sourceControl,label:j.label,operationGrouping:j.operationGrouping},k).then(function(E1){if(E1&&E1.length){for(var i=0;i<E1.length;i++){D1=E1[i];if(D1.response&&D1.response.context&&(!D1.actionContext||D1.actionContext&&D1.response.context.getPath()!==D1.actionContext.getPath())){s.oApplication.getBusyHelper().getUnbusy().then(s.oViewDependencyHelper.setMeToDirty.bind(null,o.getOwnerComponent(),C1));break;}}}});},Function.prototype,k,"Proceed");}function r1(){var i=o.getView().getModel().getMetaModel();var j=i.getODataEntityContainer();var k=j["Org.OData.Capabilities.V1.BatchSupport"];if(k&&k.ReferencesAcrossChangeSetsSupported&&k.ReferencesAcrossChangeSetsSupported.Bool){return k.ReferencesAcrossChangeSetsSupported.Bool==="true";}return false;}function s1(i,j,k,C1,D1,E1){if(i.data("CrossNavigation")){R(i,i.getBindingContext(),k);return new Promise(function(M1){M1();});}var F1=n.getOwnerControl(i);F1=n.isSmartTable(F1)?F1:F1.getParent();var G1=F1.getTableBindingPath();var H1=F1.getEntitySet();var I1=o.getOwnerComponent();var J1=s.oApplication.getBusyHelper();var K1=h.getNonDraftCreatePromise(H1,C1);if(K1){J1.setBusy(K1);return K1;}var L1=function(M1){var N1=s.oCRUDManager.addEntry(F1,M1,r1()).then(function(O1){if(E1){return O1;}else if(!j){s.oApplication.navigateToSubContext(O1,false,4);J1.getUnbusy().then(s.oViewDependencyHelper.setMeToDirty.bind(null,I1,H1));}else if(!D1){n.refreshSmartTable(F1);s.oApplicationController.executeSideEffects(I1.getBindingContext(),[],[G1]);return O1;}});N1.catch(Function.prototype);return N1;};if(C1 instanceof Promise){return C1.then(L1);}else{return L1(C1);}}function t1(){var i={batchGroupId:"Changes",changeSetId:"Changes",draftSave:true,noBlockUI:true,noShowResponse:true,onlyIfPending:true,pendingChanges:true,forceSubmit:true};s.oTransactionController.triggerSubmitChanges(i);}function u1(i){var j=p(i);var k=i.getParameter("listItem");var C1=k.getBindingContext();w1(j,[C1]);}function v1(i){var j=p(i);var k=n.getSelectedContexts(j);w1(j,k);}function w1(i,j){if(j.length>0){var k=I(j,i);var C1=Promise.resolve(o.beforeDeleteExtension({aContexts:j}));C1.then(function(D1){var E1=s.oApplication.getBusyHelper();E1.setBusy(k);k.then(function(F1){e(F1.text,D1);y(i).then(function(G1){var H1=G1.getModel("delete");H1.setData(F1);G1.open();});},Function.prototype);});}else{M.error(n.getText("ST_GENERIC_NO_ITEM_SELECTED"),{styleClass:n.getContentDensityClass()});}}function x1(j){var k=j.getSource();var C1=k.getModel();var D1=JSON.parse(j.getSource().data("contactDetails"));var E1=C1.getContext(j.getSource().getBindingContext().getPath());n.getDialogFragmentAsync("sap.suite.ui.generic.template.fragments.ContactDetails",{},"contact").then(function(F1){var G1=F1.getModel("contact");var H1;G1.setProperty("/",{});G1.setProperty("/device",sap.ui.Device);(D1.fn&&D1.fn.Path)?G1.setProperty("/fn",(E1.getProperty(D1.fn.Path))):G1.setProperty("/fn",(D1.fn&&D1.fn.String));(D1.title&&D1.title.Path)?G1.setProperty("/title",(E1.getProperty(D1.title.Path))):G1.setProperty("/title",(D1.title&&D1.title.String));(D1.photo&&D1.photo.Path)?G1.setProperty("/photo",(E1.getProperty(D1.photo.Path))):G1.setProperty("/photo",(D1.photo&&D1.photo.String));(D1.role&&D1.role.Path)?G1.setProperty("/role",(E1.getProperty(D1.role.Path))):G1.setProperty("/role",(D1.role&&D1.role.String));(D1.org&&D1.org.Path)?G1.setProperty("/org",(E1.getProperty(D1.org&&D1.org.Path))):G1.setProperty("/org",(D1.org&&D1.org.String));if(D1.email&&D1.email[0]&&!G1.getProperty("/email")){H1=D1.email[0].type&&D1.email[0].type.EnumMember;if(H1&&H1.indexOf("com.sap.vocabularies.Communication.v1.ContactInformationType/work")>-1){if(D1.email[0].address&&D1.email[0].address.Path){G1.setProperty("/email",(E1.getProperty(D1.email[0].address.Path)));}else{G1.setProperty("/email",(D1.email[0].address&&D1.email[0].address.String));}}}var I1=(D1.tel&&D1.tel.length)||0;for(var i=0;i<I1;i++){if(D1.tel[i]&&!G1.getProperty("/fax")){H1=D1.tel[i].type&&D1.tel[i].type.EnumMember;if(H1&&H1.indexOf("com.sap.vocabularies.Communication.v1.PhoneType/fax")>-1){if(D1.tel[i].uri&&D1.tel[i].uri.Path){G1.setProperty("/fax",(E1.getProperty(D1.tel[i].uri.Path)));}else{G1.setProperty("/fax",(D1.tel[i].uri&&D1.tel[i].uri.String));}continue;}}if(D1.tel[i]&&!G1.getProperty("/cell")){H1=D1.tel[i].type&&D1.tel[i].type.EnumMember;if(H1&&H1.indexOf("com.sap.vocabularies.Communication.v1.PhoneType/cell")>-1){if(D1.tel[i].uri&&D1.tel[i].uri.Path){G1.setProperty("/cell",(E1.getProperty(D1.tel[i].uri.Path)));}else{G1.setProperty("/cell",(D1.tel[i].uri&&D1.tel[i].uri.String));}continue;}}if(D1.tel[i]&&!G1.getProperty("/work")){H1=D1.tel[i].type&&D1.tel[i].type.EnumMember;if(H1&&H1.indexOf("com.sap.vocabularies.Communication.v1.PhoneType/work")>-1){if(D1.tel[i].uri&&D1.tel[i].uri.Path){G1.setProperty("/work",(E1.getProperty(D1.tel[i].uri.Path)));}else{G1.setProperty("/work",(D1.tel[i].uri&&D1.tel[i].uri.String));}continue;}}}F1.openBy(k);});}function y1(i,j){var k=s.oApplication.getNavigationHandler();var C1=N(i,null,j);o.adaptNavigationParameterExtension(C1,i);k.navigate(i.semanticObject,i.action,C1.toJSONString(),null,H);}function z1(i,j){var k=i.getSource();A1(k,j);}function A1(i,j){var k=i.data('LabelId');var C1=j+'--'+k;var D1=sap.ui.getCore().byId(C1);if(D1){D1.attachFieldVisibilityChange(i);}}function B1(i,j,k,C1,D1){var E1,F1;if(i){if(j){E1=[" ",i,j];var G1=o.getOwnerComponent().getAppComponent().getConfig();var H1=G1.settings&&G1.settings.flexibleColumnLayout?true:false;if(H1){var I1=o.getOwnerComponent().getModel("_templPrivGlobal");if(I1.getProperty("/generic/FCL/isVisuallyFullScreen")){E1.shift();if(k){F1=D1?n.getContextText("DELETE_SELECTED_ITEM_WITH_OBJECTTITLE",D1.getId(),null,E1):n.getText("DELETE_WITH_OBJECTTITLE",E1);}else{F1=C1?n.getText("DELETE_SELECTED_ITEM_WITH_OBJECTTITLE",E1):n.getText("DELETE_WITH_OBJECTTITLE",E1);}}else{if(k){F1=D1?n.getContextText("DELETE_SELECTED_ITEM_WITH_OBJECTINFO",D1.getId(),null,E1):n.getText("DELETE_WITH_OBJECTINFO",E1);}else{F1=C1?n.getText("DELETE_SELECTED_ITEM_WITH_OBJECTINFO",E1):n.getText("DELETE_WITH_OBJECTINFO",E1);}}}else{E1.shift();if(k){F1=D1?n.getContextText("DELETE_SELECTED_ITEM_WITH_OBJECTTITLE",D1.getId(),null,E1):n.getText("DELETE_WITH_OBJECTTITLE",E1);}else{F1=C1?n.getText("DELETE_SELECTED_ITEM_WITH_OBJECTTITLE",E1):n.getText("DELETE_WITH_OBJECTTITLE",E1);}}}else{E1=[i];if(k){F1=D1?n.getContextText("DELETE_SELECTED_ITEM_WITH_OBJECTTITLE",D1.getId(),null,E1):n.getText("DELETE_WITH_OBJECTTITLE",E1);}else{F1=C1?n.getText("DELETE_SELECTED_ITEM_WITH_OBJECTTITLE",E1):n.getText("DELETE_WITH_OBJECTTITLE",E1);}}}else{if(k){F1=D1?n.getContextText("DELETE_SELECTED_ITEM",D1.getId()):n.getText("ST_GENERIC_DELETE_SELECTED");}else{F1=C1?n.getText("DELETE_SELECTED_ITEM"):n.getText("ST_GENERIC_DELETE_SELECTED");}}return F1;}var N=t.testable(N,"fnBuildSelectionVariantForNavigation");var q=t.testable(q,"fnEvaluateParameters");var O=t.testable(O,"fnNavigateIntent");var Q=t.testable(Q,"fnHideTitleArea");var L=t.testable(L,"fnGetSelectedItemContextForDeleteMessage");var I=t.testable(I,"getDataForDeleteDialog");return{onDataReceived:_,onBeforeRebindTable:a1,onListNavigate:c1,onEditNavigateIntent:R,onSemanticObjectLinkPopoverLinkPressed:U,onRelatedAppNavigation:y1,onDataFieldWithNavigationPath:e1,onDataFieldForIntentBasedNavigation:f1,onDeterminingDataFieldForIntentBasedNavigation:j1,onDeterminingDataFieldForAction:m1,onInlineDataFieldForIntentBasedNavigation:k1,onDataFieldWithIntentBasedNavigation:h1,onInlineDataFieldForAction:l1,onMultiSelectionChange:u,onSmartFieldUrlPressed:w,onCallActionFromToolBar:n1,addEntry:s1,deleteEntry:u1,deleteEntries:v1,onContactDetails:x1,onSmartFieldInitialise:z1,onSmartLabelAttachFieldVisibility:A1,onSemanticObjectLinkNavigationTargetObtained:X,onSemanticObjectLinkNavigationPressed:W,submitChangesForSmartMultiInput:t1,getSelectedItemContextForDeleteMessage:L,getDeleteText:B1};}return B.extend("sap.suite.ui.generic.template.lib.CommonEventHandlers",{constructor:function(o,h,s,i){e(this,g(o,h,s,i));}});});
