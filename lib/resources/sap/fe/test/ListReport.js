sap.ui.define(["sap/fe/test/Utils","./TemplatePage","sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/VMBuilder","sap/fe/test/builder/OverflowToolbarBuilder","sap/fe/test/api/FooterActionsBase","sap/fe/test/api/FooterAssertionsBase","sap/fe/test/api/HeaderActionsLR","sap/fe/test/api/HeaderAssertionsLR"],function(U,T,O,a,F,V,b,c,d,H,e){"use strict";function g(i){return"fe::table::"+i+"::LineItem";}function _(o,s){return b.create(o).hasId(s);}function f(o,p){return F.create(o).hasId(p);}return{create:function(A,C,E){var h=A+"::"+C,S="fe::table::"+E+"::LineItem",i="fe::FilterBar::"+E,j=i+"::FilterFieldValueHelp::",r=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core"),I="fe::TabMultipleMode",k="fe::FooterBar",P="fe::ListReport";return U.mergeObjects(T.create(h,E),{actions:{onTable:function(t){var s;if(t){s=!U.isOfType(t,String)?g(t.property):t;}else{s=S;}return this._onTable({id:s});},onFilterBar:function(){return this._onFilterBar({id:i});},onHeader:function(){return new H(f(this,P),{id:P});},onFooter:function(){return new c(_(this,k),{id:k});},iExecuteActionOnDialog:function(t){return a.create(this).hasType("sap.m.Button").hasProperties({text:t}).isDialogElement().doPress().description("Pressing dialog button '"+t+"'").execute();},iOpenVHDialog:function(s){return a.create(this).hasId(i+"::FilterField::"+s+"-inner-vhi").doPress().description("Opening value help for dialog'"+s+"'").execute();},iSelectFromVHDTable:function(v){return a.create(this).hasType("sap.m.ColumnListItem").hasAggregationProperties("cells",{value:v}).checkNumberOfMatches(1).isDialogElement().doPress().description("Selecting row from dialog with value '"+v+"'").execute();},iConfirmVHDSelection:function(s,l){var R=a.create(this).hasId(j+s+"-ok").doPress().description("Confirming value help selection for '"+s+"'").execute();if(!l){R=this.onFilterBar().iExecuteSearch();}return R;},iFilterWithVHDialog:function(s,v){var R=this.iOpenVHDialog(s).and.iSelectFromVHDTable(v).and.iConfirmVHDSelection(s);return R;},iOpenIconTabWithTitle:function(n){return a.create(this).hasId(I).has(a.Matchers.aggregation("items",a.Matchers.properties({text:n}))).doPress().description("Selecting Icon Tab "+n).execute();},iSelectDefineConditionPanel:function(s){var R=a.create(this).hasId(j+s+"-VHP--defineCondition").doPress().description("Pressing Define Condition Icon Tab Strip for'"+s+"'").execute();return R;},iSelectOperators:function(){var R=a.create(this).hasType("sap.ui.core.Icon").hasProperties({src:"sap-icon://slim-arrow-down"}).doPress().description("Select list of operators").execute();return R;},iSaveVariant:function(v,s,l){var m=U.parseArguments([String,Boolean,Boolean],arguments),o=V.create(this).hasId("fe::PageVariantManagement");if(m[0]){o.doSaveAs(v,s,l).description(U.formatMessage("Saving variant for '{0}' as '{1}' with default='{2}' and applyAutomatically='{3}'","Page Variant",v,!!s,!!l));}else{o.doSave().description(U.formatMessage("Updating current variant for '{0}'","Page Variant"));}return o.execute();},iSelectVariant:function(v){return V.create(this).hasId("fe::PageVariantManagement").doSelectVariant(v).description(U.formatMessage("Selecting variant '{1}' from '{0}'","Page Variant",v)).execute();}},assertions:{onTable:function(t){if(!t){t={id:S};}else{var s=!U.isOfType(t,String)?t.property:t;t={id:g(s)};}return this._onTable(t);},onFilterBar:function(){return this._onFilterBar({id:i});},onHeader:function(){return new e(f(this,P),{id:P});},onFooter:function(){return new d(_(this,k),{id:k});},iSeeTheMessageToast:function(t){return this._iSeeTheMessageToast(t);},iSeeFilterFieldsInFilterBar:function(n){return a.create(this).hasId(i).hasAggregationLength("filterItems",n).description("Seeing Filter bar with "+n+" filter fields").execute();},iSeeTableCellWithActions:function(p,n,B){return a.create(this).hasType("sap.m.ColumnListItem").has(a.Matchers.bindingPath(p)).has(function(l){var m=l.getCells()[n];return m.getMetadata().getElementName()==="sap.m.Button"&&m.getText()===B;}).description("Inline Action is present in the table cell with the Text "+B).execute();},iSeeLinkWithText:function(t){return a.create(this).hasType("sap.m.Link").hasProperties({text:t}).description("Seeing link with text '"+t+"'").execute();},iSeeLabelWithText:function(t){return a.create(this).hasType("sap.m.Label").hasProperties({text:t}).description("Not Seeing link with text '"+t+"'").execute();},iSeeSummaryOfAppliedFilters:function(){var s;a.create(this).hasId(i).mustBeVisible(false).do(function(o){s=o.getAssignedFiltersText().filtersText;}).execute();return a.create(this).hasType("sap.f.DynamicPageTitle").has(function(D){return D.getSnappedContent()[0].getText()===s;}).description("The correct text on the collapsed filterbar is displayed").execute();},iSeeVHDialog:function(s){return a.create(this).hasId(j+s+"-dialog").description("Seeing value help dialog for field '"+s+"'").execute();},iSeeVHDTable:function(s){return a.create(this).hasId(j+s+"::Table").has(function(t){return t.getItems().length!==0;}).description("Seeing table of value help dialog for field '"+s+"'").execute();},iSeeFieldInVHDFilterBar:function(s,l,o){return a.create(this).hasId(j+s+"::FilterBar::FilterField::"+l).hasProperties(o).description("Seeing field "+s+" in filterbar of valuehelpdialog").execute();},_checkVHDSearchFieldIsVisible:function(s,v){var l=h+"--"+j+s+"-VHP--SearchField";return a.create(this).hasId(l).hasProperties({visible:v}).mustBeVisible(false).description("Search field of value help dialog for field '"+s+"' is "+(v?"visible":"invisible")).execute();},iCheckVHDSearchFieldIsVisible:function(s,v){return this._checkVHDSearchFieldIsVisible(s,v===undefined?true:v);},iSeeVHDFilterBar:function(s){return a.create(this).hasId(j+s+"::FilterBar").description("Seeing value help filterbar for field '"+s+"'").execute();},iSeeFieldOfDCPOnVHDialog:function(s){return a.create(this).hasId(j+s+"-DCP").description("Definition Condition Panel is available in Value Help of field '"+s+"'").execute();},iSeeDeleteConfirmation:function(){return this._iSeeTheMessageToast(r.getText("C_TRANSACTION_HELPER_OBJECT_PAGE_DELETE_TOAST_SINGULAR"));},iSeePageTitle:function(t){return a.create(this).hasType("sap.f.DynamicPageTitle").hasAggregationProperties("heading",{text:t}).description("Seeing title '"+t+"'").execute();},iSeeVariantTitle:function(t){return a.create(this).hasType("sap.m.Title").hasId("fe::PageVariantManagement-text").hasProperties({text:t}).description("Seeing variant title '"+t+"'").execute();},iSeeControlVMFilterBarTitle:function(t){return a.create(this).hasType("sap.m.Title").hasId(i+"::VariantManagement-text").hasProperties({text:t}).description("Seeing variant title '"+t+"'").execute();},iSeeControlVMTableTitle:function(t,s){var l=s?g(s):S;return a.create(this).hasType("sap.m.Title").hasId(l+"::VM-text").hasProperties({text:t}).description("Seeing variant title '"+t+"'").execute();},iSeeVariantModified:function(l,m){var L;if(m){L=i+"::VariantManagement-modified";}else{L="fe::PageVariantManagement-modified";}l=l===undefined?true:l;if(l){return a.create(this).hasType("sap.m.Label").hasId(L).hasProperties({text:"*"}).description("Seeing variant state as 'modified'").execute();}else{return a.create(this).hasType("sap.m.Label").check(function(o){return!o.some(function(n){return n.getId()===L;});},true).description("Seeing variant state as 'not modified'").execute();}},iSeePageVM:function(){return a.create(this).hasId("fe::PageVariantManagement").description("Seeing page VM").execute();},iSeeControlVMFilterBar:function(){return a.create(this).hasId(i+"::VariantManagement").description("Seeing control VM - FilterBar").execute();},iSeeDraftIndicator:function(){return a.create(this).hasType("sap.m.Link").hasProperties({text:r.getText("C_DRAFT_POPOVER_ADMIN_DATA_DRAFTINFO_DRAFT_OBJECT")}).description("Draft indicator is visible").execute();},iSeeIconTabWithProperties:function(p){return(a.create(this).hasId(I).has(a.Matchers.aggregation("items",a.Matchers.properties(p))).description(U.formatMessage("Seeing Icon Tab with properties '{0}'",p)).execute());},iSeeNumOfOperators:function(s,n){return a.create(this).hasId(j+s+"-DCP").doOnChildren(a.create(this).hasAggregationLength("items",n)).description("Seeing Value List of Condition Operators with "+n+" item.").execute();}}});}};});
