sap.ui.define(["./FormAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder"],function(F,U,O,a){"use strict";var b=function(f,v){return F.call(this,f,v);};b.prototype=Object.create(F.prototype);b.prototype.constructor=b;b.prototype.isAction=true;function _(o,l,A){return a.create(o).hasType("sap.ui.layout.form.FormElement").hasSome(o.createFormElementMatcher(l,"DataField"),o.createFormElementMatcher(l,"DataFieldWithNavigationPath"),o.createFormElementMatcher(l,"DataFieldWithUrl")).doOnAggregation("fields",O.Matchers.some(o.createFieldMatcher(l,"DataField"),o.createFieldMatcher(l,"DataFieldWithUrl"),a.Matchers.type("sap.m.Link")),A);}function c(o,l){return a.create(o).hasType("sap.ui.layout.form.FormContainer").has(o.createFieldGroupMatcher(l));}function d(o,s){var f=o.getBuilder(),S,B=s?"--seeMore":"--seeLess";f.has(function(e){S=e.getId().substring(e.getId().lastIndexOf("::")+2);return true;}).execute();return o.prepareResult(O.create(o).hasId(new RegExp(U.formatMessage("{0}$",B))).has(function(e){return e.getId().substring(e.getId().lastIndexOf("::")+2)===S+B;}).doPress().description(U.formatMessage("Pressing '{0}' action",B)).execute());}b.prototype.iExecuteAction=function(A){var f=this.getBuilder();return this.prepareResult(f.doOnAggregation("actions",this.createActionMatcher(A),O.Actions.press()).description(U.formatMessage("Pressing action '{0}'",A)).execute());};b.prototype.iExecuteShowMore=function(){return d(this,true);};b.prototype.iExecuteShowLess=function(){return d(this,false);};b.prototype.iClickLink=function(l){var f=this.getBuilder();function g(C,l){if(!U.isOfType(l,String)){return l.fieldGroup?c(C,l).doOnChildren(_(C,l,O.Actions.press())):_(C,l,O.Actions.press());}else{return O.create(C).hasType("sap.m.Link").hasProperties({text:l}).doPress();}}return this.prepareResult(f.doOnChildren(g(this,l)).description(U.formatMessage("Pressing link '{0}'",l)).execute());};b.prototype.iChangeField=function(f,v){var o=this.getBuilder();function g(C,f){if(!U.isOfType(f,String)){return f.fieldGroup?c(C,f).doOnChildren(_(C,f,O.Actions.enterText(v))):_(C,f,O.Actions.enterText(v));}else{return undefined;}}return this.prepareResult(o.doOnChildren(g(this,f)).description(U.formatMessage("Entering value '{0}' into field '{1}'",v,f)).execute());};return b;});
