sap.ui.define(["sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service"],function(S,a){"use strict";function _(e,i){return g(e)||f(e,i)||c(e,i)||b();}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function c(o,e){if(!o)return;if(typeof o==="string")return d(o,e);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(o,e);}function d(e,n){if(n==null||n>e.length)n=e.length;for(var i=0,o=new Array(n);i<n;i++){o[i]=e[i];}return o;}function f(e,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(e)))return;var n=[];var o=true;var p=false;var z=undefined;try{for(var A=e[Symbol.iterator](),B;!(o=(B=A.next()).done);o=true){n.push(B.value);if(i&&n.length===i)break;}}catch(C){p=true;z=C;}finally{try{if(!o&&A["return"]!=null)A["return"]();}finally{if(p)throw z;}}return n;}function g(e){if(Array.isArray(e))return e;}function h(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}function j(e,p){for(var i=0;i<p.length;i++){var n=p[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n);}}function k(C,p,e){if(p)j(C.prototype,p);if(e)j(C,e);return C;}function l(e,i){if(typeof i!=="function"&&i!==null){throw new TypeError("Super expression must either be null or a function");}e.prototype=Object.create(i&&i.prototype,{constructor:{value:e,writable:true,configurable:true}});if(i)m(e,i);}function m(o,p){m=Object.setPrototypeOf||function m(o,p){o.__proto__=p;return o;};return m(o,p);}function q(D){return function(){var e=u(D),i;if(t()){var N=u(this).constructor;i=Reflect.construct(e,arguments,N);}else{i=e.apply(this,arguments);}return r(this,i);};}function r(e,i){if(i&&(typeof i==="object"||typeof i==="function")){return i;}return s(e);}function s(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return e;}function t(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function u(o){u=Object.setPrototypeOf?Object.getPrototypeOf:function u(o){return o.__proto__||Object.getPrototypeOf(o);};return u(o);}var v=function(e){l(v,e);var i=q(v);function v(){h(this,v);return i.apply(this,arguments);}k(v,[{key:"init",value:function init(){this.initPromise=Promise.resolve(this);}},{key:"getLinks",value:function getLinks(A){return Promise.resolve([]);}},{key:"toExternal",value:function toExternal(n,C){return;}},{key:"getStartupAppState",value:function getStartupAppState(A){return Promise.resolve(null);}},{key:"backToPreviousApp",value:function backToPreviousApp(){return;}},{key:"hrefForExternal",value:function hrefForExternal(A,C,n){return"";}},{key:"getAppState",value:function getAppState(C,A){return Promise.resolve({});}},{key:"createEmptyAppState",value:function createEmptyAppState(C){return Promise.resolve({});}},{key:"isNavigationSupported",value:function isNavigationSupported(n,C){return Promise.resolve({});}},{key:"isInitialNavigation",value:function isInitialNavigation(){return false;}},{key:"expandCompactHash",value:function expandCompactHash(H){return Promise.resolve({});}},{key:"parseShellHash",value:function parseShellHash(H){return{};}},{key:"splitHash",value:function splitHash(H){return Promise.resolve({});}},{key:"constructShellHash",value:function constructShellHash(n){return"";}},{key:"setDirtyFlag",value:function setDirtyFlag(D){return;}},{key:"registerDirtyStateProvider",value:function registerDirtyStateProvider(D){return;}},{key:"deregisterDirtyStateProvider",value:function deregisterDirtyStateProvider(D){return;}},{key:"createRenderer",value:function createRenderer(){return{};}},{key:"getUser",value:function getUser(){return{};}},{key:"hasUShell",value:function hasUShell(){return false;}},{key:"registerNavigationFilter",value:function registerNavigationFilter(n){return;}},{key:"unregisterNavigationFilter",value:function unregisterNavigationFilter(n){return;}},{key:"setBackNavigation",value:function setBackNavigation(C){return;}},{key:"setHierarchy",value:function setHierarchy(H){return;}},{key:"setTitle",value:function setTitle(T){return;}}]);return v;}(a);function w(e){return new Promise(function(i,n){e.done(i).fail(n);});}var x=function(e){l(x,e);var i=q(x);function x(){h(this,x);return i.apply(this,arguments);}k(x,[{key:"init",value:function init(){var n=this;var C=this.getContext();var o=C.scopeObject;this.oShellContainer=C.settings.shellContainer;this.initPromise=new Promise(function(B,D){n.resolveFn=B;n.rejectFn=D;});var p=this.oShellContainer.getServiceAsync("CrossApplicationNavigation");var U=this.oShellContainer.getServiceAsync("URLParsing");var z=this.oShellContainer.getServiceAsync("ShellNavigation");var A=o.getService("ShellUIService");Promise.all([p,U,z,A]).then(function(B){var D=_(B,4),E=D[0],F=D[1],G=D[2],H=D[3];n.crossAppNavService=E;n.urlParsingService=F;n.shellNavigation=G;n.shellUIService=H;n.resolveFn();}).catch(this.rejectFn);}},{key:"getLinks",value:function getLinks(A){var n=this;return new Promise(function(o,p){n.crossAppNavService.getLinks(A).fail(function(E){p(new Error(E+" sap.fe.core.services.NavigationServiceFactory.getLinks"));}).then(o);});}},{key:"getShellContainer",value:function getShellContainer(){return this.oShellContainer;}},{key:"toExternal",value:function toExternal(n,C){this.crossAppNavService.toExternal(n,C);}},{key:"getStartupAppState",value:function getStartupAppState(A){var n=this;return new Promise(function(o,p){n.crossAppNavService.getStartupAppState(A).fail(function(E){p(new Error(E+" sap.fe.core.services.NavigationServiceFactory.getStartupAppState"));}).then(o);});}},{key:"backToPreviousApp",value:function backToPreviousApp(){return this.crossAppNavService.backToPreviousApp();}},{key:"hrefForExternal",value:function hrefForExternal(A,C,n){return this.crossAppNavService.hrefForExternal(A,C,n);}},{key:"getAppState",value:function getAppState(C,A){return w(this.crossAppNavService.getAppState(C,A));}},{key:"createEmptyAppState",value:function createEmptyAppState(C){return this.crossAppNavService.createEmptyAppState(C);}},{key:"isNavigationSupported",value:function isNavigationSupported(n,C){return w(this.crossAppNavService.isNavigationSupported(n,C));}},{key:"isInitialNavigation",value:function isInitialNavigation(){return this.crossAppNavService.isInitialNavigation();}},{key:"expandCompactHash",value:function expandCompactHash(H){return this.crossAppNavService.expandCompactHash(H);}},{key:"parseShellHash",value:function parseShellHash(H){return this.urlParsingService.parseShellHash(H);}},{key:"splitHash",value:function splitHash(H){return this.urlParsingService.splitHash(H);}},{key:"constructShellHash",value:function constructShellHash(n){return this.urlParsingService.constructShellHash(n);}},{key:"setDirtyFlag",value:function setDirtyFlag(D){this.oShellContainer.setDirtyFlag(D);}},{key:"registerDirtyStateProvider",value:function registerDirtyStateProvider(D){this.oShellContainer.registerDirtyStateProvider(D);}},{key:"deregisterDirtyStateProvider",value:function deregisterDirtyStateProvider(D){this.oShellContainer.deregisterDirtyStateProvider(D);}},{key:"createRenderer",value:function createRenderer(){return this.oShellContainer.createRenderer();}},{key:"getUser",value:function getUser(){return this.oShellContainer.getUser();}},{key:"hasUShell",value:function hasUShell(){return true;}},{key:"registerNavigationFilter",value:function registerNavigationFilter(n){this.shellNavigation.registerNavigationFilter(n);}},{key:"unregisterNavigationFilter",value:function unregisterNavigationFilter(n){this.shellNavigation.unregisterNavigationFilter(n);}},{key:"setBackNavigation",value:function setBackNavigation(C){this.shellUIService.setBackNavigation(C);}},{key:"setHierarchy",value:function setHierarchy(H){this.shellUIService.setHierarchy(H);}},{key:"setTitle",value:function setTitle(T){this.shellUIService.setTitle(T);}}]);return x;}(a);var y=function(e){l(y,e);var i=q(y);function y(){h(this,y);return i.apply(this,arguments);}k(y,[{key:"createInstance",value:function createInstance(o){o.settings.shellContainer=sap.ushell&&sap.ushell.Container;var n=o.settings.shellContainer?new x(o):new v(o);return n.initPromise.then(function(){o.scopeObject.getShellServices=function(){return n;};return n;});}}]);return y;}(S);return y;},false);
