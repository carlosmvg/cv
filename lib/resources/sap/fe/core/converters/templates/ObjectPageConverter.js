sap.ui.define(["../ManifestSettings","../controls/ObjectPage/SubSection","../controls/ObjectPage/HeaderFacet","../helpers/ID","../helpers/ConfigurableObject","sap/fe/core/converters/controls/Common/Action","sap/fe/core/converters/objectPage/HeaderAndFooterAction"],function(M,S,H,I,C,A,a){"use strict";var g=a.getFooterDefaultActions;var b=a.getHeaderDefaultActions;var c=A.getActionsFromManifest;var P=C.Placement;var d=C.insertCustomElements;var e=I.SectionID;var f=I.CustomSectionID;var h=H.getHeaderFacetsFromManifest;var j=H.getHeaderFacetsFromAnnotations;var k=S.createSubSections;var l=S.createCustomSubSections;var m=M.SectionType;function o(i,t){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(i);if(t)v=v.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable;});u.push.apply(u,v);}return u;}function _(t){for(var i=1;i<arguments.length;i++){var u=arguments[i]!=null?arguments[i]:{};if(i%2){o(Object(u),true).forEach(function(v){n(t,v,u[v]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(u));}else{o(Object(u)).forEach(function(v){Object.defineProperty(t,v,Object.getOwnPropertyDescriptor(u,v));});}}return t;}function n(i,t,v){if(t in i){Object.defineProperty(i,t,{value:v,enumerable:true,configurable:true,writable:true});}else{i[t]=v;}return i;}var p=function(i,t){var u,v;return((u=i.ID)===null||u===void 0?void 0:u.toString())||((v=i.Label)===null||v===void 0?void 0:v.toString())||t;};function q(i,t){var u={id:"",key:"EditableHeaderContent",title:"{sap.fe.i18n>T_COMMON_OBJECT_PAGE_HEADER_SECTION}",visible:"{= ${ui>/editMode} === 'Editable' }",subSections:k(i,t)};return u;}function r(i,t){var u,v;var w=e({Facet:i});var x={id:w,key:p(i,w),title:t.getBindingExpression(i.Label),visible:t.getInverseBindingExpression((u=i.annotations)===null||u===void 0?void 0:(v=u.UI)===null||v===void 0?void 0:v.Hidden,true),subSections:k([i],t)};return x;}function s(i,t){var u=i.id||f(t);var v=i.position;if(!v){v={placement:P.After};}var w;if(!i.subSections){w=n({},t,_({},i,{position:undefined,visible:true}));}else{w=i.subSections;}var x=l(w);var y={id:u,key:t,title:i.title,visible:i.visible!==undefined?i.visible:true,position:v,subSections:d([],x,{"title":"overwrite","actions":"merge"})};return y;}return{convertPage:function(i,t){var u,v,w,x;var y={};var z=t.getManifestWrapper();var B;var D=z.getSections();var E=i.entityType;var F=d(j(i,t),h(z.getHeaderFacets()));var G=d(b(i,t),c(z.getHeaderActions()),{isNavigable:"overwrite"});var J=d(g(i,z.getViewLevel(),t),c(z.getFooterActions()),{isNavigable:"overwrite"});if(z.isHeaderEditable()&&((u=E.annotations.UI)===null||u===void 0?void 0:u.HeaderFacets)){var K;B=q((K=E.annotations.UI)===null||K===void 0?void 0:K.HeaderFacets,t);}var L=((v=E.annotations)===null||v===void 0?void 0:(w=v.UI)===null||w===void 0?void 0:(x=w.Facets)===null||x===void 0?void 0:x.map(function(N){var O=r(N,t);if(D[O.key]){var Q=D[O.key];if(Q.hasOwnProperty("type")&&Q.type===m.XMLFragment||Q.type===m.Default){O=s(Q,O.key);delete D[O.key];}}return O;}))||[];Object.keys(D).forEach(function(N){var O=D[N];y[N]=s(O,N);});return{template:"ObjectPage",headerFacets:F,headerSection:B,headerActions:G,sections:d(L,y,{"title":"overwrite","visible":"overwrite","subSections":{"actions":"merge","title":"overwrite"}}),footerActions:J};}};},false);
