sap.ui.define(["../ManifestSettings", "../controls/ObjectPage/SubSection", "../controls/ObjectPage/HeaderFacet", "../helpers/ID", "../helpers/ConfigurableObject", "sap/fe/core/converters/controls/Common/Action", "sap/fe/core/converters/objectPage/HeaderAndFooterAction"], function (ManifestSettings, SubSection, HeaderFacet, ID, ConfigurableObject, Action, HeaderAndFooterAction) {
  "use strict";

  var getFooterDefaultActions = HeaderAndFooterAction.getFooterDefaultActions;
  var getHeaderDefaultActions = HeaderAndFooterAction.getHeaderDefaultActions;
  var getActionsFromManifest = Action.getActionsFromManifest;
  var Placement = ConfigurableObject.Placement;
  var insertCustomElements = ConfigurableObject.insertCustomElements;
  var SectionID = ID.SectionID;
  var CustomSectionID = ID.CustomSectionID;
  var getHeaderFacetsFromManifest = HeaderFacet.getHeaderFacetsFromManifest;
  var getHeaderFacetsFromAnnotations = HeaderFacet.getHeaderFacetsFromAnnotations;
  var createSubSections = SubSection.createSubSections;
  var createCustomSubSections = SubSection.createCustomSubSections;
  var SectionType = ManifestSettings.SectionType;

  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

  function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

  var getSectionKey = function (facetDefinition, fallback) {
    var _facetDefinition$ID, _facetDefinition$Labe;

    return ((_facetDefinition$ID = facetDefinition.ID) === null || _facetDefinition$ID === void 0 ? void 0 : _facetDefinition$ID.toString()) || ((_facetDefinition$Labe = facetDefinition.Label) === null || _facetDefinition$Labe === void 0 ? void 0 : _facetDefinition$Labe.toString()) || fallback;
  };
  /**
   * Create a section that represents the editable header part, it is only visible in edit mode.
   *
   * @param headerFacets
   * @param converterContext
   * @returns {ObjectPageSection} the section representing the editable header parts
   */


  function createEditableHeaderSection(headerFacets, converterContext) {
    var headerSection = {
      id: "",
      key: "EditableHeaderContent",
      title: "{sap.fe.i18n>T_COMMON_OBJECT_PAGE_HEADER_SECTION}",
      visible: "{= ${ui>/editMode} === 'Editable' }",
      subSections: createSubSections(headerFacets, converterContext)
    };
    return headerSection;
  }
  /**
   * Create an annotation based section.
   *
   * @param facet
   * @param converterContext
   * @returns {ObjectPageSection} the current section
   */


  function createSection(facet, converterContext) {
    var _facet$annotations, _facet$annotations$UI;

    var sectionID = SectionID({
      Facet: facet
    });
    var section = {
      id: sectionID,
      key: getSectionKey(facet, sectionID),
      title: converterContext.getBindingExpression(facet.Label),
      visible: converterContext.getInverseBindingExpression((_facet$annotations = facet.annotations) === null || _facet$annotations === void 0 ? void 0 : (_facet$annotations$UI = _facet$annotations.UI) === null || _facet$annotations$UI === void 0 ? void 0 : _facet$annotations$UI.Hidden, true),
      subSections: createSubSections([facet], converterContext)
    };
    return section;
  }
  /**
   * Create a manifest based custom section.
   *
   * @param customSectionDefinition
   * @param sectionKey
   *
   * @returns {CustomObjectPageSection} the current custom section
   */


  function createCustomSection(customSectionDefinition, sectionKey) {
    var customSectionID = customSectionDefinition.id || CustomSectionID(sectionKey);
    var position = customSectionDefinition.position;

    if (!position) {
      position = {
        placement: Placement.After
      };
    }

    var manifestSubSections;

    if (!customSectionDefinition.subSections) {
      // If there is no subSection defined, we add the content of the custom section as subsections
      // and make sure to set the visibility to 'true', as the actual visibility is handled by the section itself
      manifestSubSections = _defineProperty({}, sectionKey, _objectSpread({}, customSectionDefinition, {
        position: undefined,
        visible: true
      }));
    } else {
      manifestSubSections = customSectionDefinition.subSections;
    }

    var subSections = createCustomSubSections(manifestSubSections);
    var customSection = {
      id: customSectionID,
      key: sectionKey,
      title: customSectionDefinition.title,
      visible: customSectionDefinition.visible !== undefined ? customSectionDefinition.visible : true,
      position: position,
      subSections: insertCustomElements([], subSections, {
        "title": "overwrite",
        "actions": "merge"
      })
    };
    return customSection;
  }

  return {
    convertPage: function (entitySet, converterContext) {
      var _entityType$annotatio, _entityType$annotatio3, _entityType$annotatio4, _entityType$annotatio5;

      var customSections = {};
      var manifestWrapper = converterContext.getManifestWrapper();
      var headerSection;
      var manifestCustomSections = manifestWrapper.getSections();
      var entityType = entitySet.entityType; // Retrieve all header facets (from annotations & custom)

      var headerFacets = insertCustomElements(getHeaderFacetsFromAnnotations(entitySet, converterContext), getHeaderFacetsFromManifest(manifestWrapper.getHeaderFacets())); // Retrieve the page header actions

      var headerActions = insertCustomElements(getHeaderDefaultActions(entitySet, converterContext), getActionsFromManifest(manifestWrapper.getHeaderActions()), {
        isNavigable: "overwrite"
      }); // Retrieve the page footer actions

      var footerActions = insertCustomElements(getFooterDefaultActions(entitySet, manifestWrapper.getViewLevel(), converterContext), getActionsFromManifest(manifestWrapper.getFooterActions()), {
        isNavigable: "overwrite"
      });

      if (manifestWrapper.isHeaderEditable() && ((_entityType$annotatio = entityType.annotations.UI) === null || _entityType$annotatio === void 0 ? void 0 : _entityType$annotatio.HeaderFacets)) {
        var _entityType$annotatio2;

        headerSection = createEditableHeaderSection((_entityType$annotatio2 = entityType.annotations.UI) === null || _entityType$annotatio2 === void 0 ? void 0 : _entityType$annotatio2.HeaderFacets, converterContext);
      } // For each UI.Facet we will create a section


      var objectPageSections = ((_entityType$annotatio3 = entityType.annotations) === null || _entityType$annotatio3 === void 0 ? void 0 : (_entityType$annotatio4 = _entityType$annotatio3.UI) === null || _entityType$annotatio4 === void 0 ? void 0 : (_entityType$annotatio5 = _entityType$annotatio4.Facets) === null || _entityType$annotatio5 === void 0 ? void 0 : _entityType$annotatio5.map(function (facetDefinition) {
        var annotationSection = createSection(facetDefinition, converterContext);

        if (manifestCustomSections[annotationSection.key]) {
          // Add potential override coming from the manifest
          var manifestSectionOverride = manifestCustomSections[annotationSection.key];

          if (manifestSectionOverride.hasOwnProperty("type") && manifestSectionOverride.type === SectionType.XMLFragment || manifestSectionOverride.type === SectionType.Default) {
            // Fully replace the section by a custom section if a type is defined
            annotationSection = createCustomSection(manifestSectionOverride, annotationSection.key);
            delete manifestCustomSections[annotationSection.key];
          }
        }

        return annotationSection;
      })) || [];
      Object.keys(manifestCustomSections).forEach(function (manifestSectionKey) {
        var customSection = manifestCustomSections[manifestSectionKey];
        customSections[manifestSectionKey] = createCustomSection(customSection, manifestSectionKey);
      });
      return {
        template: "ObjectPage",
        headerFacets: headerFacets,
        headerSection: headerSection,
        headerActions: headerActions,
        sections: insertCustomElements(objectPageSections, customSections, {
          "title": "overwrite",
          "visible": "overwrite",
          "subSections": {
            "actions": "merge",
            "title": "overwrite"
          }
        }),
        footerActions: footerActions
      };
    }
  };
}, false);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk9iamVjdFBhZ2VDb252ZXJ0ZXIudHMiXSwibmFtZXMiOlsiZ2V0U2VjdGlvbktleSIsImZhY2V0RGVmaW5pdGlvbiIsImZhbGxiYWNrIiwiSUQiLCJ0b1N0cmluZyIsIkxhYmVsIiwiY3JlYXRlRWRpdGFibGVIZWFkZXJTZWN0aW9uIiwiaGVhZGVyRmFjZXRzIiwiY29udmVydGVyQ29udGV4dCIsImhlYWRlclNlY3Rpb24iLCJpZCIsImtleSIsInRpdGxlIiwidmlzaWJsZSIsInN1YlNlY3Rpb25zIiwiY3JlYXRlU3ViU2VjdGlvbnMiLCJjcmVhdGVTZWN0aW9uIiwiZmFjZXQiLCJzZWN0aW9uSUQiLCJTZWN0aW9uSUQiLCJGYWNldCIsInNlY3Rpb24iLCJnZXRCaW5kaW5nRXhwcmVzc2lvbiIsImdldEludmVyc2VCaW5kaW5nRXhwcmVzc2lvbiIsImFubm90YXRpb25zIiwiVUkiLCJIaWRkZW4iLCJjcmVhdGVDdXN0b21TZWN0aW9uIiwiY3VzdG9tU2VjdGlvbkRlZmluaXRpb24iLCJzZWN0aW9uS2V5IiwiY3VzdG9tU2VjdGlvbklEIiwiQ3VzdG9tU2VjdGlvbklEIiwicG9zaXRpb24iLCJwbGFjZW1lbnQiLCJQbGFjZW1lbnQiLCJBZnRlciIsIm1hbmlmZXN0U3ViU2VjdGlvbnMiLCJ1bmRlZmluZWQiLCJjcmVhdGVDdXN0b21TdWJTZWN0aW9ucyIsImN1c3RvbVNlY3Rpb24iLCJpbnNlcnRDdXN0b21FbGVtZW50cyIsImNvbnZlcnRQYWdlIiwiZW50aXR5U2V0IiwiY3VzdG9tU2VjdGlvbnMiLCJtYW5pZmVzdFdyYXBwZXIiLCJnZXRNYW5pZmVzdFdyYXBwZXIiLCJtYW5pZmVzdEN1c3RvbVNlY3Rpb25zIiwiZ2V0U2VjdGlvbnMiLCJlbnRpdHlUeXBlIiwiZ2V0SGVhZGVyRmFjZXRzRnJvbUFubm90YXRpb25zIiwiZ2V0SGVhZGVyRmFjZXRzRnJvbU1hbmlmZXN0IiwiZ2V0SGVhZGVyRmFjZXRzIiwiaGVhZGVyQWN0aW9ucyIsImdldEhlYWRlckRlZmF1bHRBY3Rpb25zIiwiZ2V0QWN0aW9uc0Zyb21NYW5pZmVzdCIsImdldEhlYWRlckFjdGlvbnMiLCJpc05hdmlnYWJsZSIsImZvb3RlckFjdGlvbnMiLCJnZXRGb290ZXJEZWZhdWx0QWN0aW9ucyIsImdldFZpZXdMZXZlbCIsImdldEZvb3RlckFjdGlvbnMiLCJpc0hlYWRlckVkaXRhYmxlIiwiSGVhZGVyRmFjZXRzIiwib2JqZWN0UGFnZVNlY3Rpb25zIiwiRmFjZXRzIiwibWFwIiwiYW5ub3RhdGlvblNlY3Rpb24iLCJtYW5pZmVzdFNlY3Rpb25PdmVycmlkZSIsImhhc093blByb3BlcnR5IiwidHlwZSIsIlNlY3Rpb25UeXBlIiwiWE1MRnJhZ21lbnQiLCJEZWZhdWx0IiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJtYW5pZmVzdFNlY3Rpb25LZXkiLCJ0ZW1wbGF0ZSIsInNlY3Rpb25zIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBb0JBLE1BQU1BLGFBQWEsR0FBRyxVQUFDQyxlQUFELEVBQThCQyxRQUE5QixFQUEyRDtBQUFBOztBQUNoRixXQUFPLHdCQUFBRCxlQUFlLENBQUNFLEVBQWhCLDRFQUFvQkMsUUFBcEIsaUNBQWtDSCxlQUFlLENBQUNJLEtBQWxELDBEQUFrQyxzQkFBdUJELFFBQXZCLEVBQWxDLEtBQXVFRixRQUE5RTtBQUNBLEdBRkQ7QUFJQTs7Ozs7Ozs7O0FBT0EsV0FBU0ksMkJBQVQsQ0FBcUNDLFlBQXJDLEVBQWlFQyxnQkFBakUsRUFBd0g7QUFDdkgsUUFBTUMsYUFBZ0MsR0FBRztBQUN4Q0MsTUFBQUEsRUFBRSxFQUFFLEVBRG9DO0FBRXhDQyxNQUFBQSxHQUFHLEVBQUUsdUJBRm1DO0FBR3hDQyxNQUFBQSxLQUFLLEVBQUUsbURBSGlDO0FBSXhDQyxNQUFBQSxPQUFPLEVBQUUscUNBSitCO0FBS3hDQyxNQUFBQSxXQUFXLEVBQUVDLGlCQUFpQixDQUFDUixZQUFELEVBQWVDLGdCQUFmO0FBTFUsS0FBekM7QUFPQSxXQUFPQyxhQUFQO0FB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Q2xFLG1CQUFTLFdBRHlEO0FBRWxFLHFCQUFXLFdBRnVEO0FBR2xFLHlCQUFlO0FBQ2QsdUJBQVcsT0FERztBQUVkLHFCQUFTO0FBRks7QUFIbUQsU0FBckMsQ0FMeEI7QUFhTmMsUUFBQUEsYUFBYSxFQUFFQTtBQWJULE9BQVA7QUFlQTtBQXRFYSxHIiwic291cmNlUm9vdCI6Ii4iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGYWNldFR5cGVzLCBIZWFkZXJGYWNldHMgfSBmcm9tIFwiQHNhcC11eC92b2NhYnVsYXJpZXMtdHlwZXNcIjtcbmltcG9ydCB7IE1hbmlmZXN0U2VjdGlvbiwgTWFuaWZlc3RTdWJTZWN0aW9uLCBTZWN0aW9uVHlwZSB9IGZyb20gXCIuLi9NYW5pZmVzdFNldHRpbmdzXCI7XG5pbXBvcnQgeyBQYWdlRGVmaW5pdGlvbiB9IGZyb20gXCIuLi9UZW1wbGF0ZUNvbnZlcnRlclwiO1xuaW1wb3J0IHsgRW50aXR5U2V0LCBFbnRpdHlUeXBlIH0gZnJvbSBcIkBzYXAtdXgvYW5ub3RhdGlvbi1jb252ZXJ0ZXJcIjtcbmltcG9ydCB7IGNyZWF0ZUN1c3RvbVN1YlNlY3Rpb25zLCBjcmVhdGVTdWJTZWN0aW9ucywgQ3VzdG9tT2JqZWN0UGFnZVNlY3Rpb24sIE9iamVjdFBhZ2VTZWN0aW9uIH0gZnJvbSBcIi4uL2NvbnRyb2xzL09iamVjdFBhZ2UvU3ViU2VjdGlvblwiO1xuaW1wb3J0IHsgZ2V0SGVhZGVyRmFjZXRzRnJvbUFubm90YXRpb25zLCBnZXRIZWFkZXJGYWNldHNGcm9tTWFuaWZlc3QsIE9iamVjdFBhZ2VIZWFkZXJGYWNldCB9IGZyb20gXCIuLi9jb250cm9scy9PYmplY3RQYWdlL0hlYWRlckZhY2V0XCI7XG5pbXBvcnQgeyBDb252ZXJ0ZXJDb250ZXh0IH0gZnJvbSBcIi4vQmFzZUNvbnZlcnRlclwiO1xuaW1wb3J0IHsgQ3VzdG9tU2VjdGlvbklELCBTZWN0aW9uSUQgfSBmcm9tIFwiLi4vaGVscGVycy9JRFwiO1xuaW1wb3J0IHsgaW5zZXJ0Q3VzdG9tRWxlbWVudHMsIFBsYWNlbWVudCwgUG9zaXRpb24gfSBmcm9tIFwiLi4vaGVscGVycy9Db25maWd1cmFibGVPYmplY3RcIjtcbmltcG9ydCB7IEJhc2VBY3Rpb24sIGdldEFjdGlvbnNGcm9tTWFuaWZlc3QgfSBmcm9tIFwic2FwL2ZlL2NvcmUvY29udmVydGVycy9jb250cm9scy9Db21tb24vQWN0aW9uXCI7XG5pbXBvcnQgeyBnZXRIZWFkZXJEZWZhdWx0QWN0aW9ucywgZ2V0Rm9vdGVyRGVmYXVsdEFjdGlvbnMgfSBmcm9tIFwic2FwL2ZlL2NvcmUvY29udmVydGVycy9vYmplY3RQYWdlL0hlYWRlckFuZEZvb3RlckFjdGlvblwiO1xuXG50eXBlIE9iamVjdFBhZ2VEZWZpbml0aW9uID0gUGFnZURlZmluaXRpb24gJiB7XG5cdGhlYWRlckZhY2V0czogT2JqZWN0UGFnZUhlYWRlckZhY2V0W107XG5cdGhlYWRlclNlY3Rpb24/OiBPYmplY3RQYWdlU2VjdGlvbjtcblx0aGVhZGVyQWN0aW9uczogQmFzZUFjdGlvbltdO1xuXHRzZWN0aW9uczogT2JqZWN0UGFnZVNlY3Rpb25bXTtcblx0Zm9vdGVyQWN0aW9uczogQmFzZUFjdGlvbltdO1xufTtcblxuY29uc3QgZ2V0U2VjdGlvbktleSA9IChmYWNldERlZmluaXRpb246IEZhY2V0VHlwZXMsIGZhbGxiYWNrOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuXHRyZXR1cm4gZmFjZXREZWZpbml0aW9uLklEPy50b1N0cmluZygpIHx8IGZhY2V0RGVmaW5pdGlvbi5MYWJlbD8udG9TdHJpbmcoKSB8fCBmYWxsYmFjaztcbn07XG5cbi8qKlxuICogQ3JlYXRlIGEgc2VjdGlvbiB0aGF0IHJlcHJlc2VudHMgdGhlIGVkaXRhYmxlIGhlYWRlciBwYXJ0LCBpdCBpcyBvbmx5IHZpc2libGUgaW4gZWRpdCBtb2RlLlxuICpcbiAqIEBwYXJhbSBoZWFkZXJGYWNldHNcbiAqIEBwYXJhbSBjb252ZXJ0ZXJDb250ZXh0XG4gKiBAcmV0dXJucyB7T2JqZWN0UGFnZVNlY3Rpb259IHRoZSBzZWN0aW9uIHJlcHJlc2VudGluZyB0aGUgZWRpdGFibGUgaGVhZGVyIHBhcnRzXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUVkaXRhYmxlSGVhZGVyU2VjdGlvbihoZWFkZXJGYWNldHM6IEhlYWRlckZhY2V0cywgY29udmVydGVyQ29udGV4dDogQ29udmVydGVyQ29udGV4dCk6IE9iamVjdFBhZ2VTZWN0aW9uIHtcblx0Y29uc3QgaGVhZGVyU2VjdGlvbjogT2JqZWN0UGFnZVNlY3Rpb24gPSB7XG5cdFx0aWQ6IFwiXCIsXG5cdFx0a2V5OiBcIkVkaXRhYmxlSGVhZGVyQ29udGVudFwiLFxuXHRcdHRpdGxlOiBcIntzYXAuZmUuaTE4bj5UX0NPTU1PTl9PQkpFQ1RfUEFHRV9IRUFERVJfU0VDVElPTn1cIixcblx0XHR2aXNpYmxlOiBcIns9ICR7dWk+L2VkaXRNb2RlfSA9PT0gJ0VkaXRhYmxlJyB9XCIsXG5cdFx0c3ViU2VjdGlvbnM6IGNyZWF0ZVN1YlNlY3Rpb25zKGhlYWRlckZhY2V0cywgY29udmVydGVyQ29udGV4dClcblx0fTtcblx0cmV0dXJuIGhlYWRlclNlY3Rpb247XG59XG5cbi8qKlxuICogQ3JlYXRlIGFuIGFubm90YXRpb24gYmFzZWQgc2VjdGlvbi5cbiAqXG4gKiBAcGFyYW0gZmFjZXRcbiAqIEBwYXJhbSBjb252ZXJ0ZXJDb250ZXh0XG4gKiBAcmV0dXJucyB7T2JqZWN0UGFnZVNlY3Rpb259IHRoZSBjdXJyZW50IHNlY3Rpb25cbiAqL1xuZnVuY3Rpb24gY3JlYXRlU2VjdGlvbihmYWNldDogRmFjZXRUeXBlcywgY29udmVydGVyQ29udGV4dDogQ29udmVydGVyQ29udGV4dCk6IE9iamVjdFBhZ2VTZWN0aW9uIHtcblx0Y29uc3Qgc2VjdGlvbklEID0gU2VjdGlvbklEKHsgRmFjZXQ6IGZhY2V0IH0pO1xuXHRjb25zdCBzZWN0aW9uOiBPYmplY3RQYWdlU2VjdGlvbiA9IHtcblx0XHRpZDogc2VjdGlvbklELFxuXHRcdGtleTogZ2V0U2VjdGlvbktleShmYWNldCwgc2VjdGlvbklEKSxcblx0XHR0aXRsZTogY29udmVydGVyQ29udGV4dC5nZXRCaW5kaW5nRXhwcmVzc2lvbihmYWNldC5MYWJlbCksXG5cdFx0dmlzaWJsZTogY29udmVydGVyQ29udGV4dC5nZXRJbnZlcnNlQmluZGluZ0V4cHJlc3Npb24oZmFjZXQuYW5ub3RhdGlvbnM/LlVJPy5IaWRkZW4sIHRydWUpLFxuXHRcdHN1YlNlY3Rpb25zOiBjcmVhdGVTdWJTZWN0aW9ucyhbZmFjZXRdLCBjb252ZXJ0ZXJDb250ZXh0KVxuXHR9O1xuXHRyZXR1cm4gc2VjdGlvbjtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBtYW5pZmVzdCBiYXNlZCBjdXN0b20gc2VjdGlvbi5cbiAqXG4gKiBAcGFyYW0gY3VzdG9tU2VjdGlvbkRlZmluaXRpb25cbiAqIEBwYXJhbSBzZWN0aW9uS2V5XG4gKlxuICogQHJldHVybnMge0N1c3RvbU9iamVjdFBhZ2VTZWN0aW9ufSB0aGUgY3VycmVudCBjdXN0b20gc2VjdGlvblxuICovXG5mdW5jdGlvbiBjcmVhdGVDdXN0b21TZWN0aW9uKGN1c3RvbVNlY3Rpb25EZWZpbml0aW9uOiBNYW5pZmVzdFNlY3Rpb24sIHNlY3Rpb25LZXk6IHN0cmluZyk6IEN1c3RvbU9iamVjdFBhZ2VTZWN0aW9uIHtcblx0Y29uc3QgY3VzdG9tU2VjdGlvbklEID0gY3VzdG9tU2VjdGlvbkRlZmluaXRpb24uaWQgfHwgQ3VzdG9tU2VjdGlvbklEKHNlY3Rpb25LZXkpO1xuXHRsZXQgcG9zaXRpb246IFBvc2l0aW9uIHwgdW5kZWZpbmVkID0gY3VzdG9tU2VjdGlvbkRlZmluaXRpb24ucG9zaXRpb247XG5cdGlmICghcG9zaXRpb24pIHtcblx0XHRwb3NpdGlvbiA9IHtcblx0XHRcdHBsYWNlbWVudDogUGxhY2VtZW50LkFmdGVyXG5cdFx0fTtcblx0fVxuXHRsZXQgbWFuaWZlc3RTdWJTZWN0aW9uczogUmVjb3JkPHN0cmluZywgTWFuaWZlc3RTdWJTZWN0aW9uPjtcblx0aWYgKCFjdXN0b21TZWN0aW9uRGVmaW5pdGlvbi5zdWJTZWN0aW9ucykge1xuXHRcdC8vIElmIHRoZXJlIGlzIG5vIHN1YlNlY3Rpb24gZGVmaW5lZCwgd2UgYWRkIHRoZSBjb250ZW50IG9mIHRoZSBjdXN0b20gc2VjdGlvbiBhcyBzdWJzZWN0aW9uc1xuXHRcdC8vIGFuZCBtYWtlIHN1cmUgdG8gc2V0IHRoZSB2aXNpYmlsaXR5IHRvICd0cnVlJywgYXMgdGhlIGFjdHVhbCB2aXNpYmlsaXR5IGlzIGhhbmRsZWQgYnkgdGhlIHNlY3Rpb24gaXRzZWxmXG5cdFx0bWFuaWZlc3RTdWJTZWN0aW9ucyA9IHtcblx0XHRcdFtzZWN0aW9uS2V5XToge1xuXHRcdFx0XHQuLi5jdXN0b21TZWN0aW9uRGVmaW5pdGlvbixcblx0XHRcdFx0cG9zaXRpb246IHVuZGVmaW5lZCxcblx0XHRcdFx0dmlzaWJsZTogdHJ1ZVxuXHRcdFx0fVxuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0bWFuaWZlc3RTdWJTZWN0aW9ucyA9IGN1c3RvbVNlY3Rpb25EZWZpbml0aW9uLnN1YlNlY3Rpb25zO1xuXHR9XG5cdGNvbnN0IHN1YlNlY3Rpb25zID0gY3JlYXRlQ3VzdG9tU3ViU2VjdGlvbnMobWFuaWZlc3RTdWJTZWN0aW9ucyk7XG5cblx0Y29uc3QgY3VzdG9tU2VjdGlvbjogQ3VzdG9tT2JqZWN0UGFnZVNlY3Rpb24gPSB7XG5cdFx0aWQ6IGN1c3RvbVNlY3Rpb25JRCxcblx0XHRrZXk6IHNlY3Rpb25LZXksXG5cdFx0dGl0bGU6IGN1c3RvbVNlY3Rpb25EZWZpbml0aW9uLnRpdGxlLFxuXHRcdHZpc2libGU6IGN1c3RvbVNlY3Rpb25EZWZpbml0aW9uLnZpc2libGUgIT09IHVuZGVmaW5lZCA/IGN1c3RvbVNlY3Rpb25EZWZpbml0aW9uLnZpc2libGUgOiB0cnVlLFxuXHRcdHBvc2l0aW9uOiBwb3NpdGlvbixcblx0XHRzdWJTZWN0aW9uczogaW5zZXJ0Q3VzdG9tRWxlbWVudHMoW10sIHN1YlNlY3Rpb25zLCB7IFwidGl0bGVcIjogXCJvdmVyd3JpdGVcIiwgXCJhY3Rpb25zXCI6IFwibWVyZ2VcIiB9KVxuXHR9O1xuXHRyZXR1cm4gY3VzdG9tU2VjdGlvbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuXHRjb252ZXJ0UGFnZShlbnRpdHlTZXQ6IEVudGl0eVNldCwgY29udmVydGVyQ29udGV4dDogQ29udmVydGVyQ29udGV4dCk6IE9iamVjdFBhZ2VEZWZpbml0aW9uIHtcblx0XHRjb25zdCBjdXN0b21TZWN0aW9uczogUmVjb3JkPHN0cmluZywgQ3VzdG9tT2JqZWN0UGFnZVNlY3Rpb24+ID0ge307XG5cdFx0Y29uc3QgbWFuaWZlc3RXcmFwcGVyID0gY29udmVydGVyQ29udGV4dC5nZXRNYW5pZmVzdFdyYXBwZXIoKTtcblx0XHRsZXQgaGVhZGVyU2VjdGlvbjogT2JqZWN0UGFnZVNlY3Rpb24gfCB1bmRlZmluZWQ7XG5cdFx0Y29uc3QgbWFuaWZlc3RDdXN0b21TZWN0aW9ucyA9IG1hbmlmZXN0V3JhcHBlci5nZXRTZWN0aW9ucygpO1xuXHRcdGNvbnN0IGVudGl0eVR5cGU6IEVudGl0eVR5cGUgPSBlbnRpdHlTZXQuZW50aXR5VHlwZTtcblxuXHRcdC8vIFJldHJpZXZlIGFsbCBoZWFkZXIgZmFjZXRzIChmcm9tIGFubm90YXRpb25zICYgY3VzdG9tKVxuXHRcdGNvbnN0IGhlYWRlckZhY2V0cyA9IGluc2VydEN1c3RvbUVsZW1lbnRzKFxuXHRcdFx0Z2V0SGVhZGVyRmFjZXRzRnJvbUFubm90YXRpb25zKGVudGl0eVNldCwgY29udmVydGVyQ29udGV4dCksXG5cdFx0XHRnZXRIZWFkZXJGYWNldHNGcm9tTWFuaWZlc3QobWFuaWZlc3RXcmFwcGVyLmdldEhlYWRlckZhY2V0cygpKVxuXHRcdCk7XG5cblx0XHQvLyBSZXRyaWV2ZSB0aGUgcGFnZSBoZWFkZXIgYWN0aW9uc1xuXHRcdGNvbnN0IGhlYWRlckFjdGlvbnMgPSBpbnNlcnRDdXN0b21FbGVtZW50cyhcblx0XHRcdGdldEhlYWRlckRlZmF1bHRBY3Rpb25zKGVudGl0eVNldCwgY29udmVydGVyQ29udGV4dCksXG5cdFx0XHRnZXRBY3Rpb25zRnJvbU1hbmlmZXN0KG1hbmlmZXN0V3JhcHBlci5nZXRIZWFkZXJBY3Rpb25zKCkpLFxuXHRcdFx0eyBpc05hdmlnYWJsZTogXCJvdmVyd3JpdGVcIiB9XG5cdFx0KTtcblx0XHQvLyBSZXRyaWV2ZSB0aGUgcGFnZSBmb290ZXIgYWN0aW9uc1xuXHRcdGNvbnN0IGZvb3RlckFjdGlvbnMgPSBpbnNlcnRDdXN0b21FbGVtZW50cyhcblx0XHRcdGdldEZvb3RlckRlZmF1bHRBY3Rpb25zKGVudGl0eVNldCwgbWFuaWZlc3RXcmFwcGVyLmdldFZpZXdMZXZlbCgpLCBjb252ZXJ0ZXJDb250ZXh0KSxcblx0XHRcdGdldEFjdGlvbnNGcm9tTWFuaWZlc3QobWFuaWZlc3RXcmFwcGVyLmdldEZvb3RlckFjdGlvbnMoKSksXG5cdFx0XHR7IGlzTmF2aWdhYmxlOiBcIm92ZXJ3cml0ZVwiIH1cblx0XHQpO1xuXG5cdFx0aWYgKG1hbmlmZXN0V3JhcHBlci5pc0hlYWRlckVkaXRhYmxlKCkgJiYgZW50aXR5VHlwZS5hbm5vdGF0aW9ucy5VST8uSGVhZGVyRmFjZXRzKSB7XG5cdFx0XHRoZWFkZXJTZWN0aW9uID0gY3JlYXRlRWRpdGFibGVIZWFkZXJTZWN0aW9uKGVudGl0eVR5cGUuYW5ub3RhdGlvbnMuVUk/LkhlYWRlckZhY2V0cywgY29udmVydGVyQ29udGV4dCk7XG5cdFx0fVxuXG5cdFx0Ly8gRm9yIGVhY2ggVUkuRmFjZXQgd2Ugd2lsbCBjcmVhdGUgYSBzZWN0aW9uXG5cdFx0Y29uc3Qgb2JqZWN0UGFnZVNlY3Rpb25zOiBPYmplY3RQYWdlU2VjdGlvbltdID1cblx0XHRcdGVudGl0eVR5cGUuYW5ub3RhdGlvbnM/LlVJPy5GYWNldHM/Lm1hcCgoZmFjZXREZWZpbml0aW9uOiBGYWNldFR5cGVzKSA9PiB7XG5cdFx0XHRcdGxldCBhbm5vdGF0aW9uU2VjdGlvbiA9IGNyZWF0ZVNlY3Rpb24oZmFjZXREZWZpbml0aW9uLCBjb252ZXJ0ZXJDb250ZXh0KTtcblx0XHRcdFx0aWYgKG1hbmlmZXN0Q3VzdG9tU2VjdGlvbnNbYW5ub3RhdGlvblNlY3Rpb24ua2V5XSkge1xuXHRcdFx0XHRcdC8vIEFkZCBwb3RlbnRpYWwgb3ZlcnJpZGUgY29taW5nIGZyb20gdGhlIG1hbmlmZXN0XG5cdFx0XHRcdFx0Y29uc3QgbWFuaWZlc3RTZWN0aW9uT3ZlcnJpZGUgPSBtYW5pZmVzdEN1c3RvbVNlY3Rpb25zW2Fubm90YXRpb25TZWN0aW9uLmtleV07XG5cdFx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdFx0KG1hbmlmZXN0U2VjdGlvbk92ZXJyaWRlLmhhc093blByb3BlcnR5KFwidHlwZVwiKSAmJiBtYW5pZmVzdFNlY3Rpb25PdmVycmlkZS50eXBlID09PSBTZWN0aW9uVHlwZS5YTUxGcmFnbWVudCkgfHxcblx0XHRcdFx0XHRcdG1hbmlmZXN0U2VjdGlvbk92ZXJyaWRlLnR5cGUgPT09IFNlY3Rpb25UeXBlLkRlZmF1bHRcblx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdC8vIEZ1bGx5IHJlcGxhY2UgdGhlIHNlY3Rpb24gYnkgYSBjdXN0b20gc2VjdGlvbiBpZiBhIHR5cGUgaXMgZGVmaW5lZFxuXHRcdFx0XHRcdFx0YW5ub3RhdGlvblNlY3Rpb24gPSBjcmVhdGVDdXN0b21TZWN0aW9uKG1hbmlmZXN0U2VjdGlvbk92ZXJyaWRlLCBhbm5vdGF0aW9uU2VjdGlvbi5rZXkpO1xuXHRcdFx0XHRcdFx0ZGVsZXRlIG1hbmlmZXN0Q3VzdG9tU2VjdGlvbnNbYW5ub3RhdGlvblNlY3Rpb24ua2V5XTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGFubm90YXRpb25TZWN0aW9uO1xuXHRcdFx0fSkgfHwgW107XG5cblx0XHRPYmplY3Qua2V5cyhtYW5pZmVzdEN1c3RvbVNlY3Rpb25zKS5mb3JFYWNoKG1hbmlmZXN0U2VjdGlvbktleSA9PiB7XG5cdFx0XHRjb25zdCBjdXN0b21TZWN0aW9uOiBNYW5pZmVzdFNlY3Rpb24gPSBtYW5pZmVzdEN1c3RvbVNlY3Rpb25zW21hbmlmZXN0U2VjdGlvbktleV07XG5cdFx0XHRjdXN0b21TZWN0aW9uc1ttYW5pZmVzdFNlY3Rpb25LZXldID0gY3JlYXRlQ3VzdG9tU2VjdGlvbihjdXN0b21TZWN0aW9uLCBtYW5pZmVzdFNlY3Rpb25LZXkpO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRlbXBsYXRlOiBcIk9iamVjdFBhZ2VcIixcblx0XHRcdGhlYWRlckZhY2V0czogaGVhZGVyRmFjZXRzLFxuXHRcdFx0aGVhZGVyU2VjdGlvbjogaGVhZGVyU2VjdGlvbixcblx0XHRcdGhlYWRlckFjdGlvbnM6IGhlYWRlckFjdGlvbnMsXG5cdFx0XHRzZWN0aW9uczogaW5zZXJ0Q3VzdG9tRWxlbWVudHMob2JqZWN0UGFnZVNlY3Rpb25zLCBjdXN0b21TZWN0aW9ucywge1xuXHRcdFx0XHRcInRpdGxlXCI6IFwib3ZlcndyaXRlXCIsXG5cdFx0XHRcdFwidmlzaWJsZVwiOiBcIm92ZXJ3cml0ZVwiLFxuXHRcdFx0XHRcInN1YlNlY3Rpb25zXCI6IHtcblx0XHRcdFx0XHRcImFjdGlvbnNcIjogXCJtZXJnZVwiLFxuXHRcdFx0XHRcdFwidGl0bGVcIjogXCJvdmVyd3JpdGVcIlxuXHRcdFx0XHR9XG5cdFx0XHR9KSxcblx0XHRcdGZvb3RlckFjdGlvbnM6IGZvb3RlckFjdGlvbnNcblx0XHR9O1xuXHR9XG59O1xuIl19