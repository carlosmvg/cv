sap.ui.define(["sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/BindingExpression","sap/fe/core/converters/helpers/BindingHelper","sap/fe/core/templating/PropertyHelper"],function(M,B,a,P){"use strict";var _={};var i=P.isPathExpression;var g=P.getAssociatedUnitProperty;var b=P.isReadOnlyExpression;var c=P.isNonEditableExpression;var d=P.isKey;var e=P.isImmutable;var f=P.isDisabledExpression;var h=P.isComputed;var j=P.hasValueHelp;var k=P.hasSemanticObject;var U=a.UI;var l=B.constant;var m=B.bindingExpression;var o=B.or;var n=B.isConstant;var p=B.ifElse;var q=B.equals;var r=B.compileBinding;var s=B.and;var t=M.convertMetaModelContext;var u=function(A){var C=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!A||typeof A==="string"){return r(false);}var D=i(A)&&A.$target||A;var E=p(o(h(D),d(D),e(D),k(D)&&!j(D),c(D)),p(e(D)||d(D)&&!h(D),U.IsTransientBinding,false),U.IsEditable);if(C){return E;}return r(E);};_.getEditableExpression=u;var v=function(A,C){var D;var E=true;var F=i(C)?C.path:"";var S=F.indexOf("/")>-1?F.split("/")[0]:"";if(typeof A.Updatable==="boolean"){E=l(A.Updatable);}else if((D=A.Updatable)===null||D===void 0?void 0:D.$Path){var G;var H=(S?S+"/":"")+((G=A.Updatable)===null||G===void 0?void 0:G.$Path);E=m(H);}return q(E,l(true));};_.getUpdatableExpression=v;var w=function(A){var C=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!A||typeof A==="string"){return r(true);}var D=i(A)&&A.$target||A;var E=p(f(D),false,true);if(C){return E;}return r(E);};_.getEnabledExpression=w;var x=function(A){var S=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var C=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var D=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var E=arguments.length>4?arguments[4]:undefined;if(!A||typeof A==="string"){return"Display";}var F=i(A)&&A.$target||A;if(S==="Display"||S==="ReadOnly"||S==="Disabled"){return r(S);}var G=u(A,true);if(S==="Editable"){G=p(o(h(F),k(F)&&!j(F)),false,true);}else if(C==="CreationRow"){G=p(o(h(F),k(F)&&!j(F),c(F)),false,U.IsEditable);}var H=w(A,true);var I=g(F);var J="Editable";if(I){J=p(o(b(I),h(I)),"EditableReadOnly","Editable");}var K=b(F);var L=p(H,p(G,J,p(s(!n(K)&&K,U.IsEditable),"ReadOnly","Display")),"Disabled");if(E){var N=v(E,A);L=p(N,L,"Display");}if(D){return L;}return r(L);};_.getEditMode=x;var y=function(A,E){var C,D,F,G,H,I,J;var S=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"";var K=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";var L=arguments.length>4?arguments[4]:undefined;if(!A||typeof A==="string"){return"Display";}var N=i(A)&&A.$target||A;var O=i(E)&&E.$target||E;var T=(C=N.annotations)===null||C===void 0?void 0:(D=C.Common)===null||D===void 0?void 0:D.Text;var Q=(T===null||T===void 0?void 0:(F=T.annotations)===null||F===void 0?void 0:(G=F.UI)===null||G===void 0?void 0:G.TextArrangement)||(O===null||O===void 0?void 0:(H=O.entityType)===null||H===void 0?void 0:(I=H.annotations)===null||I===void 0?void 0:(J=I.UI)===null||J===void 0?void 0:J.TextArrangement);var R=T?"DescriptionValue":"Value";if(T&&Q){if(Q==="UI.TextArrangementType/TextOnly"){R="Description";}else if(Q==="UI.TextArrangementType/TextLast"){R="ValueDescription";}else{R="DescriptionValue";}}if(j(N)){return r(R);}else{if(R!=="Description"&&K==="VHTable"){R="Value";}return r(p(q(x(A,S,K,true,L),"Editable"),"Value",R));}};_.getFieldDisplay=y;var z=function(C,I){if(I&&I.context){return t(I.context);}return null;};z.requiresIContext=true;_.getConverterContext=z;return _;},false);
