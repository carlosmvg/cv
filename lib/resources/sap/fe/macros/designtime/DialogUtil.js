/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/core/Fragment","sap/ui/model/resource/ResourceModel","sap/ui/model/json/JSONModel","sap/fe/core/library"],function(F,R,J,a){"use strict";var C=a.CreationMode,r=new R({bundleName:"sap.fe.macros.designtime.messagebundle",async:true}),o=new Promise(function(d,e){r.attachRequestCompleted(d);}),s={dialog:null},T="ResponsiveTableType",b="GridTableType";function c(d,S,e){return new Promise(function(f,g){var h="settingsDialogFragment";s.resolve=f;Promise.all([s.dialog?Promise.resolve(s.dialog):F.load({id:h,name:"sap.fe.macros.designtime.fragments.SettingsDialog",controller:{apply:function(E){var i={selectedOption:s.dialog.getContent()[0].getItems()[1].getSelectedButton().data("selectedOption"),checked:s.dialog.getContent()[0].getItems().length>2?s.dialog.getContent()[0].getItems()[2].getSelected():undefined};s.dialog.close();s.resolve(i);},cancel:function(){s.dialog.close();s.resolve();}}}),o]).then(function(j){var D=j[0],O={},k,l,m;if(d==="changeCreationMode"){m=S||C.Inline;O.radioOptions=[{option:C.NewPage,text:r.getProperty("TABLE_CREATIONMODE_NEWPAGE")},{option:C.Inline,text:r.getProperty("TABLE_CREATIONMODE_INLINE")},{option:C.CreationRow,text:r.getProperty("TABLE_CREATIONMODE_CREATIONROW")}];O.checkOptions={checked:e};}else if(d==="changeTableType"){m=S||T;O.radioOptions=[{option:T,text:r.getProperty("TABLE_TABLETYPE_RESPONSIVE")},{option:b,text:r.getProperty("TABLE_TABLETYPE_GRID")}];}s.dialog=D;for(var i=0;i<O.radioOptions.length;i++){if(O.radioOptions[i].option===m){l=i;break;}}k=new J({initialMode:m,selectedIndex:l,options:O.radioOptions,checkOptions:O.checkOptions,changeType:d});D.setModel(k,"dm");D.setModel(r,"i18n");D.open();}).catch(g);});}return{createSettingsDialog:c};});
